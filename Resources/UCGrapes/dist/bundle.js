/*! For license information please see bundle.js.LICENSE.txt */
(()=>{var e={2:(e,t,A)=>{var n=A(2199),i=A(4664),r=A(5950);e.exports=function(e){return n(e,r,i)}},79:(e,t,A)=>{var n=A(3702),i=A(80),r=A(4739),o=A(8655),s=A(1175);function a(e){var t=-1,A=null==e?0:e.length;for(this.clear();++t<A;){var n=e[t];this.set(n[0],n[1])}}a.prototype.clear=n,a.prototype.delete=i,a.prototype.get=r,a.prototype.has=o,a.prototype.set=s,e.exports=a},80:(e,t,A)=>{var n=A(6025),i=Array.prototype.splice;e.exports=function(e){var t=this.__data__,A=n(t,e);return!(A<0||(A==t.length-1?t.pop():i.call(t,A,1),--this.size,0))}},104:(e,t,A)=>{var n=A(3661);function i(e,t){if("function"!=typeof e||null!=t&&"function"!=typeof t)throw new TypeError("Expected a function");var A=function(){var n=arguments,i=t?t.apply(this,n):n[0],r=A.cache;if(r.has(i))return r.get(i);var o=e.apply(this,n);return A.cache=r.set(i,o)||r,o};return A.cache=new(i.Cache||n),A}i.Cache=n,e.exports=i},181:e=>{e.exports=function(e){var t=[];if(null!=e)for(var A in Object(e))t.push(A);return t}},270:(e,t,A)=>{var n=A(7068),i=A(346);e.exports=function e(t,A,r,o,s){return t===A||(null==t||null==A||!i(t)&&!i(A)?t!=t&&A!=A:n(t,A,r,o,e,s))}},289:(e,t,A)=>{var n=A(2651);e.exports=function(e){return n(this,e).get(e)}},294:e=>{e.exports=function(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=9007199254740991}},317:e=>{e.exports=function(e){var t=-1,A=Array(e.size);return e.forEach((function(e,n){A[++t]=[n,e]})),A}},346:e=>{e.exports=function(e){return null!=e&&"object"==typeof e}},354:function(e){e.exports=function(){"use strict";var e=function(t,A){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var A in t)Object.prototype.hasOwnProperty.call(t,A)&&(e[A]=t[A])},e(t,A)};function t(t,A){if("function"!=typeof A&&null!==A)throw new TypeError("Class extends value "+String(A)+" is not a constructor or null");function n(){this.constructor=t}e(t,A),t.prototype=null===A?Object.create(A):(n.prototype=A.prototype,new n)}var A=function(){return A=Object.assign||function(e){for(var t,A=1,n=arguments.length;A<n;A++)for(var i in t=arguments[A])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},A.apply(this,arguments)};function n(e,t,A,n){return new(A||(A=Promise))((function(i,r){function o(e){try{a(n.next(e))}catch(e){r(e)}}function s(e){try{a(n.throw(e))}catch(e){r(e)}}function a(e){var t;e.done?i(e.value):(t=e.value,t instanceof A?t:new A((function(e){e(t)}))).then(o,s)}a((n=n.apply(e,t||[])).next())}))}function i(e,t){var A,n,i,r,o={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return r={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function s(r){return function(s){return function(r){if(A)throw new TypeError("Generator is already executing.");for(;o;)try{if(A=1,n&&(i=2&r[0]?n.return:r[0]?n.throw||((i=n.return)&&i.call(n),0):n.next)&&!(i=i.call(n,r[1])).done)return i;switch(n=0,i&&(r=[2&r[0],i.value]),r[0]){case 0:case 1:i=r;break;case 4:return o.label++,{value:r[1],done:!1};case 5:o.label++,n=r[1],r=[0];continue;case 7:r=o.ops.pop(),o.trys.pop();continue;default:if(!((i=(i=o.trys).length>0&&i[i.length-1])||6!==r[0]&&2!==r[0])){o=0;continue}if(3===r[0]&&(!i||r[1]>i[0]&&r[1]<i[3])){o.label=r[1];break}if(6===r[0]&&o.label<i[1]){o.label=i[1],i=r;break}if(i&&o.label<i[2]){o.label=i[2],o.ops.push(r);break}i[2]&&o.ops.pop(),o.trys.pop();continue}r=t.call(e,o)}catch(e){r=[6,e],n=0}finally{A=i=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}([r,s])}}}function r(e,t,A){if(A||2===arguments.length)for(var n,i=0,r=t.length;i<r;i++)!n&&i in t||(n||(n=Array.prototype.slice.call(t,0,i)),n[i]=t[i]);return e.concat(n||t)}for(var o=function(){function e(e,t,A,n){this.left=e,this.top=t,this.width=A,this.height=n}return e.prototype.add=function(t,A,n,i){return new e(this.left+t,this.top+A,this.width+n,this.height+i)},e.fromClientRect=function(t,A){return new e(A.left+t.windowBounds.left,A.top+t.windowBounds.top,A.width,A.height)},e.fromDOMRectList=function(t,A){var n=Array.from(A).find((function(e){return 0!==e.width}));return n?new e(n.left+t.windowBounds.left,n.top+t.windowBounds.top,n.width,n.height):e.EMPTY},e.EMPTY=new e(0,0,0,0),e}(),s=function(e,t){return o.fromClientRect(e,t.getBoundingClientRect())},a=function(e){for(var t=[],A=0,n=e.length;A<n;){var i=e.charCodeAt(A++);if(i>=55296&&i<=56319&&A<n){var r=e.charCodeAt(A++);56320==(64512&r)?t.push(((1023&i)<<10)+(1023&r)+65536):(t.push(i),A--)}else t.push(i)}return t},l=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];if(String.fromCodePoint)return String.fromCodePoint.apply(String,e);var A=e.length;if(!A)return"";for(var n=[],i=-1,r="";++i<A;){var o=e[i];o<=65535?n.push(o):(o-=65536,n.push(55296+(o>>10),o%1024+56320)),(i+1===A||n.length>16384)&&(r+=String.fromCharCode.apply(String,n),n.length=0)}return r},c="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",d="undefined"==typeof Uint8Array?[]:new Uint8Array(256),u=0;u<64;u++)d[c.charCodeAt(u)]=u;for(var h="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",p="undefined"==typeof Uint8Array?[]:new Uint8Array(256),g=0;g<64;g++)p[h.charCodeAt(g)]=g;for(var f=function(e,t,A){return e.slice?e.slice(t,A):new Uint16Array(Array.prototype.slice.call(e,t,A))},m=function(){function e(e,t,A,n,i,r){this.initialValue=e,this.errorValue=t,this.highStart=A,this.highValueIndex=n,this.index=i,this.data=r}return e.prototype.get=function(e){var t;if(e>=0){if(e<55296||e>56319&&e<=65535)return t=((t=this.index[e>>5])<<2)+(31&e),this.data[t];if(e<=65535)return t=((t=this.index[2048+(e-55296>>5)])<<2)+(31&e),this.data[t];if(e<this.highStart)return t=2080+(e>>11),t=this.index[t],t+=e>>5&63,t=((t=this.index[t])<<2)+(31&e),this.data[t];if(e<=1114111)return this.data[this.highValueIndex]}return this.errorValue},e}(),v="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",B="undefined"==typeof Uint8Array?[]:new Uint8Array(256),w=0;w<64;w++)B[v.charCodeAt(w)]=w;var y=10,C=13,b=15,I=17,E=18,Q=19,U=20,x=21,F=22,T=24,L=25,S=26,H=27,M=28,k=30,P=32,N=33,D=34,O=35,_=37,V=38,$=39,j=40,K=42,R=[9001,65288],q="ร",G="รท",W=function(e){var t,A,n,i=function(e){var t,A,n,i,r,o=.75*e.length,s=e.length,a=0;"="===e[e.length-1]&&(o--,"="===e[e.length-2]&&o--);var l="undefined"!=typeof ArrayBuffer&&"undefined"!=typeof Uint8Array&&void 0!==Uint8Array.prototype.slice?new ArrayBuffer(o):new Array(o),c=Array.isArray(l)?l:new Uint8Array(l);for(t=0;t<s;t+=4)A=p[e.charCodeAt(t)],n=p[e.charCodeAt(t+1)],i=p[e.charCodeAt(t+2)],r=p[e.charCodeAt(t+3)],c[a++]=A<<2|n>>4,c[a++]=(15&n)<<4|i>>2,c[a++]=(3&i)<<6|63&r;return l}(e),r=Array.isArray(i)?function(e){for(var t=e.length,A=[],n=0;n<t;n+=4)A.push(e[n+3]<<24|e[n+2]<<16|e[n+1]<<8|e[n]);return A}(i):new Uint32Array(i),o=Array.isArray(i)?function(e){for(var t=e.length,A=[],n=0;n<t;n+=2)A.push(e[n+1]<<8|e[n]);return A}(i):new Uint16Array(i),s=f(o,12,r[4]/2),a=2===r[5]?f(o,(24+r[4])/2):(t=r,A=Math.ceil((24+r[4])/4),t.slice?t.slice(A,n):new Uint32Array(Array.prototype.slice.call(t,A,n)));return new m(r[0],r[1],r[2],r[3],s,a)}("KwAAAAAAAAAACA4AUD0AADAgAAACAAAAAAAIABAAGABAAEgAUABYAGAAaABgAGgAYgBqAF8AZwBgAGgAcQB5AHUAfQCFAI0AlQCdAKIAqgCyALoAYABoAGAAaABgAGgAwgDKAGAAaADGAM4A0wDbAOEA6QDxAPkAAQEJAQ8BFwF1AH0AHAEkASwBNAE6AUIBQQFJAVEBWQFhAWgBcAF4ATAAgAGGAY4BlQGXAZ8BpwGvAbUBvQHFAc0B0wHbAeMB6wHxAfkBAQIJAvEBEQIZAiECKQIxAjgCQAJGAk4CVgJeAmQCbAJ0AnwCgQKJApECmQKgAqgCsAK4ArwCxAIwAMwC0wLbAjAA4wLrAvMC+AIAAwcDDwMwABcDHQMlAy0DNQN1AD0DQQNJA0kDSQNRA1EDVwNZA1kDdQB1AGEDdQBpA20DdQN1AHsDdQCBA4kDkQN1AHUAmQOhA3UAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AKYDrgN1AHUAtgO+A8YDzgPWAxcD3gPjA+sD8wN1AHUA+wMDBAkEdQANBBUEHQQlBCoEFwMyBDgEYABABBcDSARQBFgEYARoBDAAcAQzAXgEgASIBJAEdQCXBHUAnwSnBK4EtgS6BMIEyAR1AHUAdQB1AHUAdQCVANAEYABgAGAAYABgAGAAYABgANgEYADcBOQEYADsBPQE/AQEBQwFFAUcBSQFLAU0BWQEPAVEBUsFUwVbBWAAYgVgAGoFcgV6BYIFigWRBWAAmQWfBaYFYABgAGAAYABgAKoFYACxBbAFuQW6BcEFwQXHBcEFwQXPBdMF2wXjBeoF8gX6BQIGCgYSBhoGIgYqBjIGOgZgAD4GRgZMBmAAUwZaBmAAYABgAGAAYABgAGAAYABgAGAAYABgAGIGYABpBnAGYABgAGAAYABgAGAAYABgAGAAYAB4Bn8GhQZgAGAAYAB1AHcDFQSLBmAAYABgAJMGdQA9A3UAmwajBqsGqwaVALMGuwbDBjAAywbSBtIG1QbSBtIG0gbSBtIG0gbdBuMG6wbzBvsGAwcLBxMHAwcbByMHJwcsBywHMQcsB9IGOAdAB0gHTgfSBkgHVgfSBtIG0gbSBtIG0gbSBtIG0gbSBiwHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAdgAGAALAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAdbB2MHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsB2kH0gZwB64EdQB1AHUAdQB1AHUAdQB1AHUHfQdgAIUHjQd1AHUAlQedB2AAYAClB6sHYACzB7YHvgfGB3UAzgfWBzMB3gfmB1EB7gf1B/0HlQENAQUIDQh1ABUIHQglCBcDLQg1CD0IRQhNCEEDUwh1AHUAdQBbCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIcAh3CHoIMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIgggwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAALAcsBywHLAcsBywHLAcsBywHLAcsB4oILAcsB44I0gaWCJ4Ipgh1AHUAqgiyCHUAdQB1AHUAdQB1AHUAdQB1AHUAtwh8AXUAvwh1AMUIyQjRCNkI4AjoCHUAdQB1AO4I9gj+CAYJDgkTCS0HGwkjCYIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiAAIAAAAFAAYABgAGIAXwBgAHEAdQBFAJUAogCyAKAAYABgAEIA4ABGANMA4QDxAMEBDwE1AFwBLAE6AQEBUQF4QkhCmEKoQrhCgAHIQsAB0MLAAcABwAHAAeDC6ABoAHDCwMMAAcABwAHAAdDDGMMAAcAB6MM4wwjDWMNow3jDaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAEjDqABWw6bDqABpg6gAaABoAHcDvwOPA+gAaABfA/8DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DpcPAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcAB9cPKwkyCToJMAB1AHUAdQBCCUoJTQl1AFUJXAljCWcJawkwADAAMAAwAHMJdQB2CX4JdQCECYoJjgmWCXUAngkwAGAAYABxAHUApgn3A64JtAl1ALkJdQDACTAAMAAwADAAdQB1AHUAdQB1AHUAdQB1AHUAowYNBMUIMAAwADAAMADICcsJ0wnZCRUE4QkwAOkJ8An4CTAAMAB1AAAKvwh1AAgKDwoXCh8KdQAwACcKLgp1ADYKqAmICT4KRgowADAAdQB1AE4KMAB1AFYKdQBeCnUAZQowADAAMAAwADAAMAAwADAAMAAVBHUAbQowADAAdQC5CXUKMAAwAHwBxAijBogEMgF9CoQKiASMCpQKmgqIBKIKqgquCogEDQG2Cr4KxgrLCjAAMADTCtsKCgHjCusK8Qr5CgELMAAwADAAMAB1AIsECQsRC3UANAEZCzAAMAAwADAAMAB1ACELKQswAHUANAExCzkLdQBBC0kLMABRC1kLMAAwADAAMAAwADAAdQBhCzAAMAAwAGAAYABpC3ELdwt/CzAAMACHC4sLkwubC58Lpwt1AK4Ltgt1APsDMAAwADAAMAAwADAAMAAwAL4LwwvLC9IL1wvdCzAAMADlC+kL8Qv5C/8LSQswADAAMAAwADAAMAAwADAAMAAHDDAAMAAwADAAMAAODBYMHgx1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1ACYMMAAwADAAdQB1AHUALgx1AHUAdQB1AHUAdQA2DDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AD4MdQBGDHUAdQB1AHUAdQB1AEkMdQB1AHUAdQB1AFAMMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQBYDHUAdQB1AF8MMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUA+wMVBGcMMAAwAHwBbwx1AHcMfwyHDI8MMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAYABgAJcMMAAwADAAdQB1AJ8MlQClDDAAMACtDCwHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsB7UMLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AA0EMAC9DDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAsBywHLAcsBywHLAcsBywHLQcwAMEMyAwsBywHLAcsBywHLAcsBywHLAcsBywHzAwwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAHUAdQB1ANQM2QzhDDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMABgAGAAYABgAGAAYABgAOkMYADxDGAA+AwADQYNYABhCWAAYAAODTAAMAAwADAAFg1gAGAAHg37AzAAMAAwADAAYABgACYNYAAsDTQNPA1gAEMNPg1LDWAAYABgAGAAYABgAGAAYABgAGAAUg1aDYsGVglhDV0NcQBnDW0NdQ15DWAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAlQCBDZUAiA2PDZcNMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAnw2nDTAAMAAwADAAMAAwAHUArw23DTAAMAAwADAAMAAwADAAMAAwADAAMAB1AL8NMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAB1AHUAdQB1AHUAdQDHDTAAYABgAM8NMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAA1w11ANwNMAAwAD0B5A0wADAAMAAwADAAMADsDfQN/A0EDgwOFA4wABsOMAAwADAAMAAwADAAMAAwANIG0gbSBtIG0gbSBtIG0gYjDigOwQUuDsEFMw7SBjoO0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGQg5KDlIOVg7SBtIGXg5lDm0OdQ7SBtIGfQ6EDooOjQ6UDtIGmg6hDtIG0gaoDqwO0ga0DrwO0gZgAGAAYADEDmAAYAAkBtIGzA5gANIOYADaDokO0gbSBt8O5w7SBu8O0gb1DvwO0gZgAGAAxA7SBtIG0gbSBtIGYABgAGAAYAAED2AAsAUMD9IG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGFA8sBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAccD9IGLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHJA8sBywHLAcsBywHLAccDywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywPLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAc0D9IG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAccD9IG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGFA8sBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHPA/SBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gYUD0QPlQCVAJUAMAAwADAAMACVAJUAlQCVAJUAlQCVAEwPMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAA//8EAAQABAAEAAQABAAEAAQABAANAAMAAQABAAIABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQACgATABcAHgAbABoAHgAXABYAEgAeABsAGAAPABgAHABLAEsASwBLAEsASwBLAEsASwBLABgAGAAeAB4AHgATAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQABYAGwASAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAWAA0AEQAeAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAFAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAJABYAGgAbABsAGwAeAB0AHQAeAE8AFwAeAA0AHgAeABoAGwBPAE8ADgBQAB0AHQAdAE8ATwAXAE8ATwBPABYAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAFAAUABQAFAAUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAB4AHgAeAFAATwBAAE8ATwBPAEAATwBQAFAATwBQAB4AHgAeAB4AHgAeAB0AHQAdAB0AHgAdAB4ADgBQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgBQAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAJAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAkACQAJAAkACQAJAAkABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAFAAHgAeAB4AKwArAFAAUABQAFAAGABQACsAKwArACsAHgAeAFAAHgBQAFAAUAArAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAUAAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAYAA0AKwArAB4AHgAbACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQADQAEAB4ABAAEAB4ABAAEABMABAArACsAKwArACsAKwArACsAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAKwArACsAKwBWAFYAVgBWAB4AHgArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AGgAaABoAGAAYAB4AHgAEAAQABAAEAAQABAAEAAQABAAEAAQAEwAEACsAEwATAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABLAEsASwBLAEsASwBLAEsASwBLABoAGQAZAB4AUABQAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQABMAUAAEAAQABAAEAAQABAAEAB4AHgAEAAQABAAEAAQABABQAFAABAAEAB4ABAAEAAQABABQAFAASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUAAeAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAFAABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQAUABQAB4AHgAYABMAUAArACsABAAbABsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAFAABAAEAAQABAAEAFAABAAEAAQAUAAEAAQABAAEAAQAKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAArACsAHgArAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAUAAEAAQABAAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAABAAEAA0ADQBLAEsASwBLAEsASwBLAEsASwBLAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUAArACsAKwBQAFAAUABQACsAKwAEAFAABAAEAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABABQACsAKwArACsAKwArACsAKwAEACsAKwArACsAUABQACsAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAFAAUAAaABoAUABQAFAAUABQAEwAHgAbAFAAHgAEACsAKwAEAAQABAArAFAAUABQAFAAUABQACsAKwArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQACsAUABQACsAKwAEACsABAAEAAQABAAEACsAKwArACsABAAEACsAKwAEAAQABAArACsAKwAEACsAKwArACsAKwArACsAUABQAFAAUAArAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLAAQABABQAFAAUAAEAB4AKwArACsAKwArACsAKwArACsAKwAEAAQABAArAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQACsAKwAEAFAABAAEAAQABAAEAAQABAAEACsABAAEAAQAKwAEAAQABAArACsAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAB4AGwArACsAKwArACsAKwArAFAABAAEAAQABAAEAAQAKwAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABAArACsAKwArACsAKwArAAQABAAEACsAKwArACsAUABQACsAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAB4AUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArAAQAUAArAFAAUABQAFAAUABQACsAKwArAFAAUABQACsAUABQAFAAUAArACsAKwBQAFAAKwBQACsAUABQACsAKwArAFAAUAArACsAKwBQAFAAUAArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArAAQABAAEAAQABAArACsAKwAEAAQABAArAAQABAAEAAQAKwArAFAAKwArACsAKwArACsABAArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAHgAeAB4AHgAeAB4AGwAeACsAKwArACsAKwAEAAQABAAEAAQAUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAUAAEAAQABAAEAAQABAAEACsABAAEAAQAKwAEAAQABAAEACsAKwArACsAKwArACsABAAEACsAUABQAFAAKwArACsAKwArAFAAUAAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAKwAOAFAAUABQAFAAUABQAFAAHgBQAAQABAAEAA4AUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAKwArAAQAUAAEAAQABAAEAAQABAAEACsABAAEAAQAKwAEAAQABAAEACsAKwArACsAKwArACsABAAEACsAKwArACsAKwArACsAUAArAFAAUAAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwBQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAFAABAAEAAQABAAEAAQABAArAAQABAAEACsABAAEAAQABABQAB4AKwArACsAKwBQAFAAUAAEAFAAUABQAFAAUABQAFAAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAFAAUABQAFAAUABQAFAAUABQABoAUABQAFAAUABQAFAAKwAEAAQABAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQACsAUAArACsAUABQAFAAUABQAFAAUAArACsAKwAEACsAKwArACsABAAEAAQABAAEAAQAKwAEACsABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArAAQABAAeACsAKwArACsAKwArACsAKwArACsAKwArAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAAqAFwAXAAqACoAKgAqACoAKgAqACsAKwArACsAGwBcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAeAEsASwBLAEsASwBLAEsASwBLAEsADQANACsAKwArACsAKwBcAFwAKwBcACsAXABcAFwAXABcACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACsAXAArAFwAXABcAFwAXABcAFwAXABcAFwAKgBcAFwAKgAqACoAKgAqACoAKgAqACoAXAArACsAXABcAFwAXABcACsAXAArACoAKgAqACoAKgAqACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwBcAFwAXABcAFAADgAOAA4ADgAeAA4ADgAJAA4ADgANAAkAEwATABMAEwATAAkAHgATAB4AHgAeAAQABAAeAB4AHgAeAB4AHgBLAEsASwBLAEsASwBLAEsASwBLAFAAUABQAFAAUABQAFAAUABQAFAADQAEAB4ABAAeAAQAFgARABYAEQAEAAQAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQADQAEAAQABAAEAAQADQAEAAQAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArAA0ADQAeAB4AHgAeAB4AHgAEAB4AHgAeAB4AHgAeACsAHgAeAA4ADgANAA4AHgAeAB4AHgAeAAkACQArACsAKwArACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgBcAEsASwBLAEsASwBLAEsASwBLAEsADQANAB4AHgAeAB4AXABcAFwAXABcAFwAKgAqACoAKgBcAFwAXABcACoAKgAqAFwAKgAqACoAXABcACoAKgAqACoAKgAqACoAXABcAFwAKgAqACoAKgBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAqACoAKgAqAFwAKgBLAEsASwBLAEsASwBLAEsASwBLACoAKgAqACoAKgAqAFAAUABQAFAAUABQACsAUAArACsAKwArACsAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgBQAFAAUABQAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUAArACsAUABQAFAAUABQAFAAUAArAFAAKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAKwBQACsAUABQAFAAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsABAAEAAQAHgANAB4AHgAeAB4AHgAeAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUAArACsADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAANAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAWABEAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAA0ADQANAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAANAA0AKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUAArAAQABAArACsAKwArACsAKwArACsAKwArACsAKwBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqAA0ADQAVAFwADQAeAA0AGwBcACoAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwAeAB4AEwATAA0ADQAOAB4AEwATAB4ABAAEAAQACQArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUAAEAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAHgArACsAKwATABMASwBLAEsASwBLAEsASwBLAEsASwBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAArACsAXABcAFwAXABcACsAKwArACsAKwArACsAKwArACsAKwBcAFwAXABcAFwAXABcAFwAXABcAFwAXAArACsAKwArAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAXAArACsAKwAqACoAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAArACsAHgAeAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAqACoAKwAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKwArAAQASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArACoAKgAqACoAKgAqACoAXAAqACoAKgAqACoAKgArACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsABAAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABABQAFAAUABQAFAAUABQACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwANAA0AHgANAA0ADQANAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAEAAQAHgAeAB4AHgAeAB4AHgAeAB4AKwArACsABAAEAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwAeAB4AHgAeAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArAA0ADQANAA0ADQBLAEsASwBLAEsASwBLAEsASwBLACsAKwArAFAAUABQAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAA0ADQBQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUAAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArAAQABAAEAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAAQAUABQAFAAUABQAFAABABQAFAABAAEAAQAUAArACsAKwArACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsABAAEAAQABAAEAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAKwBQACsAUAArAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgBQAB4AHgAeAFAAUABQACsAHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQACsAKwAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAFAAUABQACsAHgAeAB4AHgAeAB4AHgAOAB4AKwANAA0ADQANAA0ADQANAAkADQANAA0ACAAEAAsABAAEAA0ACQANAA0ADAAdAB0AHgAXABcAFgAXABcAFwAWABcAHQAdAB4AHgAUABQAFAANAAEAAQAEAAQABAAEAAQACQAaABoAGgAaABoAGgAaABoAHgAXABcAHQAVABUAHgAeAB4AHgAeAB4AGAAWABEAFQAVABUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ADQAeAA0ADQANAA0AHgANAA0ADQAHAB4AHgAeAB4AKwAEAAQABAAEAAQABAAEAAQABAAEAFAAUAArACsATwBQAFAAUABQAFAAHgAeAB4AFgARAE8AUABPAE8ATwBPAFAAUABQAFAAUAAeAB4AHgAWABEAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArABsAGwAbABsAGwAbABsAGgAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGgAbABsAGwAbABoAGwAbABoAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAHgAeAFAAGgAeAB0AHgBQAB4AGgAeAB4AHgAeAB4AHgAeAB4AHgBPAB4AUAAbAB4AHgBQAFAAUABQAFAAHgAeAB4AHQAdAB4AUAAeAFAAHgBQAB4AUABPAFAAUAAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAHgBQAFAAUABQAE8ATwBQAFAAUABQAFAATwBQAFAATwBQAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAFAAUABQAFAATwBPAE8ATwBPAE8ATwBPAE8ATwBQAFAAUABQAFAAUABQAFAAUAAeAB4AUABQAFAAUABPAB4AHgArACsAKwArAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB4AHQAdAB4AHgAeAB0AHQAeAB4AHQAeAB4AHgAdAB4AHQAbABsAHgAdAB4AHgAeAB4AHQAeAB4AHQAdAB0AHQAeAB4AHQAeAB0AHgAdAB0AHQAdAB0AHQAeAB0AHgAeAB4AHgAeAB0AHQAdAB0AHgAeAB4AHgAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB4AHgAeAB0AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHgAeAB0AHQAdAB0AHgAeAB0AHQAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAeAB4AHgAdAB4AHgAeAB4AHgAeAB4AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABYAEQAWABEAHgAeAB4AHgAeAB4AHQAeAB4AHgAeAB4AHgAeACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAWABEAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAFAAHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAeAB4AHQAdAB0AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB4AHQAdAB4AHgAeAB4AHQAdAB4AHgAeAB4AHQAdAB0AHgAeAB0AHgAeAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlAB4AHQAdAB4AHgAdAB4AHgAeAB4AHQAdAB4AHgAeAB4AJQAlAB0AHQAlAB4AJQAlACUAIAAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAeAB4AHgAeAB0AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHgAdAB0AHQAeAB0AJQAdAB0AHgAdAB0AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAdAB0AHQAdACUAHgAlACUAJQAdACUAJQAdAB0AHQAlACUAHQAdACUAHQAdACUAJQAlAB4AHQAeAB4AHgAeAB0AHQAlAB0AHQAdAB0AHQAdACUAJQAlACUAJQAdACUAJQAgACUAHQAdACUAJQAlACUAJQAlACUAJQAeAB4AHgAlACUAIAAgACAAIAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AFwAXABcAFwAXABcAHgATABMAJQAeAB4AHgAWABEAFgARABYAEQAWABEAFgARABYAEQAWABEATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABYAEQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAWABEAFgARABYAEQAWABEAFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFgARABYAEQAWABEAFgARABYAEQAWABEAFgARABYAEQAWABEAFgARABYAEQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAWABEAFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAEAAQABAAeAB4AKwArACsAKwArABMADQANAA0AUAATAA0AUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAUAANACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAA0ADQANAA0ADQANAA0ADQAeAA0AFgANAB4AHgAXABcAHgAeABcAFwAWABEAFgARABYAEQAWABEADQANAA0ADQATAFAADQANAB4ADQANAB4AHgAeAB4AHgAMAAwADQANAA0AHgANAA0AFgANAA0ADQANAA0ADQANAA0AHgANAB4ADQANAB4AHgAeACsAKwArACsAKwArACsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwArACsAKwArACsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArAA0AEQARACUAJQBHAFcAVwAWABEAFgARABYAEQAWABEAFgARACUAJQAWABEAFgARABYAEQAWABEAFQAWABEAEQAlAFcAVwBXAFcAVwBXAFcAVwBXAAQABAAEAAQABAAEACUAVwBXAFcAVwA2ACUAJQBXAFcAVwBHAEcAJQAlACUAKwBRAFcAUQBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFEAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBRAFcAUQBXAFEAVwBXAFcAVwBXAFcAUQBXAFcAVwBXAFcAVwBRAFEAKwArAAQABAAVABUARwBHAFcAFQBRAFcAUQBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBRAFcAVwBXAFcAVwBXAFEAUQBXAFcAVwBXABUAUQBHAEcAVwArACsAKwArACsAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwAlACUAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACsAKwArACsAKwArACsAKwArACsAKwArAFEAUQBRAFEAUQBRAFEAUQBRAFEAUQBRAFEAUQBRAFEAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBPAE8ATwBPAE8ATwBPAE8AJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQAlAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAEcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAADQATAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABLAEsASwBLAEsASwBLAEsASwBLAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAABAAEAAQABAAeAAQABAAEAAQABAAEAAQABAAEAAQAHgBQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUABQAAQABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAeAA0ADQANAA0ADQArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAB4AHgAeAB4AHgAeAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAHgAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAeAB4AUABQAFAAUABQAFAAUABQAFAAUABQAAQAUABQAFAABABQAFAAUABQAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAeAB4AHgAeAAQAKwArACsAUABQAFAAUABQAFAAHgAeABoAHgArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAADgAOABMAEwArACsAKwArACsAKwArACsABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwANAA0ASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAFAAUAAeAB4AHgBQAA4AUABQAAQAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAA0ADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArAB4AWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYACsAKwArAAQAHgAeAB4AHgAeAB4ADQANAA0AHgAeAB4AHgArAFAASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArAB4AHgBcAFwAXABcAFwAKgBcAFwAXABcAFwAXABcAFwAXABcAEsASwBLAEsASwBLAEsASwBLAEsAXABcAFwAXABcACsAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArAFAAUABQAAQAUABQAFAAUABQAFAAUABQAAQABAArACsASwBLAEsASwBLAEsASwBLAEsASwArACsAHgANAA0ADQBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKgAqACoAXAAqACoAKgBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAAqAFwAKgAqACoAXABcACoAKgBcAFwAXABcAFwAKgAqAFwAKgBcACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFwAXABcACoAKgBQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAA0ADQBQAFAAUAAEAAQAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUAArACsAUABQAFAAUABQAFAAKwArAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQADQAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAVABVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBUAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVACsAKwArACsAKwArACsAKwArACsAKwArAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAKwArACsAKwBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAKwArACsAKwAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAKwArACsAKwArAFYABABWAFYAVgBWAFYAVgBWAFYAVgBWAB4AVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgArAFYAVgBWAFYAVgArAFYAKwBWAFYAKwBWAFYAKwBWAFYAVgBWAFYAVgBWAFYAVgBWAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAEQAWAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAaAB4AKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAGAARABEAGAAYABMAEwAWABEAFAArACsAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACUAJQAlACUAJQAWABEAFgARABYAEQAWABEAFgARABYAEQAlACUAFgARACUAJQAlACUAJQAlACUAEQAlABEAKwAVABUAEwATACUAFgARABYAEQAWABEAJQAlACUAJQAlACUAJQAlACsAJQAbABoAJQArACsAKwArAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAcAKwATACUAJQAbABoAJQAlABYAEQAlACUAEQAlABEAJQBXAFcAVwBXAFcAVwBXAFcAVwBXABUAFQAlACUAJQATACUAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXABYAJQARACUAJQAlAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAWACUAEQAlABYAEQARABYAEQARABUAVwBRAFEAUQBRAFEAUQBRAFEAUQBRAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAEcARwArACsAVwBXAFcAVwBXAFcAKwArAFcAVwBXAFcAVwBXACsAKwBXAFcAVwBXAFcAVwArACsAVwBXAFcAKwArACsAGgAbACUAJQAlABsAGwArAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwAEAAQABAAQAB0AKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsADQANAA0AKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAB4AHgAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAAQAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAA0AUABQAFAAUAArACsAKwArAFAAUABQAFAAUABQAFAAUAANAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwAeACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAKwArAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUAArACsAKwBQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwANAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAB4AUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAUABQAFAAUABQAAQABAAEACsABAAEACsAKwArACsAKwAEAAQABAAEAFAAUABQAFAAKwBQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEACsAKwArACsABABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAA0ADQANAA0ADQANAA0ADQAeACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAArACsAKwArAFAAUABQAFAAUAANAA0ADQANAA0ADQAUACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsADQANAA0ADQANAA0ADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAAQABAAEAAQAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUAArAAQABAANACsAKwBQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAB4AHgAeAB4AHgArACsAKwArACsAKwAEAAQABAAEAAQABAAEAA0ADQAeAB4AHgAeAB4AKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgANAA0ADQANACsAKwArACsAKwArACsAKwArACsAKwAeACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsASwBLAEsASwBLAEsASwBLAEsASwANAA0ADQANAFAABAAEAFAAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAeAA4AUAArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAADQANAB4ADQAEAAQABAAEAB4ABAAEAEsASwBLAEsASwBLAEsASwBLAEsAUAAOAFAADQANAA0AKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAANAA0AHgANAA0AHgAEACsAUABQAFAAUABQAFAAUAArAFAAKwBQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAA0AKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsABAAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQACsABAAEAFAABAAEAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABAArACsAUAArACsAKwArACsAKwAEACsAKwArACsAKwBQAFAAUABQAFAABAAEACsAKwAEAAQABAAEAAQABAAEACsAKwArAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwArACsABAAEAAQABAAEAAQABABQAFAAUABQAA0ADQANAA0AHgBLAEsASwBLAEsASwBLAEsASwBLAA0ADQArAB4ABABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAAQABAAEAFAAUAAeAFAAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAArACsABAAEAAQABAAEAAQABAAEAAQADgANAA0AEwATAB4AHgAeAA0ADQANAA0ADQANAA0ADQANAA0ADQANAA0ADQANAFAAUABQAFAABAAEACsAKwAEAA0ADQAeAFAAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKwArACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBcAFwADQANAA0AKgBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAKwArAFAAKwArAFAAUABQAFAAUABQAFAAUAArAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQAKwAEAAQAKwArAAQABAAEAAQAUAAEAFAABAAEAA0ADQANACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAArACsABAAEAAQABAAEAAQABABQAA4AUAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAFAABAAEAAQABAAOAB4ADQANAA0ADQAOAB4ABAArACsAKwArACsAKwArACsAUAAEAAQABAAEAAQABAAEAAQABAAEAAQAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAA0ADQANAFAADgAOAA4ADQANACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEACsABAAEAAQABAAEAAQABAAEAFAADQANAA0ADQANACsAKwArACsAKwArACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwAOABMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAArACsAKwAEACsABAAEACsABAAEAAQABAAEAAQABABQAAQAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAKwBQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQAKwAEAAQAKwAEAAQABAAEAAQAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAaABoAGgAaAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsADQANAA0ADQANACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAASABIAEgAQwBDAEMAUABQAFAAUABDAFAAUABQAEgAQwBIAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAASABDAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwAJAAkACQAJAAkACQAJABYAEQArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABIAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwANAA0AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEAAQABAANACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAA0ADQANAB4AHgAeAB4AHgAeAFAAUABQAFAADQAeACsAKwArACsAKwArACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAANAA0AHgAeACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwAEAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAARwBHABUARwAJACsAKwArACsAKwArACsAKwArACsAKwAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACsAKwArACsAKwArACsAKwBXAFcAVwBXAFcAVwBXAFcAVwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUQBRAFEAKwArACsAKwArACsAKwArACsAKwArACsAKwBRAFEAUQBRACsAKwArACsAKwArACsAKwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUAArACsAHgAEAAQADQAEAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArAB4AHgAeAB4AHgAeAB4AKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAAQABAAEAAQABAAeAB4AHgAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAB4AHgAEAAQABAAEAAQABAAEAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQAHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwBQAFAAKwArAFAAKwArAFAAUAArACsAUABQAFAAUAArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAUAArAFAAUABQAFAAUABQAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAHgAeAFAAUABQAFAAUAArAFAAKwArACsAUABQAFAAUABQAFAAUAArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeACsAKwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4ABAAeAB4AHgAeAB4AHgAeAB4AHgAeAAQAHgAeAA0ADQANAA0AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAAQABAAEAAQAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArAAQABAAEAAQABAAEAAQAKwAEAAQAKwAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwAEAAQABAAEAAQABAAEAFAAUABQAFAAUABQAFAAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwBQAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArABsAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArAB4AHgAeAB4ABAAEAAQABAAEAAQABABQACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArABYAFgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAGgBQAFAAUAAaAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAKwBQACsAKwBQACsAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwBQACsAUAArACsAKwArACsAKwBQACsAKwArACsAUAArAFAAKwBQACsAUABQAFAAKwBQAFAAKwBQACsAKwBQACsAUAArAFAAKwBQACsAUAArAFAAUAArAFAAKwArAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUAArAFAAUABQAFAAKwBQACsAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAUABQAFAAKwBQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8AJQAlACUAHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB4AHgAeACUAJQAlAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAJQAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlAB4AHgAlACUAJQAlACUAHgAlACUAJQAlACUAIAAgACAAJQAlACAAJQAlACAAIAAgACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACEAIQAhACEAIQAlACUAIAAgACUAJQAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlACUAIAAlACUAJQAlACAAIAAgACUAIAAgACAAJQAlACUAJQAlACUAJQAgACUAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAlAB4AJQAeACUAJQAlACUAJQAgACUAJQAlACUAHgAlAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAJQAlACUAJQAgACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACAAIAAgACUAJQAlACAAIAAgACAAIAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABcAFwAXABUAFQAVAB4AHgAeAB4AJQAlACUAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAgACUAJQAlACUAJQAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAgACUAJQAgACUAJQAlACUAJQAlACUAJQAgACAAIAAgACAAIAAgACAAJQAlACUAJQAlACUAIAAlACUAJQAlACUAJQAlACUAJQAgACAAIAAgACAAIAAgACAAIAAgACUAJQAgACAAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAgACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAlACAAIAAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAgACAAIAAlACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwArAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACUAVwBXACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAA=="),Z=[k,36],z=[1,2,3,5],J=[y,8],X=[H,S],Y=z.concat(J),ee=[V,$,j,D,O],te=[b,C],Ae=function(e,t,A,n){var i=n[A];if(Array.isArray(e)?-1!==e.indexOf(i):e===i)for(var r=A;r<=n.length;){if((a=n[++r])===t)return!0;if(a!==y)break}if(i===y)for(r=A;r>0;){var o=n[--r];if(Array.isArray(e)?-1!==e.indexOf(o):e===o)for(var s=A;s<=n.length;){var a;if((a=n[++s])===t)return!0;if(a!==y)break}if(o!==y)break}return!1},ne=function(e,t){for(var A=e;A>=0;){var n=t[A];if(n!==y)return n;A--}return 0},ie=function(e,t,A,n,i){if(0===A[n])return q;var r=n-1;if(Array.isArray(i)&&!0===i[r])return q;var o=r-1,s=r+1,a=t[r],l=o>=0?t[o]:0,c=t[s];if(2===a&&3===c)return q;if(-1!==z.indexOf(a))return"!";if(-1!==z.indexOf(c))return q;if(-1!==J.indexOf(c))return q;if(8===ne(r,t))return G;if(11===W.get(e[r]))return q;if((a===P||a===N)&&11===W.get(e[s]))return q;if(7===a||7===c)return q;if(9===a)return q;if(-1===[y,C,b].indexOf(a)&&9===c)return q;if(-1!==[I,E,Q,T,M].indexOf(c))return q;if(ne(r,t)===F)return q;if(Ae(23,F,r,t))return q;if(Ae([I,E],x,r,t))return q;if(Ae(12,12,r,t))return q;if(a===y)return G;if(23===a||23===c)return q;if(16===c||16===a)return G;if(-1!==[C,b,x].indexOf(c)||14===a)return q;if(36===l&&-1!==te.indexOf(a))return q;if(a===M&&36===c)return q;if(c===U)return q;if(-1!==Z.indexOf(c)&&a===L||-1!==Z.indexOf(a)&&c===L)return q;if(a===H&&-1!==[_,P,N].indexOf(c)||-1!==[_,P,N].indexOf(a)&&c===S)return q;if(-1!==Z.indexOf(a)&&-1!==X.indexOf(c)||-1!==X.indexOf(a)&&-1!==Z.indexOf(c))return q;if(-1!==[H,S].indexOf(a)&&(c===L||-1!==[F,b].indexOf(c)&&t[s+1]===L)||-1!==[F,b].indexOf(a)&&c===L||a===L&&-1!==[L,M,T].indexOf(c))return q;if(-1!==[L,M,T,I,E].indexOf(c))for(var d=r;d>=0;){if((u=t[d])===L)return q;if(-1===[M,T].indexOf(u))break;d--}if(-1!==[H,S].indexOf(c))for(d=-1!==[I,E].indexOf(a)?o:r;d>=0;){var u;if((u=t[d])===L)return q;if(-1===[M,T].indexOf(u))break;d--}if(V===a&&-1!==[V,$,D,O].indexOf(c)||-1!==[$,D].indexOf(a)&&-1!==[$,j].indexOf(c)||-1!==[j,O].indexOf(a)&&c===j)return q;if(-1!==ee.indexOf(a)&&-1!==[U,S].indexOf(c)||-1!==ee.indexOf(c)&&a===H)return q;if(-1!==Z.indexOf(a)&&-1!==Z.indexOf(c))return q;if(a===T&&-1!==Z.indexOf(c))return q;if(-1!==Z.concat(L).indexOf(a)&&c===F&&-1===R.indexOf(e[s])||-1!==Z.concat(L).indexOf(c)&&a===E)return q;if(41===a&&41===c){for(var h=A[r],p=1;h>0&&41===t[--h];)p++;if(p%2!=0)return q}return a===P&&c===N?q:G},re=function(e,t){t||(t={lineBreak:"normal",wordBreak:"normal"});var A=function(e,t){void 0===t&&(t="strict");var A=[],n=[],i=[];return e.forEach((function(e,r){var o=W.get(e);if(o>50?(i.push(!0),o-=50):i.push(!1),-1!==["normal","auto","loose"].indexOf(t)&&-1!==[8208,8211,12316,12448].indexOf(e))return n.push(r),A.push(16);if(4===o||11===o){if(0===r)return n.push(r),A.push(k);var s=A[r-1];return-1===Y.indexOf(s)?(n.push(n[r-1]),A.push(s)):(n.push(r),A.push(k))}return n.push(r),31===o?A.push("strict"===t?x:_):o===K||29===o?A.push(k):43===o?e>=131072&&e<=196605||e>=196608&&e<=262141?A.push(_):A.push(k):void A.push(o)})),[n,A,i]}(e,t.lineBreak),n=A[0],i=A[1],r=A[2];"break-all"!==t.wordBreak&&"break-word"!==t.wordBreak||(i=i.map((function(e){return-1!==[L,k,K].indexOf(e)?_:e})));var o="keep-all"===t.wordBreak?r.map((function(t,A){return t&&e[A]>=19968&&e[A]<=40959})):void 0;return[n,i,o]},oe=function(){function e(e,t,A,n){this.codePoints=e,this.required="!"===t,this.start=A,this.end=n}return e.prototype.slice=function(){return l.apply(void 0,this.codePoints.slice(this.start,this.end))},e}(),se=45,ae=43,le=-1,ce=function(e){return e>=48&&e<=57},de=function(e){return ce(e)||e>=65&&e<=70||e>=97&&e<=102},ue=function(e){return 10===e||9===e||32===e},he=function(e){return function(e){return function(e){return e>=97&&e<=122}(e)||function(e){return e>=65&&e<=90}(e)}(e)||function(e){return e>=128}(e)||95===e},pe=function(e){return he(e)||ce(e)||e===se},ge=function(e){return e>=0&&e<=8||11===e||e>=14&&e<=31||127===e},fe=function(e,t){return 92===e&&10!==t},me=function(e,t,A){return e===se?he(t)||fe(t,A):!!he(e)||!(92!==e||!fe(e,t))},ve=function(e,t,A){return e===ae||e===se?!!ce(t)||46===t&&ce(A):ce(46===e?t:e)},Be=function(e){var t=0,A=1;e[t]!==ae&&e[t]!==se||(e[t]===se&&(A=-1),t++);for(var n=[];ce(e[t]);)n.push(e[t++]);var i=n.length?parseInt(l.apply(void 0,n),10):0;46===e[t]&&t++;for(var r=[];ce(e[t]);)r.push(e[t++]);var o=r.length,s=o?parseInt(l.apply(void 0,r),10):0;69!==e[t]&&101!==e[t]||t++;var a=1;e[t]!==ae&&e[t]!==se||(e[t]===se&&(a=-1),t++);for(var c=[];ce(e[t]);)c.push(e[t++]);var d=c.length?parseInt(l.apply(void 0,c),10):0;return A*(i+s*Math.pow(10,-o))*Math.pow(10,a*d)},we={type:2},ye={type:3},Ce={type:4},be={type:13},Ie={type:8},Ee={type:21},Qe={type:9},Ue={type:10},xe={type:11},Fe={type:12},Te={type:14},Le={type:23},Se={type:1},He={type:25},Me={type:24},ke={type:26},Pe={type:27},Ne={type:28},De={type:29},Oe={type:31},_e={type:32},Ve=function(){function e(){this._value=[]}return e.prototype.write=function(e){this._value=this._value.concat(a(e))},e.prototype.read=function(){for(var e=[],t=this.consumeToken();t!==_e;)e.push(t),t=this.consumeToken();return e},e.prototype.consumeToken=function(){var e=this.consumeCodePoint();switch(e){case 34:return this.consumeStringToken(34);case 35:var t=this.peekCodePoint(0),A=this.peekCodePoint(1),n=this.peekCodePoint(2);if(pe(t)||fe(A,n)){var i=me(t,A,n)?2:1;return{type:5,value:this.consumeName(),flags:i}}break;case 36:if(61===this.peekCodePoint(0))return this.consumeCodePoint(),be;break;case 39:return this.consumeStringToken(39);case 40:return we;case 41:return ye;case 42:if(61===this.peekCodePoint(0))return this.consumeCodePoint(),Te;break;case ae:if(ve(e,this.peekCodePoint(0),this.peekCodePoint(1)))return this.reconsumeCodePoint(e),this.consumeNumericToken();break;case 44:return Ce;case se:var r=e,o=this.peekCodePoint(0),s=this.peekCodePoint(1);if(ve(r,o,s))return this.reconsumeCodePoint(e),this.consumeNumericToken();if(me(r,o,s))return this.reconsumeCodePoint(e),this.consumeIdentLikeToken();if(o===se&&62===s)return this.consumeCodePoint(),this.consumeCodePoint(),Me;break;case 46:if(ve(e,this.peekCodePoint(0),this.peekCodePoint(1)))return this.reconsumeCodePoint(e),this.consumeNumericToken();break;case 47:if(42===this.peekCodePoint(0))for(this.consumeCodePoint();;){var a=this.consumeCodePoint();if(42===a&&47===(a=this.consumeCodePoint()))return this.consumeToken();if(a===le)return this.consumeToken()}break;case 58:return ke;case 59:return Pe;case 60:if(33===this.peekCodePoint(0)&&this.peekCodePoint(1)===se&&this.peekCodePoint(2)===se)return this.consumeCodePoint(),this.consumeCodePoint(),He;break;case 64:var c=this.peekCodePoint(0),d=this.peekCodePoint(1),u=this.peekCodePoint(2);if(me(c,d,u))return{type:7,value:this.consumeName()};break;case 91:return Ne;case 92:if(fe(e,this.peekCodePoint(0)))return this.reconsumeCodePoint(e),this.consumeIdentLikeToken();break;case 93:return De;case 61:if(61===this.peekCodePoint(0))return this.consumeCodePoint(),Ie;break;case 123:return xe;case 125:return Fe;case 117:case 85:var h=this.peekCodePoint(0),p=this.peekCodePoint(1);return h!==ae||!de(p)&&63!==p||(this.consumeCodePoint(),this.consumeUnicodeRangeToken()),this.reconsumeCodePoint(e),this.consumeIdentLikeToken();case 124:if(61===this.peekCodePoint(0))return this.consumeCodePoint(),Qe;if(124===this.peekCodePoint(0))return this.consumeCodePoint(),Ee;break;case 126:if(61===this.peekCodePoint(0))return this.consumeCodePoint(),Ue;break;case le:return _e}return ue(e)?(this.consumeWhiteSpace(),Oe):ce(e)?(this.reconsumeCodePoint(e),this.consumeNumericToken()):he(e)?(this.reconsumeCodePoint(e),this.consumeIdentLikeToken()):{type:6,value:l(e)}},e.prototype.consumeCodePoint=function(){var e=this._value.shift();return void 0===e?-1:e},e.prototype.reconsumeCodePoint=function(e){this._value.unshift(e)},e.prototype.peekCodePoint=function(e){return e>=this._value.length?-1:this._value[e]},e.prototype.consumeUnicodeRangeToken=function(){for(var e=[],t=this.consumeCodePoint();de(t)&&e.length<6;)e.push(t),t=this.consumeCodePoint();for(var A=!1;63===t&&e.length<6;)e.push(t),t=this.consumeCodePoint(),A=!0;if(A)return{type:30,start:parseInt(l.apply(void 0,e.map((function(e){return 63===e?48:e}))),16),end:parseInt(l.apply(void 0,e.map((function(e){return 63===e?70:e}))),16)};var n=parseInt(l.apply(void 0,e),16);if(this.peekCodePoint(0)===se&&de(this.peekCodePoint(1))){this.consumeCodePoint(),t=this.consumeCodePoint();for(var i=[];de(t)&&i.length<6;)i.push(t),t=this.consumeCodePoint();return{type:30,start:n,end:parseInt(l.apply(void 0,i),16)}}return{type:30,start:n,end:n}},e.prototype.consumeIdentLikeToken=function(){var e=this.consumeName();return"url"===e.toLowerCase()&&40===this.peekCodePoint(0)?(this.consumeCodePoint(),this.consumeUrlToken()):40===this.peekCodePoint(0)?(this.consumeCodePoint(),{type:19,value:e}):{type:20,value:e}},e.prototype.consumeUrlToken=function(){var e=[];if(this.consumeWhiteSpace(),this.peekCodePoint(0)===le)return{type:22,value:""};var t=this.peekCodePoint(0);if(39===t||34===t){var A=this.consumeStringToken(this.consumeCodePoint());return 0===A.type&&(this.consumeWhiteSpace(),this.peekCodePoint(0)===le||41===this.peekCodePoint(0))?(this.consumeCodePoint(),{type:22,value:A.value}):(this.consumeBadUrlRemnants(),Le)}for(;;){var n=this.consumeCodePoint();if(n===le||41===n)return{type:22,value:l.apply(void 0,e)};if(ue(n))return this.consumeWhiteSpace(),this.peekCodePoint(0)===le||41===this.peekCodePoint(0)?(this.consumeCodePoint(),{type:22,value:l.apply(void 0,e)}):(this.consumeBadUrlRemnants(),Le);if(34===n||39===n||40===n||ge(n))return this.consumeBadUrlRemnants(),Le;if(92===n){if(!fe(n,this.peekCodePoint(0)))return this.consumeBadUrlRemnants(),Le;e.push(this.consumeEscapedCodePoint())}else e.push(n)}},e.prototype.consumeWhiteSpace=function(){for(;ue(this.peekCodePoint(0));)this.consumeCodePoint()},e.prototype.consumeBadUrlRemnants=function(){for(;;){var e=this.consumeCodePoint();if(41===e||e===le)return;fe(e,this.peekCodePoint(0))&&this.consumeEscapedCodePoint()}},e.prototype.consumeStringSlice=function(e){for(var t="";e>0;){var A=Math.min(5e4,e);t+=l.apply(void 0,this._value.splice(0,A)),e-=A}return this._value.shift(),t},e.prototype.consumeStringToken=function(e){for(var t="",A=0;;){var n=this._value[A];if(n===le||void 0===n||n===e)return{type:0,value:t+=this.consumeStringSlice(A)};if(10===n)return this._value.splice(0,A),Se;if(92===n){var i=this._value[A+1];i!==le&&void 0!==i&&(10===i?(t+=this.consumeStringSlice(A),A=-1,this._value.shift()):fe(n,i)&&(t+=this.consumeStringSlice(A),t+=l(this.consumeEscapedCodePoint()),A=-1))}A++}},e.prototype.consumeNumber=function(){var e=[],t=4,A=this.peekCodePoint(0);for(A!==ae&&A!==se||e.push(this.consumeCodePoint());ce(this.peekCodePoint(0));)e.push(this.consumeCodePoint());A=this.peekCodePoint(0);var n=this.peekCodePoint(1);if(46===A&&ce(n))for(e.push(this.consumeCodePoint(),this.consumeCodePoint()),t=8;ce(this.peekCodePoint(0));)e.push(this.consumeCodePoint());A=this.peekCodePoint(0),n=this.peekCodePoint(1);var i=this.peekCodePoint(2);if((69===A||101===A)&&((n===ae||n===se)&&ce(i)||ce(n)))for(e.push(this.consumeCodePoint(),this.consumeCodePoint()),t=8;ce(this.peekCodePoint(0));)e.push(this.consumeCodePoint());return[Be(e),t]},e.prototype.consumeNumericToken=function(){var e=this.consumeNumber(),t=e[0],A=e[1],n=this.peekCodePoint(0),i=this.peekCodePoint(1),r=this.peekCodePoint(2);return me(n,i,r)?{type:15,number:t,flags:A,unit:this.consumeName()}:37===n?(this.consumeCodePoint(),{type:16,number:t,flags:A}):{type:17,number:t,flags:A}},e.prototype.consumeEscapedCodePoint=function(){var e=this.consumeCodePoint();if(de(e)){for(var t=l(e);de(this.peekCodePoint(0))&&t.length<6;)t+=l(this.consumeCodePoint());ue(this.peekCodePoint(0))&&this.consumeCodePoint();var A=parseInt(t,16);return 0===A||function(e){return e>=55296&&e<=57343}(A)||A>1114111?65533:A}return e===le?65533:e},e.prototype.consumeName=function(){for(var e="";;){var t=this.consumeCodePoint();if(pe(t))e+=l(t);else{if(!fe(t,this.peekCodePoint(0)))return this.reconsumeCodePoint(t),e;e+=l(this.consumeEscapedCodePoint())}}},e}(),$e=function(){function e(e){this._tokens=e}return e.create=function(t){var A=new Ve;return A.write(t),new e(A.read())},e.parseValue=function(t){return e.create(t).parseComponentValue()},e.parseValues=function(t){return e.create(t).parseComponentValues()},e.prototype.parseComponentValue=function(){for(var e=this.consumeToken();31===e.type;)e=this.consumeToken();if(32===e.type)throw new SyntaxError("Error parsing CSS component value, unexpected EOF");this.reconsumeToken(e);var t=this.consumeComponentValue();do{e=this.consumeToken()}while(31===e.type);if(32===e.type)return t;throw new SyntaxError("Error parsing CSS component value, multiple values found when expecting only one")},e.prototype.parseComponentValues=function(){for(var e=[];;){var t=this.consumeComponentValue();if(32===t.type)return e;e.push(t),e.push()}},e.prototype.consumeComponentValue=function(){var e=this.consumeToken();switch(e.type){case 11:case 28:case 2:return this.consumeSimpleBlock(e.type);case 19:return this.consumeFunction(e)}return e},e.prototype.consumeSimpleBlock=function(e){for(var t={type:e,values:[]},A=this.consumeToken();;){if(32===A.type||Je(A,e))return t;this.reconsumeToken(A),t.values.push(this.consumeComponentValue()),A=this.consumeToken()}},e.prototype.consumeFunction=function(e){for(var t={name:e.value,values:[],type:18};;){var A=this.consumeToken();if(32===A.type||3===A.type)return t;this.reconsumeToken(A),t.values.push(this.consumeComponentValue())}},e.prototype.consumeToken=function(){var e=this._tokens.shift();return void 0===e?_e:e},e.prototype.reconsumeToken=function(e){this._tokens.unshift(e)},e}(),je=function(e){return 15===e.type},Ke=function(e){return 17===e.type},Re=function(e){return 20===e.type},qe=function(e){return 0===e.type},Ge=function(e,t){return Re(e)&&e.value===t},We=function(e){return 31!==e.type},Ze=function(e){return 31!==e.type&&4!==e.type},ze=function(e){var t=[],A=[];return e.forEach((function(e){if(4===e.type){if(0===A.length)throw new Error("Error parsing function args, zero tokens for arg");return t.push(A),void(A=[])}31!==e.type&&A.push(e)})),A.length&&t.push(A),t},Je=function(e,t){return 11===t&&12===e.type||28===t&&29===e.type||2===t&&3===e.type},Xe=function(e){return 17===e.type||15===e.type},Ye=function(e){return 16===e.type||Xe(e)},et=function(e){return e.length>1?[e[0],e[1]]:[e[0]]},tt={type:17,number:0,flags:4},At={type:16,number:50,flags:4},nt={type:16,number:100,flags:4},it=function(e,t,A){var n=e[0],i=e[1];return[rt(n,t),rt(void 0!==i?i:n,A)]},rt=function(e,t){if(16===e.type)return e.number/100*t;if(je(e))switch(e.unit){case"rem":case"em":return 16*e.number;default:return e.number}return e.number},ot="grad",st="turn",at=function(e,t){if(15===t.type)switch(t.unit){case"deg":return Math.PI*t.number/180;case ot:return Math.PI/200*t.number;case"rad":return t.number;case st:return 2*Math.PI*t.number}throw new Error("Unsupported angle type")},lt=function(e){return 15===e.type&&("deg"===e.unit||e.unit===ot||"rad"===e.unit||e.unit===st)},ct=function(e){switch(e.filter(Re).map((function(e){return e.value})).join(" ")){case"to bottom right":case"to right bottom":case"left top":case"top left":return[tt,tt];case"to top":case"bottom":return dt(0);case"to bottom left":case"to left bottom":case"right top":case"top right":return[tt,nt];case"to right":case"left":return dt(90);case"to top left":case"to left top":case"right bottom":case"bottom right":return[nt,nt];case"to bottom":case"top":return dt(180);case"to top right":case"to right top":case"left bottom":case"bottom left":return[nt,tt];case"to left":case"right":return dt(270)}return 0},dt=function(e){return Math.PI*e/180},ut=function(e,t){if(18===t.type){var A=wt[t.name];if(void 0===A)throw new Error('Attempting to parse an unsupported color function "'+t.name+'"');return A(e,t.values)}if(5===t.type){if(3===t.value.length){var n=t.value.substring(0,1),i=t.value.substring(1,2),r=t.value.substring(2,3);return gt(parseInt(n+n,16),parseInt(i+i,16),parseInt(r+r,16),1)}if(4===t.value.length){n=t.value.substring(0,1),i=t.value.substring(1,2),r=t.value.substring(2,3);var o=t.value.substring(3,4);return gt(parseInt(n+n,16),parseInt(i+i,16),parseInt(r+r,16),parseInt(o+o,16)/255)}if(6===t.value.length)return n=t.value.substring(0,2),i=t.value.substring(2,4),r=t.value.substring(4,6),gt(parseInt(n,16),parseInt(i,16),parseInt(r,16),1);if(8===t.value.length)return n=t.value.substring(0,2),i=t.value.substring(2,4),r=t.value.substring(4,6),o=t.value.substring(6,8),gt(parseInt(n,16),parseInt(i,16),parseInt(r,16),parseInt(o,16)/255)}if(20===t.type){var s=Ct[t.value.toUpperCase()];if(void 0!==s)return s}return Ct.TRANSPARENT},ht=function(e){return!(255&e)},pt=function(e){var t=255&e,A=255&e>>8,n=255&e>>16,i=255&e>>24;return t<255?"rgba("+i+","+n+","+A+","+t/255+")":"rgb("+i+","+n+","+A+")"},gt=function(e,t,A,n){return(e<<24|t<<16|A<<8|Math.round(255*n))>>>0},ft=function(e,t){if(17===e.type)return e.number;if(16===e.type){var A=3===t?1:255;return 3===t?e.number/100*A:Math.round(e.number/100*A)}return 0},mt=function(e,t){var A=t.filter(Ze);if(3===A.length){var n=A.map(ft),i=n[0],r=n[1],o=n[2];return gt(i,r,o,1)}if(4===A.length){var s=A.map(ft),a=(i=s[0],r=s[1],o=s[2],s[3]);return gt(i,r,o,a)}return 0};function vt(e,t,A){return A<0&&(A+=1),A>=1&&(A-=1),A<1/6?(t-e)*A*6+e:A<.5?t:A<2/3?6*(t-e)*(2/3-A)+e:e}var Bt=function(e,t){var A=t.filter(Ze),n=A[0],i=A[1],r=A[2],o=A[3],s=(17===n.type?dt(n.number):at(e,n))/(2*Math.PI),a=Ye(i)?i.number/100:0,l=Ye(r)?r.number/100:0,c=void 0!==o&&Ye(o)?rt(o,1):1;if(0===a)return gt(255*l,255*l,255*l,1);var d=l<=.5?l*(a+1):l+a-l*a,u=2*l-d,h=vt(u,d,s+1/3),p=vt(u,d,s),g=vt(u,d,s-1/3);return gt(255*h,255*p,255*g,c)},wt={hsl:Bt,hsla:Bt,rgb:mt,rgba:mt},yt=function(e,t){return ut(e,$e.create(t).parseComponentValue())},Ct={ALICEBLUE:4042850303,ANTIQUEWHITE:4209760255,AQUA:16777215,AQUAMARINE:2147472639,AZURE:4043309055,BEIGE:4126530815,BISQUE:4293182719,BLACK:255,BLANCHEDALMOND:4293643775,BLUE:65535,BLUEVIOLET:2318131967,BROWN:2771004159,BURLYWOOD:3736635391,CADETBLUE:1604231423,CHARTREUSE:2147418367,CHOCOLATE:3530104575,CORAL:4286533887,CORNFLOWERBLUE:1687547391,CORNSILK:4294499583,CRIMSON:3692313855,CYAN:16777215,DARKBLUE:35839,DARKCYAN:9145343,DARKGOLDENROD:3095837695,DARKGRAY:2846468607,DARKGREEN:6553855,DARKGREY:2846468607,DARKKHAKI:3182914559,DARKMAGENTA:2332068863,DARKOLIVEGREEN:1433087999,DARKORANGE:4287365375,DARKORCHID:2570243327,DARKRED:2332033279,DARKSALMON:3918953215,DARKSEAGREEN:2411499519,DARKSLATEBLUE:1211993087,DARKSLATEGRAY:793726975,DARKSLATEGREY:793726975,DARKTURQUOISE:13554175,DARKVIOLET:2483082239,DEEPPINK:4279538687,DEEPSKYBLUE:12582911,DIMGRAY:1768516095,DIMGREY:1768516095,DODGERBLUE:512819199,FIREBRICK:2988581631,FLORALWHITE:4294635775,FORESTGREEN:579543807,FUCHSIA:4278255615,GAINSBORO:3705462015,GHOSTWHITE:4177068031,GOLD:4292280575,GOLDENROD:3668254975,GRAY:2155905279,GREEN:8388863,GREENYELLOW:2919182335,GREY:2155905279,HONEYDEW:4043305215,HOTPINK:4285117695,INDIANRED:3445382399,INDIGO:1258324735,IVORY:4294963455,KHAKI:4041641215,LAVENDER:3873897215,LAVENDERBLUSH:4293981695,LAWNGREEN:2096890111,LEMONCHIFFON:4294626815,LIGHTBLUE:2916673279,LIGHTCORAL:4034953471,LIGHTCYAN:3774873599,LIGHTGOLDENRODYELLOW:4210742015,LIGHTGRAY:3553874943,LIGHTGREEN:2431553791,LIGHTGREY:3553874943,LIGHTPINK:4290167295,LIGHTSALMON:4288707327,LIGHTSEAGREEN:548580095,LIGHTSKYBLUE:2278488831,LIGHTSLATEGRAY:2005441023,LIGHTSLATEGREY:2005441023,LIGHTSTEELBLUE:2965692159,LIGHTYELLOW:4294959359,LIME:16711935,LIMEGREEN:852308735,LINEN:4210091775,MAGENTA:4278255615,MAROON:2147483903,MEDIUMAQUAMARINE:1724754687,MEDIUMBLUE:52735,MEDIUMORCHID:3126187007,MEDIUMPURPLE:2473647103,MEDIUMSEAGREEN:1018393087,MEDIUMSLATEBLUE:2070474495,MEDIUMSPRINGGREEN:16423679,MEDIUMTURQUOISE:1221709055,MEDIUMVIOLETRED:3340076543,MIDNIGHTBLUE:421097727,MINTCREAM:4127193855,MISTYROSE:4293190143,MOCCASIN:4293178879,NAVAJOWHITE:4292783615,NAVY:33023,OLDLACE:4260751103,OLIVE:2155872511,OLIVEDRAB:1804477439,ORANGE:4289003775,ORANGERED:4282712319,ORCHID:3664828159,PALEGOLDENROD:4008225535,PALEGREEN:2566625535,PALETURQUOISE:2951671551,PALEVIOLETRED:3681588223,PAPAYAWHIP:4293907967,PEACHPUFF:4292524543,PERU:3448061951,PINK:4290825215,PLUM:3718307327,POWDERBLUE:2967529215,PURPLE:2147516671,REBECCAPURPLE:1714657791,RED:4278190335,ROSYBROWN:3163525119,ROYALBLUE:1097458175,SADDLEBROWN:2336560127,SALMON:4202722047,SANDYBROWN:4104413439,SEAGREEN:780883967,SEASHELL:4294307583,SIENNA:2689740287,SILVER:3233857791,SKYBLUE:2278484991,SLATEBLUE:1784335871,SLATEGRAY:1887473919,SLATEGREY:1887473919,SNOW:4294638335,SPRINGGREEN:16744447,STEELBLUE:1182971135,TAN:3535047935,TEAL:8421631,THISTLE:3636451583,TOMATO:4284696575,TRANSPARENT:0,TURQUOISE:1088475391,VIOLET:4001558271,WHEAT:4125012991,WHITE:4294967295,WHITESMOKE:4126537215,YELLOW:4294902015,YELLOWGREEN:2597139199},bt={name:"background-clip",initialValue:"border-box",prefix:!1,type:1,parse:function(e,t){return t.map((function(e){if(Re(e))switch(e.value){case"padding-box":return 1;case"content-box":return 2}return 0}))}},It={name:"background-color",initialValue:"transparent",prefix:!1,type:3,format:"color"},Et=function(e,t){var A=ut(e,t[0]),n=t[1];return n&&Ye(n)?{color:A,stop:n}:{color:A,stop:null}},Qt=function(e,t){var A=e[0],n=e[e.length-1];null===A.stop&&(A.stop=tt),null===n.stop&&(n.stop=nt);for(var i=[],r=0,o=0;o<e.length;o++){var s=e[o].stop;if(null!==s){var a=rt(s,t);a>r?i.push(a):i.push(r),r=a}else i.push(null)}var l=null;for(o=0;o<i.length;o++){var c=i[o];if(null===c)null===l&&(l=o);else if(null!==l){for(var d=o-l,u=(c-i[l-1])/(d+1),h=1;h<=d;h++)i[l+h-1]=u*h;l=null}}return e.map((function(e,A){return{color:e.color,stop:Math.max(Math.min(1,i[A]/t),0)}}))},Ut=function(e,t,A){var n="number"==typeof e?e:function(e,t,A){var n=t/2,i=A/2,r=rt(e[0],t)-n,o=i-rt(e[1],A);return(Math.atan2(o,r)+2*Math.PI)%(2*Math.PI)}(e,t,A),i=Math.abs(t*Math.sin(n))+Math.abs(A*Math.cos(n)),r=t/2,o=A/2,s=i/2,a=Math.sin(n-Math.PI/2)*s,l=Math.cos(n-Math.PI/2)*s;return[i,r-l,r+l,o-a,o+a]},xt=function(e,t){return Math.sqrt(e*e+t*t)},Ft=function(e,t,A,n,i){return[[0,0],[0,t],[e,0],[e,t]].reduce((function(e,t){var r=t[0],o=t[1],s=xt(A-r,n-o);return(i?s<e.optimumDistance:s>e.optimumDistance)?{optimumCorner:t,optimumDistance:s}:e}),{optimumDistance:i?1/0:-1/0,optimumCorner:null}).optimumCorner},Tt=function(e,t){var A=dt(180),n=[];return ze(t).forEach((function(t,i){if(0===i){var r=t[0];if(20===r.type&&-1!==["top","left","right","bottom"].indexOf(r.value))return void(A=ct(t));if(lt(r))return void(A=(at(e,r)+dt(270))%dt(360))}var o=Et(e,t);n.push(o)})),{angle:A,stops:n,type:1}},Lt="closest-side",St="farthest-side",Ht="closest-corner",Mt="farthest-corner",kt="circle",Pt="ellipse",Nt="cover",Dt="contain",Ot=function(e,t){var A=0,n=3,i=[],r=[];return ze(t).forEach((function(t,o){var s=!0;if(0===o?s=t.reduce((function(e,t){if(Re(t))switch(t.value){case"center":return r.push(At),!1;case"top":case"left":return r.push(tt),!1;case"right":case"bottom":return r.push(nt),!1}else if(Ye(t)||Xe(t))return r.push(t),!1;return e}),s):1===o&&(s=t.reduce((function(e,t){if(Re(t))switch(t.value){case kt:return A=0,!1;case Pt:return A=1,!1;case Dt:case Lt:return n=0,!1;case St:return n=1,!1;case Ht:return n=2,!1;case Nt:case Mt:return n=3,!1}else if(Xe(t)||Ye(t))return Array.isArray(n)||(n=[]),n.push(t),!1;return e}),s)),s){var a=Et(e,t);i.push(a)}})),{size:n,shape:A,stops:i,position:r,type:2}},_t=function(e,t){if(22===t.type){var A={url:t.value,type:0};return e.cache.addImage(t.value),A}if(18===t.type){var n=$t[t.name];if(void 0===n)throw new Error('Attempting to parse an unsupported image function "'+t.name+'"');return n(e,t.values)}throw new Error("Unsupported image type "+t.type)};var Vt,$t={"linear-gradient":function(e,t){var A=dt(180),n=[];return ze(t).forEach((function(t,i){if(0===i){var r=t[0];if(20===r.type&&"to"===r.value)return void(A=ct(t));if(lt(r))return void(A=at(e,r))}var o=Et(e,t);n.push(o)})),{angle:A,stops:n,type:1}},"-moz-linear-gradient":Tt,"-ms-linear-gradient":Tt,"-o-linear-gradient":Tt,"-webkit-linear-gradient":Tt,"radial-gradient":function(e,t){var A=0,n=3,i=[],r=[];return ze(t).forEach((function(t,o){var s=!0;if(0===o){var a=!1;s=t.reduce((function(e,t){if(a)if(Re(t))switch(t.value){case"center":return r.push(At),e;case"top":case"left":return r.push(tt),e;case"right":case"bottom":return r.push(nt),e}else(Ye(t)||Xe(t))&&r.push(t);else if(Re(t))switch(t.value){case kt:return A=0,!1;case Pt:return A=1,!1;case"at":return a=!0,!1;case Lt:return n=0,!1;case Nt:case St:return n=1,!1;case Dt:case Ht:return n=2,!1;case Mt:return n=3,!1}else if(Xe(t)||Ye(t))return Array.isArray(n)||(n=[]),n.push(t),!1;return e}),s)}if(s){var l=Et(e,t);i.push(l)}})),{size:n,shape:A,stops:i,position:r,type:2}},"-moz-radial-gradient":Ot,"-ms-radial-gradient":Ot,"-o-radial-gradient":Ot,"-webkit-radial-gradient":Ot,"-webkit-gradient":function(e,t){var A=dt(180),n=[],i=1;return ze(t).forEach((function(t,A){var r=t[0];if(0===A){if(Re(r)&&"linear"===r.value)return void(i=1);if(Re(r)&&"radial"===r.value)return void(i=2)}if(18===r.type)if("from"===r.name){var o=ut(e,r.values[0]);n.push({stop:tt,color:o})}else if("to"===r.name)o=ut(e,r.values[0]),n.push({stop:nt,color:o});else if("color-stop"===r.name){var s=r.values.filter(Ze);if(2===s.length){o=ut(e,s[1]);var a=s[0];Ke(a)&&n.push({stop:{type:16,number:100*a.number,flags:a.flags},color:o})}}})),1===i?{angle:(A+dt(180))%dt(360),stops:n,type:i}:{size:3,shape:0,stops:n,position:[],type:i}}},jt={name:"background-image",initialValue:"none",type:1,prefix:!1,parse:function(e,t){if(0===t.length)return[];var A=t[0];return 20===A.type&&"none"===A.value?[]:t.filter((function(e){return Ze(e)&&function(e){return!(20===e.type&&"none"===e.value||18===e.type&&!$t[e.name])}(e)})).map((function(t){return _t(e,t)}))}},Kt={name:"background-origin",initialValue:"border-box",prefix:!1,type:1,parse:function(e,t){return t.map((function(e){if(Re(e))switch(e.value){case"padding-box":return 1;case"content-box":return 2}return 0}))}},Rt={name:"background-position",initialValue:"0% 0%",type:1,prefix:!1,parse:function(e,t){return ze(t).map((function(e){return e.filter(Ye)})).map(et)}},qt={name:"background-repeat",initialValue:"repeat",prefix:!1,type:1,parse:function(e,t){return ze(t).map((function(e){return e.filter(Re).map((function(e){return e.value})).join(" ")})).map(Gt)}},Gt=function(e){switch(e){case"no-repeat":return 1;case"repeat-x":case"repeat no-repeat":return 2;case"repeat-y":case"no-repeat repeat":return 3;default:return 0}};!function(e){e.AUTO="auto",e.CONTAIN="contain",e.COVER="cover"}(Vt||(Vt={}));var Wt,Zt={name:"background-size",initialValue:"0",prefix:!1,type:1,parse:function(e,t){return ze(t).map((function(e){return e.filter(zt)}))}},zt=function(e){return Re(e)||Ye(e)},Jt=function(e){return{name:"border-"+e+"-color",initialValue:"transparent",prefix:!1,type:3,format:"color"}},Xt=Jt("top"),Yt=Jt("right"),eA=Jt("bottom"),tA=Jt("left"),AA=function(e){return{name:"border-radius-"+e,initialValue:"0 0",prefix:!1,type:1,parse:function(e,t){return et(t.filter(Ye))}}},nA=AA("top-left"),iA=AA("top-right"),rA=AA("bottom-right"),oA=AA("bottom-left"),sA=function(e){return{name:"border-"+e+"-style",initialValue:"solid",prefix:!1,type:2,parse:function(e,t){switch(t){case"none":return 0;case"dashed":return 2;case"dotted":return 3;case"double":return 4}return 1}}},aA=sA("top"),lA=sA("right"),cA=sA("bottom"),dA=sA("left"),uA=function(e){return{name:"border-"+e+"-width",initialValue:"0",type:0,prefix:!1,parse:function(e,t){return je(t)?t.number:0}}},hA=uA("top"),pA=uA("right"),gA=uA("bottom"),fA=uA("left"),mA={name:"color",initialValue:"transparent",prefix:!1,type:3,format:"color"},vA={name:"direction",initialValue:"ltr",prefix:!1,type:2,parse:function(e,t){return"rtl"===t?1:0}},BA={name:"display",initialValue:"inline-block",prefix:!1,type:1,parse:function(e,t){return t.filter(Re).reduce((function(e,t){return e|wA(t.value)}),0)}},wA=function(e){switch(e){case"block":case"-webkit-box":return 2;case"inline":return 4;case"run-in":return 8;case"flow":return 16;case"flow-root":return 32;case"table":return 64;case"flex":case"-webkit-flex":return 128;case"grid":case"-ms-grid":return 256;case"ruby":return 512;case"subgrid":return 1024;case"list-item":return 2048;case"table-row-group":return 4096;case"table-header-group":return 8192;case"table-footer-group":return 16384;case"table-row":return 32768;case"table-cell":return 65536;case"table-column-group":return 131072;case"table-column":return 262144;case"table-caption":return 524288;case"ruby-base":return 1048576;case"ruby-text":return 2097152;case"ruby-base-container":return 4194304;case"ruby-text-container":return 8388608;case"contents":return 16777216;case"inline-block":return 33554432;case"inline-list-item":return 67108864;case"inline-table":return 134217728;case"inline-flex":return 268435456;case"inline-grid":return 536870912}return 0},yA={name:"float",initialValue:"none",prefix:!1,type:2,parse:function(e,t){switch(t){case"left":return 1;case"right":return 2;case"inline-start":return 3;case"inline-end":return 4}return 0}},CA={name:"letter-spacing",initialValue:"0",prefix:!1,type:0,parse:function(e,t){return 20===t.type&&"normal"===t.value?0:17===t.type||15===t.type?t.number:0}};!function(e){e.NORMAL="normal",e.STRICT="strict"}(Wt||(Wt={}));var bA,IA={name:"line-break",initialValue:"normal",prefix:!1,type:2,parse:function(e,t){return"strict"===t?Wt.STRICT:Wt.NORMAL}},EA={name:"line-height",initialValue:"normal",prefix:!1,type:4},QA=function(e,t){return Re(e)&&"normal"===e.value?1.2*t:17===e.type?t*e.number:Ye(e)?rt(e,t):t},UA={name:"list-style-image",initialValue:"none",type:0,prefix:!1,parse:function(e,t){return 20===t.type&&"none"===t.value?null:_t(e,t)}},xA={name:"list-style-position",initialValue:"outside",prefix:!1,type:2,parse:function(e,t){return"inside"===t?0:1}},FA={name:"list-style-type",initialValue:"none",prefix:!1,type:2,parse:function(e,t){switch(t){case"disc":return 0;case"circle":return 1;case"square":return 2;case"decimal":return 3;case"cjk-decimal":return 4;case"decimal-leading-zero":return 5;case"lower-roman":return 6;case"upper-roman":return 7;case"lower-greek":return 8;case"lower-alpha":return 9;case"upper-alpha":return 10;case"arabic-indic":return 11;case"armenian":return 12;case"bengali":return 13;case"cambodian":return 14;case"cjk-earthly-branch":return 15;case"cjk-heavenly-stem":return 16;case"cjk-ideographic":return 17;case"devanagari":return 18;case"ethiopic-numeric":return 19;case"georgian":return 20;case"gujarati":return 21;case"gurmukhi":case"hebrew":return 22;case"hiragana":return 23;case"hiragana-iroha":return 24;case"japanese-formal":return 25;case"japanese-informal":return 26;case"kannada":return 27;case"katakana":return 28;case"katakana-iroha":return 29;case"khmer":return 30;case"korean-hangul-formal":return 31;case"korean-hanja-formal":return 32;case"korean-hanja-informal":return 33;case"lao":return 34;case"lower-armenian":return 35;case"malayalam":return 36;case"mongolian":return 37;case"myanmar":return 38;case"oriya":return 39;case"persian":return 40;case"simp-chinese-formal":return 41;case"simp-chinese-informal":return 42;case"tamil":return 43;case"telugu":return 44;case"thai":return 45;case"tibetan":return 46;case"trad-chinese-formal":return 47;case"trad-chinese-informal":return 48;case"upper-armenian":return 49;case"disclosure-open":return 50;case"disclosure-closed":return 51;default:return-1}}},TA=function(e){return{name:"margin-"+e,initialValue:"0",prefix:!1,type:4}},LA=TA("top"),SA=TA("right"),HA=TA("bottom"),MA=TA("left"),kA={name:"overflow",initialValue:"visible",prefix:!1,type:1,parse:function(e,t){return t.filter(Re).map((function(e){switch(e.value){case"hidden":return 1;case"scroll":return 2;case"clip":return 3;case"auto":return 4;default:return 0}}))}},PA={name:"overflow-wrap",initialValue:"normal",prefix:!1,type:2,parse:function(e,t){return"break-word"===t?"break-word":"normal"}},NA=function(e){return{name:"padding-"+e,initialValue:"0",prefix:!1,type:3,format:"length-percentage"}},DA=NA("top"),OA=NA("right"),_A=NA("bottom"),VA=NA("left"),$A={name:"text-align",initialValue:"left",prefix:!1,type:2,parse:function(e,t){switch(t){case"right":return 2;case"center":case"justify":return 1;default:return 0}}},jA={name:"position",initialValue:"static",prefix:!1,type:2,parse:function(e,t){switch(t){case"relative":return 1;case"absolute":return 2;case"fixed":return 3;case"sticky":return 4}return 0}},KA={name:"text-shadow",initialValue:"none",type:1,prefix:!1,parse:function(e,t){return 1===t.length&&Ge(t[0],"none")?[]:ze(t).map((function(t){for(var A={color:Ct.TRANSPARENT,offsetX:tt,offsetY:tt,blur:tt},n=0,i=0;i<t.length;i++){var r=t[i];Xe(r)?(0===n?A.offsetX=r:1===n?A.offsetY=r:A.blur=r,n++):A.color=ut(e,r)}return A}))}},RA={name:"text-transform",initialValue:"none",prefix:!1,type:2,parse:function(e,t){switch(t){case"uppercase":return 2;case"lowercase":return 1;case"capitalize":return 3}return 0}},qA={name:"transform",initialValue:"none",prefix:!0,type:0,parse:function(e,t){if(20===t.type&&"none"===t.value)return null;if(18===t.type){var A=GA[t.name];if(void 0===A)throw new Error('Attempting to parse an unsupported transform function "'+t.name+'"');return A(t.values)}return null}},GA={matrix:function(e){var t=e.filter((function(e){return 17===e.type})).map((function(e){return e.number}));return 6===t.length?t:null},matrix3d:function(e){var t=e.filter((function(e){return 17===e.type})).map((function(e){return e.number})),A=t[0],n=t[1];t[2],t[3];var i=t[4],r=t[5];t[6],t[7],t[8],t[9],t[10],t[11];var o=t[12],s=t[13];return t[14],t[15],16===t.length?[A,n,i,r,o,s]:null}},WA={type:16,number:50,flags:4},ZA=[WA,WA],zA={name:"transform-origin",initialValue:"50% 50%",prefix:!0,type:1,parse:function(e,t){var A=t.filter(Ye);return 2!==A.length?ZA:[A[0],A[1]]}},JA={name:"visible",initialValue:"none",prefix:!1,type:2,parse:function(e,t){switch(t){case"hidden":return 1;case"collapse":return 2;default:return 0}}};!function(e){e.NORMAL="normal",e.BREAK_ALL="break-all",e.KEEP_ALL="keep-all"}(bA||(bA={}));for(var XA={name:"word-break",initialValue:"normal",prefix:!1,type:2,parse:function(e,t){switch(t){case"break-all":return bA.BREAK_ALL;case"keep-all":return bA.KEEP_ALL;default:return bA.NORMAL}}},YA={name:"z-index",initialValue:"auto",prefix:!1,type:0,parse:function(e,t){if(20===t.type)return{auto:!0,order:0};if(Ke(t))return{auto:!1,order:t.number};throw new Error("Invalid z-index number parsed")}},en={name:"time",parse:function(e,t){if(15===t.type)switch(t.unit.toLowerCase()){case"s":return 1e3*t.number;case"ms":return t.number}throw new Error("Unsupported time type")}},tn={name:"opacity",initialValue:"1",type:0,prefix:!1,parse:function(e,t){return Ke(t)?t.number:1}},An={name:"text-decoration-color",initialValue:"transparent",prefix:!1,type:3,format:"color"},nn={name:"text-decoration-line",initialValue:"none",prefix:!1,type:1,parse:function(e,t){return t.filter(Re).map((function(e){switch(e.value){case"underline":return 1;case"overline":return 2;case"line-through":return 3;case"none":return 4}return 0})).filter((function(e){return 0!==e}))}},rn={name:"font-family",initialValue:"",prefix:!1,type:1,parse:function(e,t){var A=[],n=[];return t.forEach((function(e){switch(e.type){case 20:case 0:A.push(e.value);break;case 17:A.push(e.number.toString());break;case 4:n.push(A.join(" ")),A.length=0}})),A.length&&n.push(A.join(" ")),n.map((function(e){return-1===e.indexOf(" ")?e:"'"+e+"'"}))}},on={name:"font-size",initialValue:"0",prefix:!1,type:3,format:"length"},sn={name:"font-weight",initialValue:"normal",type:0,prefix:!1,parse:function(e,t){return Ke(t)?t.number:Re(t)&&"bold"===t.value?700:400}},an={name:"font-variant",initialValue:"none",type:1,prefix:!1,parse:function(e,t){return t.filter(Re).map((function(e){return e.value}))}},ln={name:"font-style",initialValue:"normal",prefix:!1,type:2,parse:function(e,t){switch(t){case"oblique":return"oblique";case"italic":return"italic";default:return"normal"}}},cn=function(e,t){return!!(e&t)},dn={name:"content",initialValue:"none",type:1,prefix:!1,parse:function(e,t){if(0===t.length)return[];var A=t[0];return 20===A.type&&"none"===A.value?[]:t}},un={name:"counter-increment",initialValue:"none",prefix:!0,type:1,parse:function(e,t){if(0===t.length)return null;var A=t[0];if(20===A.type&&"none"===A.value)return null;for(var n=[],i=t.filter(We),r=0;r<i.length;r++){var o=i[r],s=i[r+1];if(20===o.type){var a=s&&Ke(s)?s.number:1;n.push({counter:o.value,increment:a})}}return n}},hn={name:"counter-reset",initialValue:"none",prefix:!0,type:1,parse:function(e,t){if(0===t.length)return[];for(var A=[],n=t.filter(We),i=0;i<n.length;i++){var r=n[i],o=n[i+1];if(Re(r)&&"none"!==r.value){var s=o&&Ke(o)?o.number:0;A.push({counter:r.value,reset:s})}}return A}},pn={name:"duration",initialValue:"0s",prefix:!1,type:1,parse:function(e,t){return t.filter(je).map((function(t){return en.parse(e,t)}))}},gn={name:"quotes",initialValue:"none",prefix:!0,type:1,parse:function(e,t){if(0===t.length)return null;var A=t[0];if(20===A.type&&"none"===A.value)return null;var n=[],i=t.filter(qe);if(i.length%2!=0)return null;for(var r=0;r<i.length;r+=2){var o=i[r].value,s=i[r+1].value;n.push({open:o,close:s})}return n}},fn=function(e,t,A){if(!e)return"";var n=e[Math.min(t,e.length-1)];return n?A?n.open:n.close:""},mn={name:"box-shadow",initialValue:"none",type:1,prefix:!1,parse:function(e,t){return 1===t.length&&Ge(t[0],"none")?[]:ze(t).map((function(t){for(var A={color:255,offsetX:tt,offsetY:tt,blur:tt,spread:tt,inset:!1},n=0,i=0;i<t.length;i++){var r=t[i];Ge(r,"inset")?A.inset=!0:Xe(r)?(0===n?A.offsetX=r:1===n?A.offsetY=r:2===n?A.blur=r:A.spread=r,n++):A.color=ut(e,r)}return A}))}},vn={name:"paint-order",initialValue:"normal",prefix:!1,type:1,parse:function(e,t){var A=[];return t.filter(Re).forEach((function(e){switch(e.value){case"stroke":A.push(1);break;case"fill":A.push(0);break;case"markers":A.push(2)}})),[0,1,2].forEach((function(e){-1===A.indexOf(e)&&A.push(e)})),A}},Bn={name:"-webkit-text-stroke-color",initialValue:"currentcolor",prefix:!1,type:3,format:"color"},wn={name:"-webkit-text-stroke-width",initialValue:"0",type:0,prefix:!1,parse:function(e,t){return je(t)?t.number:0}},yn=function(){function e(e,t){var A,n;this.animationDuration=In(e,pn,t.animationDuration),this.backgroundClip=In(e,bt,t.backgroundClip),this.backgroundColor=In(e,It,t.backgroundColor),this.backgroundImage=In(e,jt,t.backgroundImage),this.backgroundOrigin=In(e,Kt,t.backgroundOrigin),this.backgroundPosition=In(e,Rt,t.backgroundPosition),this.backgroundRepeat=In(e,qt,t.backgroundRepeat),this.backgroundSize=In(e,Zt,t.backgroundSize),this.borderTopColor=In(e,Xt,t.borderTopColor),this.borderRightColor=In(e,Yt,t.borderRightColor),this.borderBottomColor=In(e,eA,t.borderBottomColor),this.borderLeftColor=In(e,tA,t.borderLeftColor),this.borderTopLeftRadius=In(e,nA,t.borderTopLeftRadius),this.borderTopRightRadius=In(e,iA,t.borderTopRightRadius),this.borderBottomRightRadius=In(e,rA,t.borderBottomRightRadius),this.borderBottomLeftRadius=In(e,oA,t.borderBottomLeftRadius),this.borderTopStyle=In(e,aA,t.borderTopStyle),this.borderRightStyle=In(e,lA,t.borderRightStyle),this.borderBottomStyle=In(e,cA,t.borderBottomStyle),this.borderLeftStyle=In(e,dA,t.borderLeftStyle),this.borderTopWidth=In(e,hA,t.borderTopWidth),this.borderRightWidth=In(e,pA,t.borderRightWidth),this.borderBottomWidth=In(e,gA,t.borderBottomWidth),this.borderLeftWidth=In(e,fA,t.borderLeftWidth),this.boxShadow=In(e,mn,t.boxShadow),this.color=In(e,mA,t.color),this.direction=In(e,vA,t.direction),this.display=In(e,BA,t.display),this.float=In(e,yA,t.cssFloat),this.fontFamily=In(e,rn,t.fontFamily),this.fontSize=In(e,on,t.fontSize),this.fontStyle=In(e,ln,t.fontStyle),this.fontVariant=In(e,an,t.fontVariant),this.fontWeight=In(e,sn,t.fontWeight),this.letterSpacing=In(e,CA,t.letterSpacing),this.lineBreak=In(e,IA,t.lineBreak),this.lineHeight=In(e,EA,t.lineHeight),this.listStyleImage=In(e,UA,t.listStyleImage),this.listStylePosition=In(e,xA,t.listStylePosition),this.listStyleType=In(e,FA,t.listStyleType),this.marginTop=In(e,LA,t.marginTop),this.marginRight=In(e,SA,t.marginRight),this.marginBottom=In(e,HA,t.marginBottom),this.marginLeft=In(e,MA,t.marginLeft),this.opacity=In(e,tn,t.opacity);var i=In(e,kA,t.overflow);this.overflowX=i[0],this.overflowY=i[i.length>1?1:0],this.overflowWrap=In(e,PA,t.overflowWrap),this.paddingTop=In(e,DA,t.paddingTop),this.paddingRight=In(e,OA,t.paddingRight),this.paddingBottom=In(e,_A,t.paddingBottom),this.paddingLeft=In(e,VA,t.paddingLeft),this.paintOrder=In(e,vn,t.paintOrder),this.position=In(e,jA,t.position),this.textAlign=In(e,$A,t.textAlign),this.textDecorationColor=In(e,An,null!==(A=t.textDecorationColor)&&void 0!==A?A:t.color),this.textDecorationLine=In(e,nn,null!==(n=t.textDecorationLine)&&void 0!==n?n:t.textDecoration),this.textShadow=In(e,KA,t.textShadow),this.textTransform=In(e,RA,t.textTransform),this.transform=In(e,qA,t.transform),this.transformOrigin=In(e,zA,t.transformOrigin),this.visibility=In(e,JA,t.visibility),this.webkitTextStrokeColor=In(e,Bn,t.webkitTextStrokeColor),this.webkitTextStrokeWidth=In(e,wn,t.webkitTextStrokeWidth),this.wordBreak=In(e,XA,t.wordBreak),this.zIndex=In(e,YA,t.zIndex)}return e.prototype.isVisible=function(){return this.display>0&&this.opacity>0&&0===this.visibility},e.prototype.isTransparent=function(){return ht(this.backgroundColor)},e.prototype.isTransformed=function(){return null!==this.transform},e.prototype.isPositioned=function(){return 0!==this.position},e.prototype.isPositionedWithZIndex=function(){return this.isPositioned()&&!this.zIndex.auto},e.prototype.isFloating=function(){return 0!==this.float},e.prototype.isInlineLevel=function(){return cn(this.display,4)||cn(this.display,33554432)||cn(this.display,268435456)||cn(this.display,536870912)||cn(this.display,67108864)||cn(this.display,134217728)},e}(),Cn=function(e,t){this.content=In(e,dn,t.content),this.quotes=In(e,gn,t.quotes)},bn=function(e,t){this.counterIncrement=In(e,un,t.counterIncrement),this.counterReset=In(e,hn,t.counterReset)},In=function(e,t,A){var n=new Ve,i=null!=A?A.toString():t.initialValue;n.write(i);var r=new $e(n.read());switch(t.type){case 2:var o=r.parseComponentValue();return t.parse(e,Re(o)?o.value:t.initialValue);case 0:return t.parse(e,r.parseComponentValue());case 1:return t.parse(e,r.parseComponentValues());case 4:return r.parseComponentValue();case 3:switch(t.format){case"angle":return at(e,r.parseComponentValue());case"color":return ut(e,r.parseComponentValue());case"image":return _t(e,r.parseComponentValue());case"length":var s=r.parseComponentValue();return Xe(s)?s:tt;case"length-percentage":var a=r.parseComponentValue();return Ye(a)?a:tt;case"time":return en.parse(e,r.parseComponentValue())}}},En=function(e,t){var A=function(e){switch(e.getAttribute("data-html2canvas-debug")){case"all":return 1;case"clone":return 2;case"parse":return 3;case"render":return 4;default:return 0}}(e);return 1===A||t===A},Qn=function(e,t){this.context=e,this.textNodes=[],this.elements=[],this.flags=0,En(t,3),this.styles=new yn(e,window.getComputedStyle(t,null)),Ti(t)&&(this.styles.animationDuration.some((function(e){return e>0}))&&(t.style.animationDuration="0s"),null!==this.styles.transform&&(t.style.transform="none")),this.bounds=s(this.context,t),En(t,4)&&(this.flags|=16)},Un="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",xn="undefined"==typeof Uint8Array?[]:new Uint8Array(256),Fn=0;Fn<64;Fn++)xn[Un.charCodeAt(Fn)]=Fn;for(var Tn=function(e,t,A){return e.slice?e.slice(t,A):new Uint16Array(Array.prototype.slice.call(e,t,A))},Ln=function(){function e(e,t,A,n,i,r){this.initialValue=e,this.errorValue=t,this.highStart=A,this.highValueIndex=n,this.index=i,this.data=r}return e.prototype.get=function(e){var t;if(e>=0){if(e<55296||e>56319&&e<=65535)return t=((t=this.index[e>>5])<<2)+(31&e),this.data[t];if(e<=65535)return t=((t=this.index[2048+(e-55296>>5)])<<2)+(31&e),this.data[t];if(e<this.highStart)return t=2080+(e>>11),t=this.index[t],t+=e>>5&63,t=((t=this.index[t])<<2)+(31&e),this.data[t];if(e<=1114111)return this.data[this.highValueIndex]}return this.errorValue},e}(),Sn="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Hn="undefined"==typeof Uint8Array?[]:new Uint8Array(256),Mn=0;Mn<64;Mn++)Hn[Sn.charCodeAt(Mn)]=Mn;var kn,Pn=8,Nn=9,Dn=11,On=12,_n=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];if(String.fromCodePoint)return String.fromCodePoint.apply(String,e);var A=e.length;if(!A)return"";for(var n=[],i=-1,r="";++i<A;){var o=e[i];o<=65535?n.push(o):(o-=65536,n.push(55296+(o>>10),o%1024+56320)),(i+1===A||n.length>16384)&&(r+=String.fromCharCode.apply(String,n),n.length=0)}return r},Vn=function(e){var t,A,n,i=function(e){var t,A,n,i,r,o=.75*e.length,s=e.length,a=0;"="===e[e.length-1]&&(o--,"="===e[e.length-2]&&o--);var l="undefined"!=typeof ArrayBuffer&&"undefined"!=typeof Uint8Array&&void 0!==Uint8Array.prototype.slice?new ArrayBuffer(o):new Array(o),c=Array.isArray(l)?l:new Uint8Array(l);for(t=0;t<s;t+=4)A=xn[e.charCodeAt(t)],n=xn[e.charCodeAt(t+1)],i=xn[e.charCodeAt(t+2)],r=xn[e.charCodeAt(t+3)],c[a++]=A<<2|n>>4,c[a++]=(15&n)<<4|i>>2,c[a++]=(3&i)<<6|63&r;return l}(e),r=Array.isArray(i)?function(e){for(var t=e.length,A=[],n=0;n<t;n+=4)A.push(e[n+3]<<24|e[n+2]<<16|e[n+1]<<8|e[n]);return A}(i):new Uint32Array(i),o=Array.isArray(i)?function(e){for(var t=e.length,A=[],n=0;n<t;n+=2)A.push(e[n+1]<<8|e[n]);return A}(i):new Uint16Array(i),s=Tn(o,12,r[4]/2),a=2===r[5]?Tn(o,(24+r[4])/2):(t=r,A=Math.ceil((24+r[4])/4),t.slice?t.slice(A,n):new Uint32Array(Array.prototype.slice.call(t,A,n)));return new Ln(r[0],r[1],r[2],r[3],s,a)}("AAAAAAAAAAAAEA4AGBkAAFAaAAACAAAAAAAIABAAGAAwADgACAAQAAgAEAAIABAACAAQAAgAEAAIABAACAAQAAgAEAAIABAAQABIAEQATAAIABAACAAQAAgAEAAIABAAVABcAAgAEAAIABAACAAQAGAAaABwAHgAgACIAI4AlgAIABAAmwCjAKgAsAC2AL4AvQDFAMoA0gBPAVYBWgEIAAgACACMANoAYgFkAWwBdAF8AX0BhQGNAZUBlgGeAaMBlQGWAasBswF8AbsBwwF0AcsBYwHTAQgA2wG/AOMBdAF8AekB8QF0AfkB+wHiAHQBfAEIAAMC5gQIAAsCEgIIAAgAFgIeAggAIgIpAggAMQI5AkACygEIAAgASAJQAlgCYAIIAAgACAAKBQoFCgUTBRMFGQUrBSsFCAAIAAgACAAIAAgACAAIAAgACABdAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABoAmgCrwGvAQgAbgJ2AggAHgEIAAgACADnAXsCCAAIAAgAgwIIAAgACAAIAAgACACKAggAkQKZAggAPADJAAgAoQKkAqwCsgK6AsICCADJAggA0AIIAAgACAAIANYC3gIIAAgACAAIAAgACABAAOYCCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAkASoB+QIEAAgACAA8AEMCCABCBQgACABJBVAFCAAIAAgACAAIAAgACAAIAAgACABTBVoFCAAIAFoFCABfBWUFCAAIAAgACAAIAAgAbQUIAAgACAAIAAgACABzBXsFfQWFBYoFigWKBZEFigWKBYoFmAWfBaYFrgWxBbkFCAAIAAgACAAIAAgACAAIAAgACAAIAMEFCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAMgFCADQBQgACAAIAAgACAAIAAgACAAIAAgACAAIAO4CCAAIAAgAiQAIAAgACABAAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAD0AggACAD8AggACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIANYFCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAMDvwAIAAgAJAIIAAgACAAIAAgACAAIAAgACwMTAwgACAB9BOsEGwMjAwgAKwMyAwsFYgE3A/MEPwMIAEUDTQNRAwgAWQOsAGEDCAAIAAgACAAIAAgACABpAzQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFIQUoBSwFCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABtAwgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABMAEwACAAIAAgACAAIABgACAAIAAgACAC/AAgACAAyAQgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACACAAIAAwAAgACAAIAAgACAAIAAgACAAIAAAARABIAAgACAAIABQASAAIAAgAIABwAEAAjgCIABsAqAC2AL0AigDQAtwC+IJIQqVAZUBWQqVAZUBlQGVAZUBlQGrC5UBlQGVAZUBlQGVAZUBlQGVAXsKlQGVAbAK6wsrDGUMpQzlDJUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAfAKAAuZA64AtwCJALoC6ADwAAgAuACgA/oEpgO6AqsD+AAIAAgAswMIAAgACAAIAIkAuwP5AfsBwwPLAwgACAAIAAgACADRA9kDCAAIAOED6QMIAAgACAAIAAgACADuA/YDCAAIAP4DyQAIAAgABgQIAAgAXQAOBAgACAAIAAgACAAIABMECAAIAAgACAAIAAgACAD8AAQBCAAIAAgAGgQiBCoECAExBAgAEAEIAAgACAAIAAgACAAIAAgACAAIAAgACAA4BAgACABABEYECAAIAAgATAQYAQgAVAQIAAgACAAIAAgACAAIAAgACAAIAFoECAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAOQEIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAB+BAcACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAEABhgSMBAgACAAIAAgAlAQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAwAEAAQABAADAAMAAwADAAQABAAEAAQABAAEAAQABHATAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAdQMIAAgACAAIAAgACAAIAMkACAAIAAgAfQMIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACACFA4kDCAAIAAgACAAIAOcBCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAIcDCAAIAAgACAAIAAgACAAIAAgACAAIAJEDCAAIAAgACADFAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABgBAgAZgQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAbAQCBXIECAAIAHkECAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABAAJwEQACjBKoEsgQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAC6BMIECAAIAAgACAAIAAgACABmBAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAxwQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAGYECAAIAAgAzgQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAigWKBYoFigWKBYoFigWKBd0FXwUIAOIF6gXxBYoF3gT5BQAGCAaKBYoFigWKBYoFigWKBYoFigWKBYoFigXWBIoFigWKBYoFigWKBYoFigWKBYsFEAaKBYoFigWKBYoFigWKBRQGCACKBYoFigWKBQgACAAIANEECAAIABgGigUgBggAJgYIAC4GMwaKBYoF0wQ3Bj4GigWKBYoFigWKBYoFigWKBYoFigWKBYoFigUIAAgACAAIAAgACAAIAAgAigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWLBf///////wQABAAEAAQABAAEAAQABAAEAAQAAwAEAAQAAgAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAQADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAUAAAAFAAUAAAAFAAUAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAEAAQABAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUAAQAAAAUABQAFAAUABQAFAAAAAAAFAAUAAAAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAFAAUAAQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABwAFAAUABQAFAAAABwAHAAcAAAAHAAcABwAFAAEAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAcABwAFAAUAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAAAAQABAAAAAAAAAAAAAAAFAAUABQAFAAAABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAcABwAHAAcAAAAHAAcAAAAAAAUABQAHAAUAAQAHAAEABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABwABAAUABQAFAAUAAAAAAAAAAAAAAAEAAQABAAEAAQABAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABwAFAAUAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUAAQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABQANAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABAAEAAQABAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAEAAQABAAEAAQABAAEAAQABAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAABQAHAAUABQAFAAAAAAAAAAcABQAFAAUABQAFAAQABAAEAAQABAAEAAQABAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUAAAAFAAUABQAFAAUAAAAFAAUABQAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAAAAAAAAAAAAUABQAFAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAUAAAAHAAcABwAFAAUABQAFAAUABQAFAAUABwAHAAcABwAFAAcABwAAAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAUABwAHAAUABQAFAAUAAAAAAAcABwAAAAAABwAHAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAABQAFAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAABwAHAAcABQAFAAAAAAAAAAAABQAFAAAAAAAFAAUABQAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAFAAUABQAFAAUAAAAFAAUABwAAAAcABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAFAAUABwAFAAUABQAFAAAAAAAHAAcAAAAAAAcABwAFAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAcABwAAAAAAAAAHAAcABwAAAAcABwAHAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAABQAHAAcABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAHAAcABwAAAAUABQAFAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAcABQAHAAcABQAHAAcAAAAFAAcABwAAAAcABwAFAAUAAAAAAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAUABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAFAAcABwAFAAUABQAAAAUAAAAHAAcABwAHAAcABwAHAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAHAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAABwAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAUAAAAFAAAAAAAAAAAABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABwAFAAUABQAFAAUAAAAFAAUAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABwAFAAUABQAFAAUABQAAAAUABQAHAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABQAFAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAcABQAFAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAHAAUABQAFAAUABQAFAAUABwAHAAcABwAHAAcABwAHAAUABwAHAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABwAHAAcABwAFAAUABwAHAAcAAAAAAAAAAAAHAAcABQAHAAcABwAHAAcABwAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAcABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAHAAUABQAFAAUABQAFAAUAAAAFAAAABQAAAAAABQAFAAUABQAFAAUABQAFAAcABwAHAAcABwAHAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAUABQAFAAUABQAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABwAFAAcABwAHAAcABwAFAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAUABQAFAAUABwAHAAUABQAHAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAcABQAFAAcABwAHAAUABwAFAAUABQAHAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABwAHAAcABwAHAAUABQAFAAUABQAFAAUABQAHAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAcABQAFAAUABQAFAAUABQAAAAAAAAAAAAUAAAAAAAAAAAAAAAAABQAAAAAABwAFAAUAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUAAAAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAABQAAAAAAAAAFAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAUABQAHAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAHAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAHAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAcABwAFAAUABQAFAAcABwAFAAUABwAHAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAcABwAFAAUABwAHAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAFAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAFAAUABQAAAAAABQAFAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAFAAcABwAAAAAAAAAAAAAABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAFAAcABwAFAAcABwAAAAcABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAFAAUABQAAAAUABQAAAAAAAAAAAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABwAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABQAFAAUABQAFAAUABQAFAAUABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAHAAcABQAHAAUABQAAAAAAAAAAAAAAAAAFAAAABwAHAAcABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAHAAcABwAAAAAABwAHAAAAAAAHAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAAAAAAFAAUABQAFAAUABQAFAAAAAAAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAUABQAFAAUABwAHAAUABQAFAAcABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAcABQAFAAUABQAFAAUABwAFAAcABwAFAAcABQAFAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAcABQAFAAUABQAAAAAABwAHAAcABwAFAAUABwAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAHAAUABQAFAAUABQAFAAUABQAHAAcABQAHAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAFAAcABwAFAAUABQAFAAUABQAHAAUAAAAAAAAAAAAAAAAAAAAAAAcABwAFAAUABQAFAAcABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAUABQAFAAUABQAHAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAAAAAAFAAUABwAHAAcABwAFAAAAAAAAAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABwAHAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAcABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAHAAUABQAFAAUABQAFAAUABwAFAAUABwAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUAAAAAAAAABQAAAAUABQAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAHAAcAAAAFAAUAAAAHAAcABQAHAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAAAAAAAAAAAAAAAAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAUABQAFAAAAAAAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAABQAFAAUABQAFAAUABQAAAAUABQAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAFAAUABQAFAAUADgAOAA4ADgAOAA4ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAAAAAAAAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAMAAwADAAMAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkAAAAAAAAAAAAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAAAAAAAAAAAAsADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwACwAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAADgAOAA4AAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAAAA4ADgAOAA4ADgAOAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAAAA4AAAAOAAAAAAAAAAAAAAAAAA4AAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAADgAAAAAAAAAAAA4AAAAOAAAAAAAAAAAADgAOAA4AAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4AAAAAAA4ADgAOAA4ADgAOAA4ADgAOAAAADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4AAAAAAAAAAAAAAAAAAAAAAA4ADgAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAOAA4ADgAOAA4ADgAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAAAAAAAAA="),$n="ร",jn=function(e){return Vn.get(e)},Kn=function(e,t,A){var n=A-2,i=t[n],r=t[A-1],o=t[A];if(2===r&&3===o)return $n;if(2===r||3===r||4===r)return"รท";if(2===o||3===o||4===o)return"รท";if(r===Pn&&-1!==[Pn,Nn,Dn,On].indexOf(o))return $n;if(!(r!==Dn&&r!==Nn||o!==Nn&&10!==o))return $n;if((r===On||10===r)&&10===o)return $n;if(13===o||5===o)return $n;if(7===o)return $n;if(1===r)return $n;if(13===r&&14===o){for(;5===i;)i=t[--n];if(14===i)return $n}if(15===r&&15===o){for(var s=0;15===i;)s++,i=t[--n];if(s%2==0)return $n}return"รท"},Rn=function(e){var t=function(e){for(var t=[],A=0,n=e.length;A<n;){var i=e.charCodeAt(A++);if(i>=55296&&i<=56319&&A<n){var r=e.charCodeAt(A++);56320==(64512&r)?t.push(((1023&i)<<10)+(1023&r)+65536):(t.push(i),A--)}else t.push(i)}return t}(e),A=t.length,n=0,i=0,r=t.map(jn);return{next:function(){if(n>=A)return{done:!0,value:null};for(var e=$n;n<A&&(e=Kn(0,r,++n))===$n;);if(e!==$n||n===A){var o=_n.apply(null,t.slice(i,n));return i=n,{value:o,done:!1}}return{done:!0,value:null}}}},qn=function(e){return 0===e[0]&&255===e[1]&&0===e[2]&&255===e[3]},Gn=function(e,t,A,n,i){var r="http://www.w3.org/2000/svg",o=document.createElementNS(r,"svg"),s=document.createElementNS(r,"foreignObject");return o.setAttributeNS(null,"width",e.toString()),o.setAttributeNS(null,"height",t.toString()),s.setAttributeNS(null,"width","100%"),s.setAttributeNS(null,"height","100%"),s.setAttributeNS(null,"x",A.toString()),s.setAttributeNS(null,"y",n.toString()),s.setAttributeNS(null,"externalResourcesRequired","true"),o.appendChild(s),s.appendChild(i),o},Wn=function(e){return new Promise((function(t,A){var n=new Image;n.onload=function(){return t(n)},n.onerror=A,n.src="data:image/svg+xml;charset=utf-8,"+encodeURIComponent((new XMLSerializer).serializeToString(e))}))},Zn={get SUPPORT_RANGE_BOUNDS(){var e=function(e){if(e.createRange){var t=e.createRange();if(t.getBoundingClientRect){var A=e.createElement("boundtest");A.style.height="123px",A.style.display="block",e.body.appendChild(A),t.selectNode(A);var n=t.getBoundingClientRect(),i=Math.round(n.height);if(e.body.removeChild(A),123===i)return!0}}return!1}(document);return Object.defineProperty(Zn,"SUPPORT_RANGE_BOUNDS",{value:e}),e},get SUPPORT_WORD_BREAKING(){var e=Zn.SUPPORT_RANGE_BOUNDS&&function(e){var t=e.createElement("boundtest");t.style.width="50px",t.style.display="block",t.style.fontSize="12px",t.style.letterSpacing="0px",t.style.wordSpacing="0px",e.body.appendChild(t);var A=e.createRange();t.innerHTML="function"==typeof"".repeat?"&#128104;".repeat(10):"";var n=t.firstChild,i=a(n.data).map((function(e){return l(e)})),r=0,o={},s=i.every((function(e,t){A.setStart(n,r),A.setEnd(n,r+e.length);var i=A.getBoundingClientRect();r+=e.length;var s=i.x>o.x||i.y>o.y;return o=i,0===t||s}));return e.body.removeChild(t),s}(document);return Object.defineProperty(Zn,"SUPPORT_WORD_BREAKING",{value:e}),e},get SUPPORT_SVG_DRAWING(){var e=function(e){var t=new Image,A=e.createElement("canvas"),n=A.getContext("2d");if(!n)return!1;t.src="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg'></svg>";try{n.drawImage(t,0,0),A.toDataURL()}catch(e){return!1}return!0}(document);return Object.defineProperty(Zn,"SUPPORT_SVG_DRAWING",{value:e}),e},get SUPPORT_FOREIGNOBJECT_DRAWING(){var e="function"==typeof Array.from&&"function"==typeof window.fetch?function(e){var t=e.createElement("canvas"),A=100;t.width=A,t.height=A;var n=t.getContext("2d");if(!n)return Promise.reject(!1);n.fillStyle="rgb(0, 255, 0)",n.fillRect(0,0,A,A);var i=new Image,r=t.toDataURL();i.src=r;var o=Gn(A,A,0,0,i);return n.fillStyle="red",n.fillRect(0,0,A,A),Wn(o).then((function(t){n.drawImage(t,0,0);var i=n.getImageData(0,0,A,A).data;n.fillStyle="red",n.fillRect(0,0,A,A);var o=e.createElement("div");return o.style.backgroundImage="url("+r+")",o.style.height=A+"px",qn(i)?Wn(Gn(A,A,0,0,o)):Promise.reject(!1)})).then((function(e){return n.drawImage(e,0,0),qn(n.getImageData(0,0,A,A).data)})).catch((function(){return!1}))}(document):Promise.resolve(!1);return Object.defineProperty(Zn,"SUPPORT_FOREIGNOBJECT_DRAWING",{value:e}),e},get SUPPORT_CORS_IMAGES(){var e=void 0!==(new Image).crossOrigin;return Object.defineProperty(Zn,"SUPPORT_CORS_IMAGES",{value:e}),e},get SUPPORT_RESPONSE_TYPE(){var e="string"==typeof(new XMLHttpRequest).responseType;return Object.defineProperty(Zn,"SUPPORT_RESPONSE_TYPE",{value:e}),e},get SUPPORT_CORS_XHR(){var e="withCredentials"in new XMLHttpRequest;return Object.defineProperty(Zn,"SUPPORT_CORS_XHR",{value:e}),e},get SUPPORT_NATIVE_TEXT_SEGMENTATION(){var e=!("undefined"==typeof Intl||!Intl.Segmenter);return Object.defineProperty(Zn,"SUPPORT_NATIVE_TEXT_SEGMENTATION",{value:e}),e}},zn=function(e,t){this.text=e,this.bounds=t},Jn=function(e,t){var A=t.ownerDocument;if(A){var n=A.createElement("html2canvaswrapper");n.appendChild(t.cloneNode(!0));var i=t.parentNode;if(i){i.replaceChild(n,t);var r=s(e,n);return n.firstChild&&i.replaceChild(n.firstChild,n),r}}return o.EMPTY},Xn=function(e,t,A){var n=e.ownerDocument;if(!n)throw new Error("Node has no owner document");var i=n.createRange();return i.setStart(e,t),i.setEnd(e,t+A),i},Yn=function(e){if(Zn.SUPPORT_NATIVE_TEXT_SEGMENTATION){var t=new Intl.Segmenter(void 0,{granularity:"grapheme"});return Array.from(t.segment(e)).map((function(e){return e.segment}))}return function(e){for(var t,A=Rn(e),n=[];!(t=A.next()).done;)t.value&&n.push(t.value.slice());return n}(e)},ei=function(e,t){return 0!==t.letterSpacing?Yn(e):function(e,t){if(Zn.SUPPORT_NATIVE_TEXT_SEGMENTATION){var A=new Intl.Segmenter(void 0,{granularity:"word"});return Array.from(A.segment(e)).map((function(e){return e.segment}))}return Ai(e,t)}(e,t)},ti=[32,160,4961,65792,65793,4153,4241],Ai=function(e,t){for(var A,n=function(e,t){var A=a(e),n=re(A,t),i=n[0],r=n[1],o=n[2],s=A.length,l=0,c=0;return{next:function(){if(c>=s)return{done:!0,value:null};for(var e=q;c<s&&(e=ie(A,r,i,++c,o))===q;);if(e!==q||c===s){var t=new oe(A,e,l,c);return l=c,{value:t,done:!1}}return{done:!0,value:null}}}}(e,{lineBreak:t.lineBreak,wordBreak:"break-word"===t.overflowWrap?"break-word":t.wordBreak}),i=[],r=function(){if(A.value){var e=A.value.slice(),t=a(e),n="";t.forEach((function(e){-1===ti.indexOf(e)?n+=l(e):(n.length&&i.push(n),i.push(l(e)),n="")})),n.length&&i.push(n)}};!(A=n.next()).done;)r();return i},ni=function(e,t,A){this.text=ii(t.data,A.textTransform),this.textBounds=function(e,t,A,n){var i=ei(t,A),r=[],s=0;return i.forEach((function(t){if(A.textDecorationLine.length||t.trim().length>0)if(Zn.SUPPORT_RANGE_BOUNDS){var i=Xn(n,s,t.length).getClientRects();if(i.length>1){var a=Yn(t),l=0;a.forEach((function(t){r.push(new zn(t,o.fromDOMRectList(e,Xn(n,l+s,t.length).getClientRects()))),l+=t.length}))}else r.push(new zn(t,o.fromDOMRectList(e,i)))}else{var c=n.splitText(t.length);r.push(new zn(t,Jn(e,n))),n=c}else Zn.SUPPORT_RANGE_BOUNDS||(n=n.splitText(t.length));s+=t.length})),r}(e,this.text,A,t)},ii=function(e,t){switch(t){case 1:return e.toLowerCase();case 3:return e.replace(ri,oi);case 2:return e.toUpperCase();default:return e}},ri=/(^|\s|:|-|\(|\))([a-z])/g,oi=function(e,t,A){return e.length>0?t+A.toUpperCase():e},si=function(e){function A(t,A){var n=e.call(this,t,A)||this;return n.src=A.currentSrc||A.src,n.intrinsicWidth=A.naturalWidth,n.intrinsicHeight=A.naturalHeight,n.context.cache.addImage(n.src),n}return t(A,e),A}(Qn),ai=function(e){function A(t,A){var n=e.call(this,t,A)||this;return n.canvas=A,n.intrinsicWidth=A.width,n.intrinsicHeight=A.height,n}return t(A,e),A}(Qn),li=function(e){function A(t,A){var n=e.call(this,t,A)||this,i=new XMLSerializer,r=s(t,A);return A.setAttribute("width",r.width+"px"),A.setAttribute("height",r.height+"px"),n.svg="data:image/svg+xml,"+encodeURIComponent(i.serializeToString(A)),n.intrinsicWidth=A.width.baseVal.value,n.intrinsicHeight=A.height.baseVal.value,n.context.cache.addImage(n.svg),n}return t(A,e),A}(Qn),ci=function(e){function A(t,A){var n=e.call(this,t,A)||this;return n.value=A.value,n}return t(A,e),A}(Qn),di=function(e){function A(t,A){var n=e.call(this,t,A)||this;return n.start=A.start,n.reversed="boolean"==typeof A.reversed&&!0===A.reversed,n}return t(A,e),A}(Qn),ui=[{type:15,flags:0,unit:"px",number:3}],hi=[{type:16,flags:0,number:50}],pi="checkbox",gi="radio",fi="password",mi=707406591,vi=function(e){function A(t,A){var n,i,r,s=e.call(this,t,A)||this;switch(s.type=A.type.toLowerCase(),s.checked=A.checked,s.value=0===(r=(i=A).type===fi?new Array(i.value.length+1).join("โข"):i.value).length?i.placeholder||"":r,s.type!==pi&&s.type!==gi||(s.styles.backgroundColor=3739148031,s.styles.borderTopColor=s.styles.borderRightColor=s.styles.borderBottomColor=s.styles.borderLeftColor=2779096575,s.styles.borderTopWidth=s.styles.borderRightWidth=s.styles.borderBottomWidth=s.styles.borderLeftWidth=1,s.styles.borderTopStyle=s.styles.borderRightStyle=s.styles.borderBottomStyle=s.styles.borderLeftStyle=1,s.styles.backgroundClip=[0],s.styles.backgroundOrigin=[0],s.bounds=(n=s.bounds).width>n.height?new o(n.left+(n.width-n.height)/2,n.top,n.height,n.height):n.width<n.height?new o(n.left,n.top+(n.height-n.width)/2,n.width,n.width):n),s.type){case pi:s.styles.borderTopRightRadius=s.styles.borderTopLeftRadius=s.styles.borderBottomRightRadius=s.styles.borderBottomLeftRadius=ui;break;case gi:s.styles.borderTopRightRadius=s.styles.borderTopLeftRadius=s.styles.borderBottomRightRadius=s.styles.borderBottomLeftRadius=hi}return s}return t(A,e),A}(Qn),Bi=function(e){function A(t,A){var n=e.call(this,t,A)||this,i=A.options[A.selectedIndex||0];return n.value=i&&i.text||"",n}return t(A,e),A}(Qn),wi=function(e){function A(t,A){var n=e.call(this,t,A)||this;return n.value=A.value,n}return t(A,e),A}(Qn),yi=function(e){function A(t,A){var n=e.call(this,t,A)||this;n.src=A.src,n.width=parseInt(A.width,10)||0,n.height=parseInt(A.height,10)||0,n.backgroundColor=n.styles.backgroundColor;try{if(A.contentWindow&&A.contentWindow.document&&A.contentWindow.document.documentElement){n.tree=Ei(t,A.contentWindow.document.documentElement);var i=A.contentWindow.document.documentElement?yt(t,getComputedStyle(A.contentWindow.document.documentElement).backgroundColor):Ct.TRANSPARENT,r=A.contentWindow.document.body?yt(t,getComputedStyle(A.contentWindow.document.body).backgroundColor):Ct.TRANSPARENT;n.backgroundColor=ht(i)?ht(r)?n.styles.backgroundColor:r:i}}catch(e){}return n}return t(A,e),A}(Qn),Ci=["OL","UL","MENU"],bi=function(e,t,A,n){for(var i=t.firstChild,r=void 0;i;i=r)if(r=i.nextSibling,xi(i)&&i.data.trim().length>0)A.textNodes.push(new ni(e,i,A.styles));else if(Fi(i))if(Ki(i)&&i.assignedNodes)i.assignedNodes().forEach((function(t){return bi(e,t,A,n)}));else{var o=Ii(e,i);o.styles.isVisible()&&(Qi(i,o,n)?o.flags|=4:Ui(o.styles)&&(o.flags|=2),-1!==Ci.indexOf(i.tagName)&&(o.flags|=8),A.elements.push(o),i.slot,i.shadowRoot?bi(e,i.shadowRoot,o,n):$i(i)||ki(i)||ji(i)||bi(e,i,o,n))}},Ii=function(e,t){return Oi(t)?new si(e,t):Ni(t)?new ai(e,t):ki(t)?new li(e,t):Si(t)?new ci(e,t):Hi(t)?new di(e,t):Mi(t)?new vi(e,t):ji(t)?new Bi(e,t):$i(t)?new wi(e,t):_i(t)?new yi(e,t):new Qn(e,t)},Ei=function(e,t){var A=Ii(e,t);return A.flags|=4,bi(e,t,A,A),A},Qi=function(e,t,A){return t.styles.isPositionedWithZIndex()||t.styles.opacity<1||t.styles.isTransformed()||Pi(e)&&A.styles.isTransparent()},Ui=function(e){return e.isPositioned()||e.isFloating()},xi=function(e){return e.nodeType===Node.TEXT_NODE},Fi=function(e){return e.nodeType===Node.ELEMENT_NODE},Ti=function(e){return Fi(e)&&void 0!==e.style&&!Li(e)},Li=function(e){return"object"==typeof e.className},Si=function(e){return"LI"===e.tagName},Hi=function(e){return"OL"===e.tagName},Mi=function(e){return"INPUT"===e.tagName},ki=function(e){return"svg"===e.tagName},Pi=function(e){return"BODY"===e.tagName},Ni=function(e){return"CANVAS"===e.tagName},Di=function(e){return"VIDEO"===e.tagName},Oi=function(e){return"IMG"===e.tagName},_i=function(e){return"IFRAME"===e.tagName},Vi=function(e){return"STYLE"===e.tagName},$i=function(e){return"TEXTAREA"===e.tagName},ji=function(e){return"SELECT"===e.tagName},Ki=function(e){return"SLOT"===e.tagName},Ri=function(e){return e.tagName.indexOf("-")>0},qi=function(){function e(){this.counters={}}return e.prototype.getCounterValue=function(e){var t=this.counters[e];return t&&t.length?t[t.length-1]:1},e.prototype.getCounterValues=function(e){return this.counters[e]||[]},e.prototype.pop=function(e){var t=this;e.forEach((function(e){return t.counters[e].pop()}))},e.prototype.parse=function(e){var t=this,A=e.counterIncrement,n=e.counterReset,i=!0;null!==A&&A.forEach((function(e){var A=t.counters[e.counter];A&&0!==e.increment&&(i=!1,A.length||A.push(1),A[Math.max(0,A.length-1)]+=e.increment)}));var r=[];return i&&n.forEach((function(e){var A=t.counters[e.counter];r.push(e.counter),A||(A=t.counters[e.counter]=[]),A.push(e.reset)})),r},e}(),Gi={integers:[1e3,900,500,400,100,90,50,40,10,9,5,4,1],values:["M","CM","D","CD","C","XC","L","XL","X","IX","V","IV","I"]},Wi={integers:[9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,900,800,700,600,500,400,300,200,100,90,80,70,60,50,40,30,20,10,9,8,7,6,5,4,3,2,1],values:["ี","ี","ี","ี","ี","ี","ี","ี","ี","ี","ี","ี","ี","ี","ี","ี","ี","ี","ี","ี","ี","ิฟ","ิพ","ิฝ","ิผ","ิป","ิบ","ิน","ิธ","ิท","ิถ","ิต","ิด","ิณ","ิฒ","ิฑ"]},Zi={integers:[1e4,9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,400,300,200,100,90,80,70,60,50,40,30,20,19,18,17,16,15,10,9,8,7,6,5,4,3,2,1],values:["ืืณ","ืืณ","ืืณ","ืืณ","ืืณ","ืืณ","ืืณ","ืืณ","ืืณ","ืืณ","ืช","ืฉ","ืจ","ืง","ืฆ","ืค","ืข","ืก","ื","ื","ื","ื","ืื","ืื","ืื","ืื","ืื","ื","ื","ื","ื","ื","ื","ื","ื","ื","ื"]},zi={integers:[1e4,9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,900,800,700,600,500,400,300,200,100,90,80,70,60,50,40,30,20,10,9,8,7,6,5,4,3,2,1],values:["แต","แฐ","แฏ","แด","แฎ","แญ","แฌ","แซ","แช","แฉ","แจ","แง","แฆ","แฅ","แค","แณ","แข","แก","แ","แ","แ","แ","แฒ","แ","แ","แ","แ","แ","แ","แฑ","แ","แ","แ","แ","แ","แ","แ"]},Ji=function(e,t,A,n,i,r){return e<t||e>A?or(e,i,r.length>0):n.integers.reduce((function(t,A,i){for(;e>=A;)e-=A,t+=n.values[i];return t}),"")+r},Xi=function(e,t,A,n){var i="";do{A||e--,i=n(e)+i,e/=t}while(e*t>=t);return i},Yi=function(e,t,A,n,i){var r=A-t+1;return(e<0?"-":"")+(Xi(Math.abs(e),r,n,(function(e){return l(Math.floor(e%r)+t)}))+i)},er=function(e,t,A){void 0===A&&(A=". ");var n=t.length;return Xi(Math.abs(e),n,!1,(function(e){return t[Math.floor(e%n)]}))+A},tr=function(e,t,A,n,i,r){if(e<-9999||e>9999)return or(e,4,i.length>0);var o=Math.abs(e),s=i;if(0===o)return t[0]+s;for(var a=0;o>0&&a<=4;a++){var l=o%10;0===l&&cn(r,1)&&""!==s?s=t[l]+s:l>1||1===l&&0===a||1===l&&1===a&&cn(r,2)||1===l&&1===a&&cn(r,4)&&e>100||1===l&&a>1&&cn(r,8)?s=t[l]+(a>0?A[a-1]:"")+s:1===l&&a>0&&(s=A[a-1]+s),o=Math.floor(o/10)}return(e<0?n:"")+s},Ar="ๅ็พๅ่ฌ",nr="ๆพไฝฐไป่ฌ",ir="ใใคใใน",rr="๋ง์ด๋์ค",or=function(e,t,A){var n=A?". ":"",i=A?"ใ":"",r=A?", ":"",o=A?" ":"";switch(t){case 0:return"โข"+o;case 1:return"โฆ"+o;case 2:return"โพ"+o;case 5:var s=Yi(e,48,57,!0,n);return s.length<4?"0"+s:s;case 4:return er(e,"ใไธไบไธๅไบๅญไธๅซไน",i);case 6:return Ji(e,1,3999,Gi,3,n).toLowerCase();case 7:return Ji(e,1,3999,Gi,3,n);case 8:return Yi(e,945,969,!1,n);case 9:return Yi(e,97,122,!1,n);case 10:return Yi(e,65,90,!1,n);case 11:return Yi(e,1632,1641,!0,n);case 12:case 49:return Ji(e,1,9999,Wi,3,n);case 35:return Ji(e,1,9999,Wi,3,n).toLowerCase();case 13:return Yi(e,2534,2543,!0,n);case 14:case 30:return Yi(e,6112,6121,!0,n);case 15:return er(e,"ๅญไธๅฏๅฏ่พฐๅทณๅๆช็ณ้ๆไบฅ",i);case 16:return er(e,"็ฒไนไธไธๆๅทฑๅบ่พๅฃฌ็ธ",i);case 17:case 48:return tr(e,"้ถไธไบไธๅไบๅญไธๅซไน",Ar,"่ฒ",i,14);case 47:return tr(e,"้ถๅฃน่ฒณๅ่ไผ้ธๆๆ็",nr,"่ฒ",i,15);case 42:return tr(e,"้ถไธไบไธๅไบๅญไธๅซไน",Ar,"่ด",i,14);case 41:return tr(e,"้ถๅฃน่ดฐๅ่ไผ้ๆๆ็",nr,"่ด",i,15);case 26:return tr(e,"ใไธไบไธๅไบๅญไธๅซไน","ๅ็พๅไธ",ir,i,0);case 25:return tr(e,"้ถๅฃฑๅผๅๅไผๅญไธๅซไน","ๆพ็พๅไธ",ir,i,7);case 31:return tr(e,"์์ผ์ด์ผ์ฌ์ค์ก์นํ๊ตฌ","์ญ๋ฐฑ์ฒ๋ง",rr,r,7);case 33:return tr(e,"้ถไธไบไธๅไบๅญไธๅซไน","ๅ็พๅ่ฌ",rr,r,0);case 32:return tr(e,"้ถๅฃน่ฒณๅๅไบๅญไธๅซไน","ๆพ็พๅ",rr,r,7);case 18:return Yi(e,2406,2415,!0,n);case 20:return Ji(e,1,19999,zi,3,n);case 21:return Yi(e,2790,2799,!0,n);case 22:return Yi(e,2662,2671,!0,n);case 22:return Ji(e,1,10999,Zi,3,n);case 23:return er(e,"ใใใใใใใใใใใใใใใใใกใคใฆใจใชใซใฌใญใฎใฏใฒใตใธใปใพใฟใใใใใใใใใใใใใใใใ");case 24:return er(e,"ใใใฏใซใปใธใจใกใใฌใใใใใใใใใคใญใชใใใใใฎใใใใพใใตใใใฆใใใใใใฟใใใฒใใใ");case 27:return Yi(e,3302,3311,!0,n);case 28:return er(e,"ใขใคใฆใจใชใซใญใฏใฑใณใตใทในใปใฝใฟใใใใใใใใใใใใใใใใใใกใขใคใฆใจใฉใชใซใฌใญใฏใฐใฑใฒใณ",i);case 29:return er(e,"ใคใญใใใใใใใชใใซใฒใฏใซใจใฟใฌใฝใใใใฉใใฆใฐใใชใฏใคใใฑใใณใจใใขใตใญใฆใกใใทใฑใใขใปใน",i);case 34:return Yi(e,3792,3801,!0,n);case 37:return Yi(e,6160,6169,!0,n);case 38:return Yi(e,4160,4169,!0,n);case 39:return Yi(e,2918,2927,!0,n);case 40:return Yi(e,1776,1785,!0,n);case 43:return Yi(e,3046,3055,!0,n);case 44:return Yi(e,3174,3183,!0,n);case 45:return Yi(e,3664,3673,!0,n);case 46:return Yi(e,3872,3881,!0,n);default:return Yi(e,48,57,!0,n)}},sr="data-html2canvas-ignore",ar=function(){function e(e,t,A){if(this.context=e,this.options=A,this.scrolledElements=[],this.referenceElement=t,this.counters=new qi,this.quoteDepth=0,!t.ownerDocument)throw new Error("Cloned element does not have an owner document");this.documentElement=this.cloneNode(t.ownerDocument.documentElement,!1)}return e.prototype.toIFrame=function(e,t){var A=this,r=cr(e,t);if(!r.contentWindow)return Promise.reject("Unable to find iframe window");var o=e.defaultView.pageXOffset,s=e.defaultView.pageYOffset,a=r.contentWindow,l=a.document,c=hr(r).then((function(){return n(A,void 0,void 0,(function(){var e,A;return i(this,(function(n){switch(n.label){case 0:return this.scrolledElements.forEach(vr),a&&(a.scrollTo(t.left,t.top),!/(iPad|iPhone|iPod)/g.test(navigator.userAgent)||a.scrollY===t.top&&a.scrollX===t.left||(this.context.logger.warn("Unable to restore scroll position for cloned document"),this.context.windowBounds=this.context.windowBounds.add(a.scrollX-t.left,a.scrollY-t.top,0,0))),e=this.options.onclone,void 0===(A=this.clonedReferenceElement)?[2,Promise.reject("Error finding the "+this.referenceElement.nodeName+" in the cloned document")]:l.fonts&&l.fonts.ready?[4,l.fonts.ready]:[3,2];case 1:n.sent(),n.label=2;case 2:return/(AppleWebKit)/g.test(navigator.userAgent)?[4,ur(l)]:[3,4];case 3:n.sent(),n.label=4;case 4:return"function"==typeof e?[2,Promise.resolve().then((function(){return e(l,A)})).then((function(){return r}))]:[2,r]}}))}))}));return l.open(),l.write(fr(document.doctype)+"<html></html>"),mr(this.referenceElement.ownerDocument,o,s),l.replaceChild(l.adoptNode(this.documentElement),l.documentElement),l.close(),c},e.prototype.createElementClone=function(e){if(En(e,2),Ni(e))return this.createCanvasClone(e);if(Di(e))return this.createVideoClone(e);if(Vi(e))return this.createStyleClone(e);var t=e.cloneNode(!1);return Oi(t)&&(Oi(e)&&e.currentSrc&&e.currentSrc!==e.src&&(t.src=e.currentSrc,t.srcset=""),"lazy"===t.loading&&(t.loading="eager")),Ri(t)?this.createCustomElementClone(t):t},e.prototype.createCustomElementClone=function(e){var t=document.createElement("html2canvascustomelement");return gr(e.style,t),t},e.prototype.createStyleClone=function(e){try{var t=e.sheet;if(t&&t.cssRules){var A=[].slice.call(t.cssRules,0).reduce((function(e,t){return t&&"string"==typeof t.cssText?e+t.cssText:e}),""),n=e.cloneNode(!1);return n.textContent=A,n}}catch(e){if(this.context.logger.error("Unable to access cssRules property",e),"SecurityError"!==e.name)throw e}return e.cloneNode(!1)},e.prototype.createCanvasClone=function(e){var t;if(this.options.inlineImages&&e.ownerDocument){var A=e.ownerDocument.createElement("img");try{return A.src=e.toDataURL(),A}catch(t){this.context.logger.info("Unable to inline canvas contents, canvas is tainted",e)}}var n=e.cloneNode(!1);try{n.width=e.width,n.height=e.height;var i=e.getContext("2d"),r=n.getContext("2d");if(r)if(!this.options.allowTaint&&i)r.putImageData(i.getImageData(0,0,e.width,e.height),0,0);else{var o=null!==(t=e.getContext("webgl2"))&&void 0!==t?t:e.getContext("webgl");if(o){var s=o.getContextAttributes();!1===(null==s?void 0:s.preserveDrawingBuffer)&&this.context.logger.warn("Unable to clone WebGL context as it has preserveDrawingBuffer=false",e)}r.drawImage(e,0,0)}return n}catch(t){this.context.logger.info("Unable to clone canvas as it is tainted",e)}return n},e.prototype.createVideoClone=function(e){var t=e.ownerDocument.createElement("canvas");t.width=e.offsetWidth,t.height=e.offsetHeight;var A=t.getContext("2d");try{return A&&(A.drawImage(e,0,0,t.width,t.height),this.options.allowTaint||A.getImageData(0,0,t.width,t.height)),t}catch(t){this.context.logger.info("Unable to clone video as it is tainted",e)}var n=e.ownerDocument.createElement("canvas");return n.width=e.offsetWidth,n.height=e.offsetHeight,n},e.prototype.appendChildNode=function(e,t,A){Fi(t)&&("SCRIPT"===t.tagName||t.hasAttribute(sr)||"function"==typeof this.options.ignoreElements&&this.options.ignoreElements(t))||this.options.copyStyles&&Fi(t)&&Vi(t)||e.appendChild(this.cloneNode(t,A))},e.prototype.cloneChildNodes=function(e,t,A){for(var n=this,i=e.shadowRoot?e.shadowRoot.firstChild:e.firstChild;i;i=i.nextSibling)if(Fi(i)&&Ki(i)&&"function"==typeof i.assignedNodes){var r=i.assignedNodes();r.length&&r.forEach((function(e){return n.appendChildNode(t,e,A)}))}else this.appendChildNode(t,i,A)},e.prototype.cloneNode=function(e,t){if(xi(e))return document.createTextNode(e.data);if(!e.ownerDocument)return e.cloneNode(!1);var A=e.ownerDocument.defaultView;if(A&&Fi(e)&&(Ti(e)||Li(e))){var n=this.createElementClone(e);n.style.transitionProperty="none";var i=A.getComputedStyle(e),r=A.getComputedStyle(e,":before"),o=A.getComputedStyle(e,":after");this.referenceElement===e&&Ti(n)&&(this.clonedReferenceElement=n),Pi(n)&&Cr(n);var s=this.counters.parse(new bn(this.context,i)),a=this.resolvePseudoContent(e,n,r,kn.BEFORE);Ri(e)&&(t=!0),Di(e)||this.cloneChildNodes(e,n,t),a&&n.insertBefore(a,n.firstChild);var l=this.resolvePseudoContent(e,n,o,kn.AFTER);return l&&n.appendChild(l),this.counters.pop(s),(i&&(this.options.copyStyles||Li(e))&&!_i(e)||t)&&gr(i,n),0===e.scrollTop&&0===e.scrollLeft||this.scrolledElements.push([n,e.scrollLeft,e.scrollTop]),($i(e)||ji(e))&&($i(n)||ji(n))&&(n.value=e.value),n}return e.cloneNode(!1)},e.prototype.resolvePseudoContent=function(e,t,A,n){var i=this;if(A){var r=A.content,o=t.ownerDocument;if(o&&r&&"none"!==r&&"-moz-alt-content"!==r&&"none"!==A.display){this.counters.parse(new bn(this.context,A));var s=new Cn(this.context,A),a=o.createElement("html2canvaspseudoelement");gr(A,a),s.content.forEach((function(t){if(0===t.type)a.appendChild(o.createTextNode(t.value));else if(22===t.type){var A=o.createElement("img");A.src=t.value,A.style.opacity="1",a.appendChild(A)}else if(18===t.type){if("attr"===t.name){var n=t.values.filter(Re);n.length&&a.appendChild(o.createTextNode(e.getAttribute(n[0].value)||""))}else if("counter"===t.name){var r=t.values.filter(Ze),l=r[0],c=r[1];if(l&&Re(l)){var d=i.counters.getCounterValue(l.value),u=c&&Re(c)?FA.parse(i.context,c.value):3;a.appendChild(o.createTextNode(or(d,u,!1)))}}else if("counters"===t.name){var h=t.values.filter(Ze),p=(l=h[0],h[1]);if(c=h[2],l&&Re(l)){var g=i.counters.getCounterValues(l.value),f=c&&Re(c)?FA.parse(i.context,c.value):3,m=p&&0===p.type?p.value:"",v=g.map((function(e){return or(e,f,!1)})).join(m);a.appendChild(o.createTextNode(v))}}}else if(20===t.type)switch(t.value){case"open-quote":a.appendChild(o.createTextNode(fn(s.quotes,i.quoteDepth++,!0)));break;case"close-quote":a.appendChild(o.createTextNode(fn(s.quotes,--i.quoteDepth,!1)));break;default:a.appendChild(o.createTextNode(t.value))}})),a.className=Br+" "+wr;var l=n===kn.BEFORE?" "+Br:" "+wr;return Li(t)?t.className.baseValue+=l:t.className+=l,a}}},e.destroy=function(e){return!!e.parentNode&&(e.parentNode.removeChild(e),!0)},e}();!function(e){e[e.BEFORE=0]="BEFORE",e[e.AFTER=1]="AFTER"}(kn||(kn={}));var lr,cr=function(e,t){var A=e.createElement("iframe");return A.className="html2canvas-container",A.style.visibility="hidden",A.style.position="fixed",A.style.left="-10000px",A.style.top="0px",A.style.border="0",A.width=t.width.toString(),A.height=t.height.toString(),A.scrolling="no",A.setAttribute(sr,"true"),e.body.appendChild(A),A},dr=function(e){return new Promise((function(t){e.complete?t():e.src?(e.onload=t,e.onerror=t):t()}))},ur=function(e){return Promise.all([].slice.call(e.images,0).map(dr))},hr=function(e){return new Promise((function(t,A){var n=e.contentWindow;if(!n)return A("No window assigned for iframe");var i=n.document;n.onload=e.onload=function(){n.onload=e.onload=null;var A=setInterval((function(){i.body.childNodes.length>0&&"complete"===i.readyState&&(clearInterval(A),t(e))}),50)}}))},pr=["all","d","content"],gr=function(e,t){for(var A=e.length-1;A>=0;A--){var n=e.item(A);-1===pr.indexOf(n)&&t.style.setProperty(n,e.getPropertyValue(n))}return t},fr=function(e){var t="";return e&&(t+="<!DOCTYPE ",e.name&&(t+=e.name),e.internalSubset&&(t+=e.internalSubset),e.publicId&&(t+='"'+e.publicId+'"'),e.systemId&&(t+='"'+e.systemId+'"'),t+=">"),t},mr=function(e,t,A){e&&e.defaultView&&(t!==e.defaultView.pageXOffset||A!==e.defaultView.pageYOffset)&&e.defaultView.scrollTo(t,A)},vr=function(e){var t=e[0],A=e[1],n=e[2];t.scrollLeft=A,t.scrollTop=n},Br="___html2canvas___pseudoelement_before",wr="___html2canvas___pseudoelement_after",yr='{\n    content: "" !important;\n    display: none !important;\n}',Cr=function(e){br(e,"."+Br+":before"+yr+"\n         ."+wr+":after"+yr)},br=function(e,t){var A=e.ownerDocument;if(A){var n=A.createElement("style");n.textContent=t,e.appendChild(n)}},Ir=function(){function e(){}return e.getOrigin=function(t){var A=e._link;return A?(A.href=t,A.href=A.href,A.protocol+A.hostname+A.port):"about:blank"},e.isSameOrigin=function(t){return e.getOrigin(t)===e._origin},e.setContext=function(t){e._link=t.document.createElement("a"),e._origin=e.getOrigin(t.location.href)},e._origin="about:blank",e}(),Er=function(){function e(e,t){this.context=e,this._options=t,this._cache={}}return e.prototype.addImage=function(e){var t=Promise.resolve();return this.has(e)?t:Sr(e)||Fr(e)?((this._cache[e]=this.loadImage(e)).catch((function(){})),t):t},e.prototype.match=function(e){return this._cache[e]},e.prototype.loadImage=function(e){return n(this,void 0,void 0,(function(){var t,A,n,r,o=this;return i(this,(function(i){switch(i.label){case 0:return t=Ir.isSameOrigin(e),A=!Tr(e)&&!0===this._options.useCORS&&Zn.SUPPORT_CORS_IMAGES&&!t,n=!Tr(e)&&!t&&!Sr(e)&&"string"==typeof this._options.proxy&&Zn.SUPPORT_CORS_XHR&&!A,t||!1!==this._options.allowTaint||Tr(e)||Sr(e)||n||A?(r=e,n?[4,this.proxy(r)]:[3,2]):[2];case 1:r=i.sent(),i.label=2;case 2:return this.context.logger.debug("Added image "+e.substring(0,256)),[4,new Promise((function(e,t){var n=new Image;n.onload=function(){return e(n)},n.onerror=t,(Lr(r)||A)&&(n.crossOrigin="anonymous"),n.src=r,!0===n.complete&&setTimeout((function(){return e(n)}),500),o._options.imageTimeout>0&&setTimeout((function(){return t("Timed out ("+o._options.imageTimeout+"ms) loading image")}),o._options.imageTimeout)}))];case 3:return[2,i.sent()]}}))}))},e.prototype.has=function(e){return void 0!==this._cache[e]},e.prototype.keys=function(){return Promise.resolve(Object.keys(this._cache))},e.prototype.proxy=function(e){var t=this,A=this._options.proxy;if(!A)throw new Error("No proxy defined");var n=e.substring(0,256);return new Promise((function(i,r){var o=Zn.SUPPORT_RESPONSE_TYPE?"blob":"text",s=new XMLHttpRequest;s.onload=function(){if(200===s.status)if("text"===o)i(s.response);else{var e=new FileReader;e.addEventListener("load",(function(){return i(e.result)}),!1),e.addEventListener("error",(function(e){return r(e)}),!1),e.readAsDataURL(s.response)}else r("Failed to proxy resource "+n+" with status code "+s.status)},s.onerror=r;var a=A.indexOf("?")>-1?"&":"?";if(s.open("GET",""+A+a+"url="+encodeURIComponent(e)+"&responseType="+o),"text"!==o&&s instanceof XMLHttpRequest&&(s.responseType=o),t._options.imageTimeout){var l=t._options.imageTimeout;s.timeout=l,s.ontimeout=function(){return r("Timed out ("+l+"ms) proxying "+n)}}s.send()}))},e}(),Qr=/^data:image\/svg\+xml/i,Ur=/^data:image\/.*;base64,/i,xr=/^data:image\/.*/i,Fr=function(e){return Zn.SUPPORT_SVG_DRAWING||!Hr(e)},Tr=function(e){return xr.test(e)},Lr=function(e){return Ur.test(e)},Sr=function(e){return"blob"===e.substr(0,4)},Hr=function(e){return"svg"===e.substr(-3).toLowerCase()||Qr.test(e)},Mr=function(){function e(e,t){this.type=0,this.x=e,this.y=t}return e.prototype.add=function(t,A){return new e(this.x+t,this.y+A)},e}(),kr=function(e,t,A){return new Mr(e.x+(t.x-e.x)*A,e.y+(t.y-e.y)*A)},Pr=function(){function e(e,t,A,n){this.type=1,this.start=e,this.startControl=t,this.endControl=A,this.end=n}return e.prototype.subdivide=function(t,A){var n=kr(this.start,this.startControl,t),i=kr(this.startControl,this.endControl,t),r=kr(this.endControl,this.end,t),o=kr(n,i,t),s=kr(i,r,t),a=kr(o,s,t);return A?new e(this.start,n,o,a):new e(a,s,r,this.end)},e.prototype.add=function(t,A){return new e(this.start.add(t,A),this.startControl.add(t,A),this.endControl.add(t,A),this.end.add(t,A))},e.prototype.reverse=function(){return new e(this.end,this.endControl,this.startControl,this.start)},e}(),Nr=function(e){return 1===e.type},Dr=function(e){var t=e.styles,A=e.bounds,n=it(t.borderTopLeftRadius,A.width,A.height),i=n[0],r=n[1],o=it(t.borderTopRightRadius,A.width,A.height),s=o[0],a=o[1],l=it(t.borderBottomRightRadius,A.width,A.height),c=l[0],d=l[1],u=it(t.borderBottomLeftRadius,A.width,A.height),h=u[0],p=u[1],g=[];g.push((i+s)/A.width),g.push((h+c)/A.width),g.push((r+p)/A.height),g.push((a+d)/A.height);var f=Math.max.apply(Math,g);f>1&&(i/=f,r/=f,s/=f,a/=f,c/=f,d/=f,h/=f,p/=f);var m=A.width-s,v=A.height-d,B=A.width-c,w=A.height-p,y=t.borderTopWidth,C=t.borderRightWidth,b=t.borderBottomWidth,I=t.borderLeftWidth,E=rt(t.paddingTop,e.bounds.width),Q=rt(t.paddingRight,e.bounds.width),U=rt(t.paddingBottom,e.bounds.width),x=rt(t.paddingLeft,e.bounds.width);this.topLeftBorderDoubleOuterBox=i>0||r>0?Or(A.left+I/3,A.top+y/3,i-I/3,r-y/3,lr.TOP_LEFT):new Mr(A.left+I/3,A.top+y/3),this.topRightBorderDoubleOuterBox=i>0||r>0?Or(A.left+m,A.top+y/3,s-C/3,a-y/3,lr.TOP_RIGHT):new Mr(A.left+A.width-C/3,A.top+y/3),this.bottomRightBorderDoubleOuterBox=c>0||d>0?Or(A.left+B,A.top+v,c-C/3,d-b/3,lr.BOTTOM_RIGHT):new Mr(A.left+A.width-C/3,A.top+A.height-b/3),this.bottomLeftBorderDoubleOuterBox=h>0||p>0?Or(A.left+I/3,A.top+w,h-I/3,p-b/3,lr.BOTTOM_LEFT):new Mr(A.left+I/3,A.top+A.height-b/3),this.topLeftBorderDoubleInnerBox=i>0||r>0?Or(A.left+2*I/3,A.top+2*y/3,i-2*I/3,r-2*y/3,lr.TOP_LEFT):new Mr(A.left+2*I/3,A.top+2*y/3),this.topRightBorderDoubleInnerBox=i>0||r>0?Or(A.left+m,A.top+2*y/3,s-2*C/3,a-2*y/3,lr.TOP_RIGHT):new Mr(A.left+A.width-2*C/3,A.top+2*y/3),this.bottomRightBorderDoubleInnerBox=c>0||d>0?Or(A.left+B,A.top+v,c-2*C/3,d-2*b/3,lr.BOTTOM_RIGHT):new Mr(A.left+A.width-2*C/3,A.top+A.height-2*b/3),this.bottomLeftBorderDoubleInnerBox=h>0||p>0?Or(A.left+2*I/3,A.top+w,h-2*I/3,p-2*b/3,lr.BOTTOM_LEFT):new Mr(A.left+2*I/3,A.top+A.height-2*b/3),this.topLeftBorderStroke=i>0||r>0?Or(A.left+I/2,A.top+y/2,i-I/2,r-y/2,lr.TOP_LEFT):new Mr(A.left+I/2,A.top+y/2),this.topRightBorderStroke=i>0||r>0?Or(A.left+m,A.top+y/2,s-C/2,a-y/2,lr.TOP_RIGHT):new Mr(A.left+A.width-C/2,A.top+y/2),this.bottomRightBorderStroke=c>0||d>0?Or(A.left+B,A.top+v,c-C/2,d-b/2,lr.BOTTOM_RIGHT):new Mr(A.left+A.width-C/2,A.top+A.height-b/2),this.bottomLeftBorderStroke=h>0||p>0?Or(A.left+I/2,A.top+w,h-I/2,p-b/2,lr.BOTTOM_LEFT):new Mr(A.left+I/2,A.top+A.height-b/2),this.topLeftBorderBox=i>0||r>0?Or(A.left,A.top,i,r,lr.TOP_LEFT):new Mr(A.left,A.top),this.topRightBorderBox=s>0||a>0?Or(A.left+m,A.top,s,a,lr.TOP_RIGHT):new Mr(A.left+A.width,A.top),this.bottomRightBorderBox=c>0||d>0?Or(A.left+B,A.top+v,c,d,lr.BOTTOM_RIGHT):new Mr(A.left+A.width,A.top+A.height),this.bottomLeftBorderBox=h>0||p>0?Or(A.left,A.top+w,h,p,lr.BOTTOM_LEFT):new Mr(A.left,A.top+A.height),this.topLeftPaddingBox=i>0||r>0?Or(A.left+I,A.top+y,Math.max(0,i-I),Math.max(0,r-y),lr.TOP_LEFT):new Mr(A.left+I,A.top+y),this.topRightPaddingBox=s>0||a>0?Or(A.left+Math.min(m,A.width-C),A.top+y,m>A.width+C?0:Math.max(0,s-C),Math.max(0,a-y),lr.TOP_RIGHT):new Mr(A.left+A.width-C,A.top+y),this.bottomRightPaddingBox=c>0||d>0?Or(A.left+Math.min(B,A.width-I),A.top+Math.min(v,A.height-b),Math.max(0,c-C),Math.max(0,d-b),lr.BOTTOM_RIGHT):new Mr(A.left+A.width-C,A.top+A.height-b),this.bottomLeftPaddingBox=h>0||p>0?Or(A.left+I,A.top+Math.min(w,A.height-b),Math.max(0,h-I),Math.max(0,p-b),lr.BOTTOM_LEFT):new Mr(A.left+I,A.top+A.height-b),this.topLeftContentBox=i>0||r>0?Or(A.left+I+x,A.top+y+E,Math.max(0,i-(I+x)),Math.max(0,r-(y+E)),lr.TOP_LEFT):new Mr(A.left+I+x,A.top+y+E),this.topRightContentBox=s>0||a>0?Or(A.left+Math.min(m,A.width+I+x),A.top+y+E,m>A.width+I+x?0:s-I+x,a-(y+E),lr.TOP_RIGHT):new Mr(A.left+A.width-(C+Q),A.top+y+E),this.bottomRightContentBox=c>0||d>0?Or(A.left+Math.min(B,A.width-(I+x)),A.top+Math.min(v,A.height+y+E),Math.max(0,c-(C+Q)),d-(b+U),lr.BOTTOM_RIGHT):new Mr(A.left+A.width-(C+Q),A.top+A.height-(b+U)),this.bottomLeftContentBox=h>0||p>0?Or(A.left+I+x,A.top+w,Math.max(0,h-(I+x)),p-(b+U),lr.BOTTOM_LEFT):new Mr(A.left+I+x,A.top+A.height-(b+U))};!function(e){e[e.TOP_LEFT=0]="TOP_LEFT",e[e.TOP_RIGHT=1]="TOP_RIGHT",e[e.BOTTOM_RIGHT=2]="BOTTOM_RIGHT",e[e.BOTTOM_LEFT=3]="BOTTOM_LEFT"}(lr||(lr={}));var Or=function(e,t,A,n,i){var r=(Math.sqrt(2)-1)/3*4,o=A*r,s=n*r,a=e+A,l=t+n;switch(i){case lr.TOP_LEFT:return new Pr(new Mr(e,l),new Mr(e,l-s),new Mr(a-o,t),new Mr(a,t));case lr.TOP_RIGHT:return new Pr(new Mr(e,t),new Mr(e+o,t),new Mr(a,l-s),new Mr(a,l));case lr.BOTTOM_RIGHT:return new Pr(new Mr(a,t),new Mr(a,t+s),new Mr(e+o,l),new Mr(e,l));case lr.BOTTOM_LEFT:default:return new Pr(new Mr(a,l),new Mr(a-o,l),new Mr(e,t+s),new Mr(e,t))}},_r=function(e){return[e.topLeftBorderBox,e.topRightBorderBox,e.bottomRightBorderBox,e.bottomLeftBorderBox]},Vr=function(e){return[e.topLeftPaddingBox,e.topRightPaddingBox,e.bottomRightPaddingBox,e.bottomLeftPaddingBox]},$r=function(e,t,A){this.offsetX=e,this.offsetY=t,this.matrix=A,this.type=0,this.target=6},jr=function(e,t){this.path=e,this.target=t,this.type=1},Kr=function(e){this.opacity=e,this.type=2,this.target=6},Rr=function(e){return 1===e.type},qr=function(e,t){return e.length===t.length&&e.some((function(e,A){return e===t[A]}))},Gr=function(e){this.element=e,this.inlineLevel=[],this.nonInlineLevel=[],this.negativeZIndex=[],this.zeroOrAutoZIndexOrTransformedOrOpacity=[],this.positiveZIndex=[],this.nonPositionedFloats=[],this.nonPositionedInlineLevel=[]},Wr=function(){function e(e,t){if(this.container=e,this.parent=t,this.effects=[],this.curves=new Dr(this.container),this.container.styles.opacity<1&&this.effects.push(new Kr(this.container.styles.opacity)),null!==this.container.styles.transform){var A=this.container.bounds.left+this.container.styles.transformOrigin[0].number,n=this.container.bounds.top+this.container.styles.transformOrigin[1].number,i=this.container.styles.transform;this.effects.push(new $r(A,n,i))}if(0!==this.container.styles.overflowX){var r=_r(this.curves),o=Vr(this.curves);qr(r,o)?this.effects.push(new jr(r,6)):(this.effects.push(new jr(r,2)),this.effects.push(new jr(o,4)))}}return e.prototype.getEffects=function(e){for(var t=-1===[2,3].indexOf(this.container.styles.position),A=this.parent,n=this.effects.slice(0);A;){var i=A.effects.filter((function(e){return!Rr(e)}));if(t||0!==A.container.styles.position||!A.parent){if(n.unshift.apply(n,i),t=-1===[2,3].indexOf(A.container.styles.position),0!==A.container.styles.overflowX){var r=_r(A.curves),o=Vr(A.curves);qr(r,o)||n.unshift(new jr(o,6))}}else n.unshift.apply(n,i);A=A.parent}return n.filter((function(t){return cn(t.target,e)}))},e}(),Zr=function(e,t,A,n){e.container.elements.forEach((function(i){var r=cn(i.flags,4),o=cn(i.flags,2),s=new Wr(i,e);cn(i.styles.display,2048)&&n.push(s);var a=cn(i.flags,8)?[]:n;if(r||o){var l=r||i.styles.isPositioned()?A:t,c=new Gr(s);if(i.styles.isPositioned()||i.styles.opacity<1||i.styles.isTransformed()){var d=i.styles.zIndex.order;if(d<0){var u=0;l.negativeZIndex.some((function(e,t){return d>e.element.container.styles.zIndex.order?(u=t,!1):u>0})),l.negativeZIndex.splice(u,0,c)}else if(d>0){var h=0;l.positiveZIndex.some((function(e,t){return d>=e.element.container.styles.zIndex.order?(h=t+1,!1):h>0})),l.positiveZIndex.splice(h,0,c)}else l.zeroOrAutoZIndexOrTransformedOrOpacity.push(c)}else i.styles.isFloating()?l.nonPositionedFloats.push(c):l.nonPositionedInlineLevel.push(c);Zr(s,c,r?c:A,a)}else i.styles.isInlineLevel()?t.inlineLevel.push(s):t.nonInlineLevel.push(s),Zr(s,t,A,a);cn(i.flags,8)&&zr(i,a)}))},zr=function(e,t){for(var A=e instanceof di?e.start:1,n=e instanceof di&&e.reversed,i=0;i<t.length;i++){var r=t[i];r.container instanceof ci&&"number"==typeof r.container.value&&0!==r.container.value&&(A=r.container.value),r.listValue=or(A,r.container.styles.listStyleType,!0),A+=n?-1:1}},Jr=function(e,t){switch(t){case 0:return Yr(e.topLeftBorderBox,e.topLeftPaddingBox,e.topRightBorderBox,e.topRightPaddingBox);case 1:return Yr(e.topRightBorderBox,e.topRightPaddingBox,e.bottomRightBorderBox,e.bottomRightPaddingBox);case 2:return Yr(e.bottomRightBorderBox,e.bottomRightPaddingBox,e.bottomLeftBorderBox,e.bottomLeftPaddingBox);default:return Yr(e.bottomLeftBorderBox,e.bottomLeftPaddingBox,e.topLeftBorderBox,e.topLeftPaddingBox)}},Xr=function(e,t){var A=[];return Nr(e)?A.push(e.subdivide(.5,!1)):A.push(e),Nr(t)?A.push(t.subdivide(.5,!0)):A.push(t),A},Yr=function(e,t,A,n){var i=[];return Nr(e)?i.push(e.subdivide(.5,!1)):i.push(e),Nr(A)?i.push(A.subdivide(.5,!0)):i.push(A),Nr(n)?i.push(n.subdivide(.5,!0).reverse()):i.push(n),Nr(t)?i.push(t.subdivide(.5,!1).reverse()):i.push(t),i},eo=function(e){var t=e.bounds,A=e.styles;return t.add(A.borderLeftWidth,A.borderTopWidth,-(A.borderRightWidth+A.borderLeftWidth),-(A.borderTopWidth+A.borderBottomWidth))},to=function(e){var t=e.styles,A=e.bounds,n=rt(t.paddingLeft,A.width),i=rt(t.paddingRight,A.width),r=rt(t.paddingTop,A.width),o=rt(t.paddingBottom,A.width);return A.add(n+t.borderLeftWidth,r+t.borderTopWidth,-(t.borderRightWidth+t.borderLeftWidth+n+i),-(t.borderTopWidth+t.borderBottomWidth+r+o))},Ao=function(e,t,A){var n=function(e,t){return 0===e?t.bounds:2===e?to(t):eo(t)}(oo(e.styles.backgroundOrigin,t),e),i=function(e,t){return 0===e?t.bounds:2===e?to(t):eo(t)}(oo(e.styles.backgroundClip,t),e),r=ro(oo(e.styles.backgroundSize,t),A,n),o=r[0],s=r[1],a=it(oo(e.styles.backgroundPosition,t),n.width-o,n.height-s);return[so(oo(e.styles.backgroundRepeat,t),a,r,n,i),Math.round(n.left+a[0]),Math.round(n.top+a[1]),o,s]},no=function(e){return Re(e)&&e.value===Vt.AUTO},io=function(e){return"number"==typeof e},ro=function(e,t,A){var n=t[0],i=t[1],r=t[2],o=e[0],s=e[1];if(!o)return[0,0];if(Ye(o)&&s&&Ye(s))return[rt(o,A.width),rt(s,A.height)];var a=io(r);if(Re(o)&&(o.value===Vt.CONTAIN||o.value===Vt.COVER))return io(r)?A.width/A.height<r!=(o.value===Vt.COVER)?[A.width,A.width/r]:[A.height*r,A.height]:[A.width,A.height];var l=io(n),c=io(i),d=l||c;if(no(o)&&(!s||no(s)))return l&&c?[n,i]:a||d?d&&a?[l?n:i*r,c?i:n/r]:[l?n:A.width,c?i:A.height]:[A.width,A.height];if(a){var u=0,h=0;return Ye(o)?u=rt(o,A.width):Ye(s)&&(h=rt(s,A.height)),no(o)?u=h*r:s&&!no(s)||(h=u/r),[u,h]}var p=null,g=null;if(Ye(o)?p=rt(o,A.width):s&&Ye(s)&&(g=rt(s,A.height)),null===p||s&&!no(s)||(g=l&&c?p/n*i:A.height),null!==g&&no(o)&&(p=l&&c?g/i*n:A.width),null!==p&&null!==g)return[p,g];throw new Error("Unable to calculate background-size for element")},oo=function(e,t){var A=e[t];return void 0===A?e[0]:A},so=function(e,t,A,n,i){var r=t[0],o=t[1],s=A[0],a=A[1];switch(e){case 2:return[new Mr(Math.round(n.left),Math.round(n.top+o)),new Mr(Math.round(n.left+n.width),Math.round(n.top+o)),new Mr(Math.round(n.left+n.width),Math.round(a+n.top+o)),new Mr(Math.round(n.left),Math.round(a+n.top+o))];case 3:return[new Mr(Math.round(n.left+r),Math.round(n.top)),new Mr(Math.round(n.left+r+s),Math.round(n.top)),new Mr(Math.round(n.left+r+s),Math.round(n.height+n.top)),new Mr(Math.round(n.left+r),Math.round(n.height+n.top))];case 1:return[new Mr(Math.round(n.left+r),Math.round(n.top+o)),new Mr(Math.round(n.left+r+s),Math.round(n.top+o)),new Mr(Math.round(n.left+r+s),Math.round(n.top+o+a)),new Mr(Math.round(n.left+r),Math.round(n.top+o+a))];default:return[new Mr(Math.round(i.left),Math.round(i.top)),new Mr(Math.round(i.left+i.width),Math.round(i.top)),new Mr(Math.round(i.left+i.width),Math.round(i.height+i.top)),new Mr(Math.round(i.left),Math.round(i.height+i.top))]}},ao="Hidden Text",lo=function(){function e(e){this._data={},this._document=e}return e.prototype.parseMetrics=function(e,t){var A=this._document.createElement("div"),n=this._document.createElement("img"),i=this._document.createElement("span"),r=this._document.body;A.style.visibility="hidden",A.style.fontFamily=e,A.style.fontSize=t,A.style.margin="0",A.style.padding="0",A.style.whiteSpace="nowrap",r.appendChild(A),n.src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7",n.width=1,n.height=1,n.style.margin="0",n.style.padding="0",n.style.verticalAlign="baseline",i.style.fontFamily=e,i.style.fontSize=t,i.style.margin="0",i.style.padding="0",i.appendChild(this._document.createTextNode(ao)),A.appendChild(i),A.appendChild(n);var o=n.offsetTop-i.offsetTop+2;A.removeChild(i),A.appendChild(this._document.createTextNode(ao)),A.style.lineHeight="normal",n.style.verticalAlign="super";var s=n.offsetTop-A.offsetTop+2;return r.removeChild(A),{baseline:o,middle:s}},e.prototype.getMetrics=function(e,t){var A=e+" "+t;return void 0===this._data[A]&&(this._data[A]=this.parseMetrics(e,t)),this._data[A]},e}(),co=function(e,t){this.context=e,this.options=t},uo=function(e){function A(t,A){var n=e.call(this,t,A)||this;return n._activeEffects=[],n.canvas=A.canvas?A.canvas:document.createElement("canvas"),n.ctx=n.canvas.getContext("2d"),A.canvas||(n.canvas.width=Math.floor(A.width*A.scale),n.canvas.height=Math.floor(A.height*A.scale),n.canvas.style.width=A.width+"px",n.canvas.style.height=A.height+"px"),n.fontMetrics=new lo(document),n.ctx.scale(n.options.scale,n.options.scale),n.ctx.translate(-A.x,-A.y),n.ctx.textBaseline="bottom",n._activeEffects=[],n.context.logger.debug("Canvas renderer initialized ("+A.width+"x"+A.height+") with scale "+A.scale),n}return t(A,e),A.prototype.applyEffects=function(e){for(var t=this;this._activeEffects.length;)this.popEffect();e.forEach((function(e){return t.applyEffect(e)}))},A.prototype.applyEffect=function(e){this.ctx.save(),function(e){return 2===e.type}(e)&&(this.ctx.globalAlpha=e.opacity),function(e){return 0===e.type}(e)&&(this.ctx.translate(e.offsetX,e.offsetY),this.ctx.transform(e.matrix[0],e.matrix[1],e.matrix[2],e.matrix[3],e.matrix[4],e.matrix[5]),this.ctx.translate(-e.offsetX,-e.offsetY)),Rr(e)&&(this.path(e.path),this.ctx.clip()),this._activeEffects.push(e)},A.prototype.popEffect=function(){this._activeEffects.pop(),this.ctx.restore()},A.prototype.renderStack=function(e){return n(this,void 0,void 0,(function(){return i(this,(function(t){switch(t.label){case 0:return e.element.container.styles.isVisible()?[4,this.renderStackContent(e)]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}}))}))},A.prototype.renderNode=function(e){return n(this,void 0,void 0,(function(){return i(this,(function(t){switch(t.label){case 0:return cn(e.container.flags,16),e.container.styles.isVisible()?[4,this.renderNodeBackgroundAndBorders(e)]:[3,3];case 1:return t.sent(),[4,this.renderNodeContent(e)];case 2:t.sent(),t.label=3;case 3:return[2]}}))}))},A.prototype.renderTextWithLetterSpacing=function(e,t,A){var n=this;0===t?this.ctx.fillText(e.text,e.bounds.left,e.bounds.top+A):Yn(e.text).reduce((function(t,i){return n.ctx.fillText(i,t,e.bounds.top+A),t+n.ctx.measureText(i).width}),e.bounds.left)},A.prototype.createFontStyle=function(e){var t=e.fontVariant.filter((function(e){return"normal"===e||"small-caps"===e})).join(""),A=mo(e.fontFamily).join(", "),n=je(e.fontSize)?""+e.fontSize.number+e.fontSize.unit:e.fontSize.number+"px";return[[e.fontStyle,t,e.fontWeight,n,A].join(" "),A,n]},A.prototype.renderTextNode=function(e,t){return n(this,void 0,void 0,(function(){var A,n,r,o,s,a,l,c,d=this;return i(this,(function(i){return A=this.createFontStyle(t),n=A[0],r=A[1],o=A[2],this.ctx.font=n,this.ctx.direction=1===t.direction?"rtl":"ltr",this.ctx.textAlign="left",this.ctx.textBaseline="alphabetic",s=this.fontMetrics.getMetrics(r,o),a=s.baseline,l=s.middle,c=t.paintOrder,e.textBounds.forEach((function(e){c.forEach((function(A){switch(A){case 0:d.ctx.fillStyle=pt(t.color),d.renderTextWithLetterSpacing(e,t.letterSpacing,a);var n=t.textShadow;n.length&&e.text.trim().length&&(n.slice(0).reverse().forEach((function(A){d.ctx.shadowColor=pt(A.color),d.ctx.shadowOffsetX=A.offsetX.number*d.options.scale,d.ctx.shadowOffsetY=A.offsetY.number*d.options.scale,d.ctx.shadowBlur=A.blur.number,d.renderTextWithLetterSpacing(e,t.letterSpacing,a)})),d.ctx.shadowColor="",d.ctx.shadowOffsetX=0,d.ctx.shadowOffsetY=0,d.ctx.shadowBlur=0),t.textDecorationLine.length&&(d.ctx.fillStyle=pt(t.textDecorationColor||t.color),t.textDecorationLine.forEach((function(t){switch(t){case 1:d.ctx.fillRect(e.bounds.left,Math.round(e.bounds.top+a),e.bounds.width,1);break;case 2:d.ctx.fillRect(e.bounds.left,Math.round(e.bounds.top),e.bounds.width,1);break;case 3:d.ctx.fillRect(e.bounds.left,Math.ceil(e.bounds.top+l),e.bounds.width,1)}})));break;case 1:t.webkitTextStrokeWidth&&e.text.trim().length&&(d.ctx.strokeStyle=pt(t.webkitTextStrokeColor),d.ctx.lineWidth=t.webkitTextStrokeWidth,d.ctx.lineJoin=window.chrome?"miter":"round",d.ctx.strokeText(e.text,e.bounds.left,e.bounds.top+a)),d.ctx.strokeStyle="",d.ctx.lineWidth=0,d.ctx.lineJoin="miter"}}))})),[2]}))}))},A.prototype.renderReplacedElement=function(e,t,A){if(A&&e.intrinsicWidth>0&&e.intrinsicHeight>0){var n=to(e),i=Vr(t);this.path(i),this.ctx.save(),this.ctx.clip(),this.ctx.drawImage(A,0,0,e.intrinsicWidth,e.intrinsicHeight,n.left,n.top,n.width,n.height),this.ctx.restore()}},A.prototype.renderNodeContent=function(e){return n(this,void 0,void 0,(function(){var t,n,r,s,a,l,c,d,u,h,p,g,f,m,v,B,w,y;return i(this,(function(i){switch(i.label){case 0:this.applyEffects(e.getEffects(4)),t=e.container,n=e.curves,r=t.styles,s=0,a=t.textNodes,i.label=1;case 1:return s<a.length?(l=a[s],[4,this.renderTextNode(l,r)]):[3,4];case 2:i.sent(),i.label=3;case 3:return s++,[3,1];case 4:if(!(t instanceof si))return[3,8];i.label=5;case 5:return i.trys.push([5,7,,8]),[4,this.context.cache.match(t.src)];case 6:return v=i.sent(),this.renderReplacedElement(t,n,v),[3,8];case 7:return i.sent(),this.context.logger.error("Error loading image "+t.src),[3,8];case 8:if(t instanceof ai&&this.renderReplacedElement(t,n,t.canvas),!(t instanceof li))return[3,12];i.label=9;case 9:return i.trys.push([9,11,,12]),[4,this.context.cache.match(t.svg)];case 10:return v=i.sent(),this.renderReplacedElement(t,n,v),[3,12];case 11:return i.sent(),this.context.logger.error("Error loading svg "+t.svg.substring(0,255)),[3,12];case 12:return t instanceof yi&&t.tree?[4,new A(this.context,{scale:this.options.scale,backgroundColor:t.backgroundColor,x:0,y:0,width:t.width,height:t.height}).render(t.tree)]:[3,14];case 13:c=i.sent(),t.width&&t.height&&this.ctx.drawImage(c,0,0,t.width,t.height,t.bounds.left,t.bounds.top,t.bounds.width,t.bounds.height),i.label=14;case 14:if(t instanceof vi&&(d=Math.min(t.bounds.width,t.bounds.height),t.type===pi?t.checked&&(this.ctx.save(),this.path([new Mr(t.bounds.left+.39363*d,t.bounds.top+.79*d),new Mr(t.bounds.left+.16*d,t.bounds.top+.5549*d),new Mr(t.bounds.left+.27347*d,t.bounds.top+.44071*d),new Mr(t.bounds.left+.39694*d,t.bounds.top+.5649*d),new Mr(t.bounds.left+.72983*d,t.bounds.top+.23*d),new Mr(t.bounds.left+.84*d,t.bounds.top+.34085*d),new Mr(t.bounds.left+.39363*d,t.bounds.top+.79*d)]),this.ctx.fillStyle=pt(mi),this.ctx.fill(),this.ctx.restore()):t.type===gi&&t.checked&&(this.ctx.save(),this.ctx.beginPath(),this.ctx.arc(t.bounds.left+d/2,t.bounds.top+d/2,d/4,0,2*Math.PI,!0),this.ctx.fillStyle=pt(mi),this.ctx.fill(),this.ctx.restore())),ho(t)&&t.value.length){switch(u=this.createFontStyle(r),w=u[0],h=u[1],p=this.fontMetrics.getMetrics(w,h).baseline,this.ctx.font=w,this.ctx.fillStyle=pt(r.color),this.ctx.textBaseline="alphabetic",this.ctx.textAlign=go(t.styles.textAlign),y=to(t),g=0,t.styles.textAlign){case 1:g+=y.width/2;break;case 2:g+=y.width}f=y.add(g,0,0,-y.height/2+1),this.ctx.save(),this.path([new Mr(y.left,y.top),new Mr(y.left+y.width,y.top),new Mr(y.left+y.width,y.top+y.height),new Mr(y.left,y.top+y.height)]),this.ctx.clip(),this.renderTextWithLetterSpacing(new zn(t.value,f),r.letterSpacing,p),this.ctx.restore(),this.ctx.textBaseline="alphabetic",this.ctx.textAlign="left"}if(!cn(t.styles.display,2048))return[3,20];if(null===t.styles.listStyleImage)return[3,19];if(0!==(m=t.styles.listStyleImage).type)return[3,18];v=void 0,B=m.url,i.label=15;case 15:return i.trys.push([15,17,,18]),[4,this.context.cache.match(B)];case 16:return v=i.sent(),this.ctx.drawImage(v,t.bounds.left-(v.width+10),t.bounds.top),[3,18];case 17:return i.sent(),this.context.logger.error("Error loading list-style-image "+B),[3,18];case 18:return[3,20];case 19:e.listValue&&-1!==t.styles.listStyleType&&(w=this.createFontStyle(r)[0],this.ctx.font=w,this.ctx.fillStyle=pt(r.color),this.ctx.textBaseline="middle",this.ctx.textAlign="right",y=new o(t.bounds.left,t.bounds.top+rt(t.styles.paddingTop,t.bounds.width),t.bounds.width,QA(r.lineHeight,r.fontSize.number)/2+1),this.renderTextWithLetterSpacing(new zn(e.listValue,y),r.letterSpacing,QA(r.lineHeight,r.fontSize.number)/2+2),this.ctx.textBaseline="bottom",this.ctx.textAlign="left"),i.label=20;case 20:return[2]}}))}))},A.prototype.renderStackContent=function(e){return n(this,void 0,void 0,(function(){var t,A,n,r,o,s,a,l,c,d,u,h,p,g,f;return i(this,(function(i){switch(i.label){case 0:return cn(e.element.container.flags,16),[4,this.renderNodeBackgroundAndBorders(e.element)];case 1:i.sent(),t=0,A=e.negativeZIndex,i.label=2;case 2:return t<A.length?(f=A[t],[4,this.renderStack(f)]):[3,5];case 3:i.sent(),i.label=4;case 4:return t++,[3,2];case 5:return[4,this.renderNodeContent(e.element)];case 6:i.sent(),n=0,r=e.nonInlineLevel,i.label=7;case 7:return n<r.length?(f=r[n],[4,this.renderNode(f)]):[3,10];case 8:i.sent(),i.label=9;case 9:return n++,[3,7];case 10:o=0,s=e.nonPositionedFloats,i.label=11;case 11:return o<s.length?(f=s[o],[4,this.renderStack(f)]):[3,14];case 12:i.sent(),i.label=13;case 13:return o++,[3,11];case 14:a=0,l=e.nonPositionedInlineLevel,i.label=15;case 15:return a<l.length?(f=l[a],[4,this.renderStack(f)]):[3,18];case 16:i.sent(),i.label=17;case 17:return a++,[3,15];case 18:c=0,d=e.inlineLevel,i.label=19;case 19:return c<d.length?(f=d[c],[4,this.renderNode(f)]):[3,22];case 20:i.sent(),i.label=21;case 21:return c++,[3,19];case 22:u=0,h=e.zeroOrAutoZIndexOrTransformedOrOpacity,i.label=23;case 23:return u<h.length?(f=h[u],[4,this.renderStack(f)]):[3,26];case 24:i.sent(),i.label=25;case 25:return u++,[3,23];case 26:p=0,g=e.positiveZIndex,i.label=27;case 27:return p<g.length?(f=g[p],[4,this.renderStack(f)]):[3,30];case 28:i.sent(),i.label=29;case 29:return p++,[3,27];case 30:return[2]}}))}))},A.prototype.mask=function(e){this.ctx.beginPath(),this.ctx.moveTo(0,0),this.ctx.lineTo(this.canvas.width,0),this.ctx.lineTo(this.canvas.width,this.canvas.height),this.ctx.lineTo(0,this.canvas.height),this.ctx.lineTo(0,0),this.formatPath(e.slice(0).reverse()),this.ctx.closePath()},A.prototype.path=function(e){this.ctx.beginPath(),this.formatPath(e),this.ctx.closePath()},A.prototype.formatPath=function(e){var t=this;e.forEach((function(e,A){var n=Nr(e)?e.start:e;0===A?t.ctx.moveTo(n.x,n.y):t.ctx.lineTo(n.x,n.y),Nr(e)&&t.ctx.bezierCurveTo(e.startControl.x,e.startControl.y,e.endControl.x,e.endControl.y,e.end.x,e.end.y)}))},A.prototype.renderRepeat=function(e,t,A,n){this.path(e),this.ctx.fillStyle=t,this.ctx.translate(A,n),this.ctx.fill(),this.ctx.translate(-A,-n)},A.prototype.resizeImage=function(e,t,A){var n;if(e.width===t&&e.height===A)return e;var i=(null!==(n=this.canvas.ownerDocument)&&void 0!==n?n:document).createElement("canvas");return i.width=Math.max(1,t),i.height=Math.max(1,A),i.getContext("2d").drawImage(e,0,0,e.width,e.height,0,0,t,A),i},A.prototype.renderBackgroundImage=function(e){return n(this,void 0,void 0,(function(){var t,A,n,r,o,s;return i(this,(function(a){switch(a.label){case 0:t=e.styles.backgroundImage.length-1,A=function(A){var r,o,s,a,l,c,d,u,h,p,g,f,m,v,B,w,y,C,b,I,E,Q,U,x,F,T,L,S,H,M,k;return i(this,(function(i){switch(i.label){case 0:if(0!==A.type)return[3,5];r=void 0,o=A.url,i.label=1;case 1:return i.trys.push([1,3,,4]),[4,n.context.cache.match(o)];case 2:return r=i.sent(),[3,4];case 3:return i.sent(),n.context.logger.error("Error loading background-image "+o),[3,4];case 4:return r&&(s=Ao(e,t,[r.width,r.height,r.width/r.height]),w=s[0],Q=s[1],U=s[2],b=s[3],I=s[4],v=n.ctx.createPattern(n.resizeImage(r,b,I),"repeat"),n.renderRepeat(w,v,Q,U)),[3,6];case 5:1===A.type?(a=Ao(e,t,[null,null,null]),w=a[0],Q=a[1],U=a[2],b=a[3],I=a[4],l=Ut(A.angle,b,I),c=l[0],d=l[1],u=l[2],h=l[3],p=l[4],(g=document.createElement("canvas")).width=b,g.height=I,f=g.getContext("2d"),m=f.createLinearGradient(d,h,u,p),Qt(A.stops,c).forEach((function(e){return m.addColorStop(e.stop,pt(e.color))})),f.fillStyle=m,f.fillRect(0,0,b,I),b>0&&I>0&&(v=n.ctx.createPattern(g,"repeat"),n.renderRepeat(w,v,Q,U))):function(e){return 2===e.type}(A)&&(B=Ao(e,t,[null,null,null]),w=B[0],y=B[1],C=B[2],b=B[3],I=B[4],E=0===A.position.length?[At]:A.position,Q=rt(E[0],b),U=rt(E[E.length-1],I),x=function(e,t,A,n,i){var r=0,o=0;switch(e.size){case 0:0===e.shape?r=o=Math.min(Math.abs(t),Math.abs(t-n),Math.abs(A),Math.abs(A-i)):1===e.shape&&(r=Math.min(Math.abs(t),Math.abs(t-n)),o=Math.min(Math.abs(A),Math.abs(A-i)));break;case 2:if(0===e.shape)r=o=Math.min(xt(t,A),xt(t,A-i),xt(t-n,A),xt(t-n,A-i));else if(1===e.shape){var s=Math.min(Math.abs(A),Math.abs(A-i))/Math.min(Math.abs(t),Math.abs(t-n)),a=Ft(n,i,t,A,!0),l=a[0],c=a[1];o=s*(r=xt(l-t,(c-A)/s))}break;case 1:0===e.shape?r=o=Math.max(Math.abs(t),Math.abs(t-n),Math.abs(A),Math.abs(A-i)):1===e.shape&&(r=Math.max(Math.abs(t),Math.abs(t-n)),o=Math.max(Math.abs(A),Math.abs(A-i)));break;case 3:if(0===e.shape)r=o=Math.max(xt(t,A),xt(t,A-i),xt(t-n,A),xt(t-n,A-i));else if(1===e.shape){s=Math.max(Math.abs(A),Math.abs(A-i))/Math.max(Math.abs(t),Math.abs(t-n));var d=Ft(n,i,t,A,!1);l=d[0],c=d[1],o=s*(r=xt(l-t,(c-A)/s))}}return Array.isArray(e.size)&&(r=rt(e.size[0],n),o=2===e.size.length?rt(e.size[1],i):r),[r,o]}(A,Q,U,b,I),F=x[0],T=x[1],F>0&&T>0&&(L=n.ctx.createRadialGradient(y+Q,C+U,0,y+Q,C+U,F),Qt(A.stops,2*F).forEach((function(e){return L.addColorStop(e.stop,pt(e.color))})),n.path(w),n.ctx.fillStyle=L,F!==T?(S=e.bounds.left+.5*e.bounds.width,H=e.bounds.top+.5*e.bounds.height,k=1/(M=T/F),n.ctx.save(),n.ctx.translate(S,H),n.ctx.transform(1,0,0,M,0,0),n.ctx.translate(-S,-H),n.ctx.fillRect(y,k*(C-H)+H,b,I*k),n.ctx.restore()):n.ctx.fill())),i.label=6;case 6:return t--,[2]}}))},n=this,r=0,o=e.styles.backgroundImage.slice(0).reverse(),a.label=1;case 1:return r<o.length?(s=o[r],[5,A(s)]):[3,4];case 2:a.sent(),a.label=3;case 3:return r++,[3,1];case 4:return[2]}}))}))},A.prototype.renderSolidBorder=function(e,t,A){return n(this,void 0,void 0,(function(){return i(this,(function(n){return this.path(Jr(A,t)),this.ctx.fillStyle=pt(e),this.ctx.fill(),[2]}))}))},A.prototype.renderDoubleBorder=function(e,t,A,r){return n(this,void 0,void 0,(function(){var n,o;return i(this,(function(i){switch(i.label){case 0:return t<3?[4,this.renderSolidBorder(e,A,r)]:[3,2];case 1:return i.sent(),[2];case 2:return n=function(e,t){switch(t){case 0:return Yr(e.topLeftBorderBox,e.topLeftBorderDoubleOuterBox,e.topRightBorderBox,e.topRightBorderDoubleOuterBox);case 1:return Yr(e.topRightBorderBox,e.topRightBorderDoubleOuterBox,e.bottomRightBorderBox,e.bottomRightBorderDoubleOuterBox);case 2:return Yr(e.bottomRightBorderBox,e.bottomRightBorderDoubleOuterBox,e.bottomLeftBorderBox,e.bottomLeftBorderDoubleOuterBox);default:return Yr(e.bottomLeftBorderBox,e.bottomLeftBorderDoubleOuterBox,e.topLeftBorderBox,e.topLeftBorderDoubleOuterBox)}}(r,A),this.path(n),this.ctx.fillStyle=pt(e),this.ctx.fill(),o=function(e,t){switch(t){case 0:return Yr(e.topLeftBorderDoubleInnerBox,e.topLeftPaddingBox,e.topRightBorderDoubleInnerBox,e.topRightPaddingBox);case 1:return Yr(e.topRightBorderDoubleInnerBox,e.topRightPaddingBox,e.bottomRightBorderDoubleInnerBox,e.bottomRightPaddingBox);case 2:return Yr(e.bottomRightBorderDoubleInnerBox,e.bottomRightPaddingBox,e.bottomLeftBorderDoubleInnerBox,e.bottomLeftPaddingBox);default:return Yr(e.bottomLeftBorderDoubleInnerBox,e.bottomLeftPaddingBox,e.topLeftBorderDoubleInnerBox,e.topLeftPaddingBox)}}(r,A),this.path(o),this.ctx.fill(),[2]}}))}))},A.prototype.renderNodeBackgroundAndBorders=function(e){return n(this,void 0,void 0,(function(){var t,A,n,r,o,s,a,l,c=this;return i(this,(function(i){switch(i.label){case 0:return this.applyEffects(e.getEffects(2)),t=e.container.styles,A=!ht(t.backgroundColor)||t.backgroundImage.length,n=[{style:t.borderTopStyle,color:t.borderTopColor,width:t.borderTopWidth},{style:t.borderRightStyle,color:t.borderRightColor,width:t.borderRightWidth},{style:t.borderBottomStyle,color:t.borderBottomColor,width:t.borderBottomWidth},{style:t.borderLeftStyle,color:t.borderLeftColor,width:t.borderLeftWidth}],r=po(oo(t.backgroundClip,0),e.curves),A||t.boxShadow.length?(this.ctx.save(),this.path(r),this.ctx.clip(),ht(t.backgroundColor)||(this.ctx.fillStyle=pt(t.backgroundColor),this.ctx.fill()),[4,this.renderBackgroundImage(e.container)]):[3,2];case 1:i.sent(),this.ctx.restore(),t.boxShadow.slice(0).reverse().forEach((function(t){c.ctx.save();var A,n,i,r,o,s=_r(e.curves),a=t.inset?0:1e4,l=(A=s,n=-a+(t.inset?1:-1)*t.spread.number,i=(t.inset?1:-1)*t.spread.number,r=t.spread.number*(t.inset?-2:2),o=t.spread.number*(t.inset?-2:2),A.map((function(e,t){switch(t){case 0:return e.add(n,i);case 1:return e.add(n+r,i);case 2:return e.add(n+r,i+o);case 3:return e.add(n,i+o)}return e})));t.inset?(c.path(s),c.ctx.clip(),c.mask(l)):(c.mask(s),c.ctx.clip(),c.path(l)),c.ctx.shadowOffsetX=t.offsetX.number+a,c.ctx.shadowOffsetY=t.offsetY.number,c.ctx.shadowColor=pt(t.color),c.ctx.shadowBlur=t.blur.number,c.ctx.fillStyle=t.inset?pt(t.color):"rgba(0,0,0,1)",c.ctx.fill(),c.ctx.restore()})),i.label=2;case 2:o=0,s=0,a=n,i.label=3;case 3:return s<a.length?0!==(l=a[s]).style&&!ht(l.color)&&l.width>0?2!==l.style?[3,5]:[4,this.renderDashedDottedBorder(l.color,l.width,o,e.curves,2)]:[3,11]:[3,13];case 4:return i.sent(),[3,11];case 5:return 3!==l.style?[3,7]:[4,this.renderDashedDottedBorder(l.color,l.width,o,e.curves,3)];case 6:return i.sent(),[3,11];case 7:return 4!==l.style?[3,9]:[4,this.renderDoubleBorder(l.color,l.width,o,e.curves)];case 8:return i.sent(),[3,11];case 9:return[4,this.renderSolidBorder(l.color,o,e.curves)];case 10:i.sent(),i.label=11;case 11:o++,i.label=12;case 12:return s++,[3,3];case 13:return[2]}}))}))},A.prototype.renderDashedDottedBorder=function(e,t,A,r,o){return n(this,void 0,void 0,(function(){var n,s,a,l,c,d,u,h,p,g,f,m,v,B,w,y;return i(this,(function(i){return this.ctx.save(),n=function(e,t){switch(t){case 0:return Xr(e.topLeftBorderStroke,e.topRightBorderStroke);case 1:return Xr(e.topRightBorderStroke,e.bottomRightBorderStroke);case 2:return Xr(e.bottomRightBorderStroke,e.bottomLeftBorderStroke);default:return Xr(e.bottomLeftBorderStroke,e.topLeftBorderStroke)}}(r,A),s=Jr(r,A),2===o&&(this.path(s),this.ctx.clip()),Nr(s[0])?(a=s[0].start.x,l=s[0].start.y):(a=s[0].x,l=s[0].y),Nr(s[1])?(c=s[1].end.x,d=s[1].end.y):(c=s[1].x,d=s[1].y),u=0===A||2===A?Math.abs(a-c):Math.abs(l-d),this.ctx.beginPath(),3===o?this.formatPath(n):this.formatPath(s.slice(0,2)),h=t<3?3*t:2*t,p=t<3?2*t:t,3===o&&(h=t,p=t),g=!0,u<=2*h?g=!1:u<=2*h+p?(h*=f=u/(2*h+p),p*=f):(m=Math.floor((u+p)/(h+p)),v=(u-m*h)/(m-1),p=(B=(u-(m+1)*h)/m)<=0||Math.abs(p-v)<Math.abs(p-B)?v:B),g&&(3===o?this.ctx.setLineDash([0,h+p]):this.ctx.setLineDash([h,p])),3===o?(this.ctx.lineCap="round",this.ctx.lineWidth=t):this.ctx.lineWidth=2*t+1.1,this.ctx.strokeStyle=pt(e),this.ctx.stroke(),this.ctx.setLineDash([]),2===o&&(Nr(s[0])&&(w=s[3],y=s[0],this.ctx.beginPath(),this.formatPath([new Mr(w.end.x,w.end.y),new Mr(y.start.x,y.start.y)]),this.ctx.stroke()),Nr(s[1])&&(w=s[1],y=s[2],this.ctx.beginPath(),this.formatPath([new Mr(w.end.x,w.end.y),new Mr(y.start.x,y.start.y)]),this.ctx.stroke())),this.ctx.restore(),[2]}))}))},A.prototype.render=function(e){return n(this,void 0,void 0,(function(){var t;return i(this,(function(A){switch(A.label){case 0:return this.options.backgroundColor&&(this.ctx.fillStyle=pt(this.options.backgroundColor),this.ctx.fillRect(this.options.x,this.options.y,this.options.width,this.options.height)),n=new Wr(e,null),i=new Gr(n),Zr(n,i,i,r=[]),zr(n.container,r),t=i,[4,this.renderStack(t)];case 1:return A.sent(),this.applyEffects([]),[2,this.canvas]}var n,i,r}))}))},A}(co),ho=function(e){return e instanceof wi||e instanceof Bi||e instanceof vi&&e.type!==gi&&e.type!==pi},po=function(e,t){switch(e){case 0:return _r(t);case 2:return function(e){return[e.topLeftContentBox,e.topRightContentBox,e.bottomRightContentBox,e.bottomLeftContentBox]}(t);default:return Vr(t)}},go=function(e){switch(e){case 1:return"center";case 2:return"right";default:return"left"}},fo=["-apple-system","system-ui"],mo=function(e){return/iPhone OS 15_(0|1)/.test(window.navigator.userAgent)?e.filter((function(e){return-1===fo.indexOf(e)})):e},vo=function(e){function A(t,A){var n=e.call(this,t,A)||this;return n.canvas=A.canvas?A.canvas:document.createElement("canvas"),n.ctx=n.canvas.getContext("2d"),n.options=A,n.canvas.width=Math.floor(A.width*A.scale),n.canvas.height=Math.floor(A.height*A.scale),n.canvas.style.width=A.width+"px",n.canvas.style.height=A.height+"px",n.ctx.scale(n.options.scale,n.options.scale),n.ctx.translate(-A.x,-A.y),n.context.logger.debug("EXPERIMENTAL ForeignObject renderer initialized ("+A.width+"x"+A.height+" at "+A.x+","+A.y+") with scale "+A.scale),n}return t(A,e),A.prototype.render=function(e){return n(this,void 0,void 0,(function(){var t,A;return i(this,(function(n){switch(n.label){case 0:return t=Gn(this.options.width*this.options.scale,this.options.height*this.options.scale,this.options.scale,this.options.scale,e),[4,Bo(t)];case 1:return A=n.sent(),this.options.backgroundColor&&(this.ctx.fillStyle=pt(this.options.backgroundColor),this.ctx.fillRect(0,0,this.options.width*this.options.scale,this.options.height*this.options.scale)),this.ctx.drawImage(A,-this.options.x*this.options.scale,-this.options.y*this.options.scale),[2,this.canvas]}}))}))},A}(co),Bo=function(e){return new Promise((function(t,A){var n=new Image;n.onload=function(){t(n)},n.onerror=A,n.src="data:image/svg+xml;charset=utf-8,"+encodeURIComponent((new XMLSerializer).serializeToString(e))}))},wo=function(){function e(e){var t=e.id,A=e.enabled;this.id=t,this.enabled=A,this.start=Date.now()}return e.prototype.debug=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this.enabled&&("undefined"!=typeof window&&window.console&&"function"==typeof console.debug?console.debug.apply(console,r([this.id,this.getTime()+"ms"],e)):this.info.apply(this,e))},e.prototype.getTime=function(){return Date.now()-this.start},e.prototype.info=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this.enabled&&"undefined"!=typeof window&&window.console&&"function"==typeof console.info&&console.info.apply(console,r([this.id,this.getTime()+"ms"],e))},e.prototype.warn=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this.enabled&&("undefined"!=typeof window&&window.console&&"function"==typeof console.warn?console.warn.apply(console,r([this.id,this.getTime()+"ms"],e)):this.info.apply(this,e))},e.prototype.error=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this.enabled&&("undefined"!=typeof window&&window.console&&"function"==typeof console.error?console.error.apply(console,r([this.id,this.getTime()+"ms"],e)):this.info.apply(this,e))},e.instances={},e}(),yo=function(){function e(t,A){var n;this.windowBounds=A,this.instanceName="#"+e.instanceCount++,this.logger=new wo({id:this.instanceName,enabled:t.logging}),this.cache=null!==(n=t.cache)&&void 0!==n?n:new Er(this,t)}return e.instanceCount=1,e}();"undefined"!=typeof window&&Ir.setContext(window);var Co=function(e,t){return n(void 0,void 0,void 0,(function(){var n,r,a,l,c,d,u,h,p,g,f,m,v,B,w,y,C,b,I,E,Q,U,x,F,T,L,S,H,M,k,P,N,D,O,_,V,$,j;return i(this,(function(i){switch(i.label){case 0:if(!e||"object"!=typeof e)return[2,Promise.reject("Invalid element provided as first argument")];if(!(n=e.ownerDocument))throw new Error("Element is not attached to a Document");if(!(r=n.defaultView))throw new Error("Document is not attached to a Window");return a={allowTaint:null!==(U=t.allowTaint)&&void 0!==U&&U,imageTimeout:null!==(x=t.imageTimeout)&&void 0!==x?x:15e3,proxy:t.proxy,useCORS:null!==(F=t.useCORS)&&void 0!==F&&F},l=A({logging:null===(T=t.logging)||void 0===T||T,cache:t.cache},a),c={windowWidth:null!==(L=t.windowWidth)&&void 0!==L?L:r.innerWidth,windowHeight:null!==(S=t.windowHeight)&&void 0!==S?S:r.innerHeight,scrollX:null!==(H=t.scrollX)&&void 0!==H?H:r.pageXOffset,scrollY:null!==(M=t.scrollY)&&void 0!==M?M:r.pageYOffset},d=new o(c.scrollX,c.scrollY,c.windowWidth,c.windowHeight),u=new yo(l,d),h=null!==(k=t.foreignObjectRendering)&&void 0!==k&&k,p={allowTaint:null!==(P=t.allowTaint)&&void 0!==P&&P,onclone:t.onclone,ignoreElements:t.ignoreElements,inlineImages:h,copyStyles:h},u.logger.debug("Starting document clone with size "+d.width+"x"+d.height+" scrolled to "+-d.left+","+-d.top),g=new ar(u,e,p),(f=g.clonedReferenceElement)?[4,g.toIFrame(n,d)]:[2,Promise.reject("Unable to find element in cloned iframe")];case 1:return m=i.sent(),v=Pi(f)||"HTML"===f.tagName?function(e){var t=e.body,A=e.documentElement;if(!t||!A)throw new Error("Unable to get document size");var n=Math.max(Math.max(t.scrollWidth,A.scrollWidth),Math.max(t.offsetWidth,A.offsetWidth),Math.max(t.clientWidth,A.clientWidth)),i=Math.max(Math.max(t.scrollHeight,A.scrollHeight),Math.max(t.offsetHeight,A.offsetHeight),Math.max(t.clientHeight,A.clientHeight));return new o(0,0,n,i)}(f.ownerDocument):s(u,f),B=v.width,w=v.height,y=v.left,C=v.top,b=bo(u,f,t.backgroundColor),I={canvas:t.canvas,backgroundColor:b,scale:null!==(D=null!==(N=t.scale)&&void 0!==N?N:r.devicePixelRatio)&&void 0!==D?D:1,x:(null!==(O=t.x)&&void 0!==O?O:0)+y,y:(null!==(_=t.y)&&void 0!==_?_:0)+C,width:null!==(V=t.width)&&void 0!==V?V:Math.ceil(B),height:null!==($=t.height)&&void 0!==$?$:Math.ceil(w)},h?(u.logger.debug("Document cloned, using foreign object rendering"),[4,new vo(u,I).render(f)]):[3,3];case 2:return E=i.sent(),[3,5];case 3:return u.logger.debug("Document cloned, element located at "+y+","+C+" with size "+B+"x"+w+" using computed rendering"),u.logger.debug("Starting DOM parsing"),Q=Ei(u,f),b===Q.styles.backgroundColor&&(Q.styles.backgroundColor=Ct.TRANSPARENT),u.logger.debug("Starting renderer for element at "+I.x+","+I.y+" with size "+I.width+"x"+I.height),[4,new uo(u,I).render(Q)];case 4:E=i.sent(),i.label=5;case 5:return(null===(j=t.removeContainer)||void 0===j||j)&&(ar.destroy(m)||u.logger.error("Cannot detach cloned iframe as it is not in the DOM anymore")),u.logger.debug("Finished rendering"),[2,E]}}))}))},bo=function(e,t,A){var n=t.ownerDocument,i=n.documentElement?yt(e,getComputedStyle(n.documentElement).backgroundColor):Ct.TRANSPARENT,r=n.body?yt(e,getComputedStyle(n.body).backgroundColor):Ct.TRANSPARENT,o="string"==typeof A?yt(e,A):null===A?Ct.TRANSPARENT:4294967295;return t===n.documentElement?ht(i)?ht(r)?o:r:i:o};return function(e,t){return void 0===t&&(t={}),Co(e,t)}}()},361:e=>{var t=/^(?:0|[1-9]\d*)$/;e.exports=function(e,A){var n=typeof e;return!!(A=null==A?9007199254740991:A)&&("number"==n||"symbol"!=n&&t.test(e))&&e>-1&&e%1==0&&e<A}},392:e=>{e.exports=function(e,t){return null==e?void 0:e[t]}},426:e=>{var t=Object.prototype.hasOwnProperty;e.exports=function(e,A){return null!=e&&t.call(e,A)}},583:(e,t,A)=>{var n=A(7237),i=A(7255),r=A(8586),o=A(7797);e.exports=function(e){return r(e)?n(o(e)):i(e)}},631:(e,t,A)=>{var n=A(8077),i=A(9326);e.exports=function(e,t){return null!=e&&i(e,t,n)}},641:(e,t,A)=>{var n=A(6649),i=A(5950);e.exports=function(e,t){return e&&n(e,t,i)}},659:(e,t,A)=>{var n=A(1873),i=Object.prototype,r=i.hasOwnProperty,o=i.toString,s=n?n.toStringTag:void 0;e.exports=function(e){var t=r.call(e,s),A=e[s];try{e[s]=void 0;var n=!0}catch(e){}var i=o.call(e);return n&&(t?e[s]=A:delete e[s]),i}},689:(e,t,A)=>{var n=A(2),i=Object.prototype.hasOwnProperty;e.exports=function(e,t,A,r,o,s){var a=1&A,l=n(e),c=l.length;if(c!=n(t).length&&!a)return!1;for(var d=c;d--;){var u=l[d];if(!(a?u in t:i.call(t,u)))return!1}var h=s.get(e),p=s.get(t);if(h&&p)return h==t&&p==e;var g=!0;s.set(e,t),s.set(t,e);for(var f=a;++d<c;){var m=e[u=l[d]],v=t[u];if(r)var B=a?r(v,m,u,t,e,s):r(m,v,u,e,t,s);if(!(void 0===B?m===v||o(m,v,A,r,s):B)){g=!1;break}f||(f="constructor"==u)}if(g&&!f){var w=e.constructor,y=t.constructor;w==y||!("constructor"in e)||!("constructor"in t)||"function"==typeof w&&w instanceof w&&"function"==typeof y&&y instanceof y||(g=!1)}return s.delete(e),s.delete(t),g}},695:(e,t,A)=>{var n=A(8096),i=A(2428),r=A(6449),o=A(3656),s=A(361),a=A(7167),l=Object.prototype.hasOwnProperty;e.exports=function(e,t){var A=r(e),c=!A&&i(e),d=!A&&!c&&o(e),u=!A&&!c&&!d&&a(e),h=A||c||d||u,p=h?n(e.length,String):[],g=p.length;for(var f in e)!t&&!l.call(e,f)||h&&("length"==f||d&&("offset"==f||"parent"==f)||u&&("buffer"==f||"byteLength"==f||"byteOffset"==f)||s(f,g))||p.push(f);return p}},756:(e,t,A)=>{var n=A(3805);e.exports=function(e){return e==e&&!n(e)}},776:(e,t,A)=>{var n=A(756),i=A(5950);e.exports=function(e){for(var t=i(e),A=t.length;A--;){var r=t[A],o=e[r];t[A]=[r,o,n(o)]}return t}},828:(e,t,A)=>{var n=A(4647),i=A(3222),r=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,o=RegExp("[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]","g");e.exports=function(e){return(e=i(e))&&e.replace(r,n).replace(o,"")}},882:e=>{e.exports=function(e,t,A,n){var i=-1,r=null==e?0:e.length;for(n&&r&&(A=e[++i]);++i<r;)A=t(A,e[i],i,e);return A}},909:(e,t,A)=>{var n=A(641),i=A(8329)(n);e.exports=i},938:e=>{e.exports=function(e){var t=this.__data__,A=t.delete(e);return this.size=t.size,A}},945:(e,t,A)=>{var n=A(79),i=A(8223),r=A(3661);e.exports=function(e,t){var A=this.__data__;if(A instanceof n){var o=A.__data__;if(!i||o.length<199)return o.push([e,t]),this.size=++A.size,this;A=this.__data__=new r(o)}return A.set(e,t),this.size=A.size,this}},999:(e,t,A)=>{var n=A(9302),i=A(6800);e.exports=function(e){return n((function(t,A){var n=-1,r=A.length,o=r>1?A[r-1]:void 0,s=r>2?A[2]:void 0;for(o=e.length>3&&"function"==typeof o?(r--,o):void 0,s&&i(A[0],A[1],s)&&(o=r<3?void 0:o,r=1),t=Object(t);++n<r;){var a=A[n];a&&e(t,a,n,o)}return t}))}},1033:e=>{e.exports=function(e,t,A){switch(A.length){case 0:return e.call(t);case 1:return e.call(t,A[0]);case 2:return e.call(t,A[0],A[1]);case 3:return e.call(t,A[0],A[1],A[2])}return e.apply(t,A)}},1042:(e,t,A)=>{var n=A(6110)(Object,"create");e.exports=n},1074:e=>{e.exports=function(e){return e.split("")}},1175:(e,t,A)=>{var n=A(6025);e.exports=function(e,t){var A=this.__data__,i=n(A,e);return i<0?(++this.size,A.push([e,t])):A[i][1]=t,this}},1234:e=>{e.exports=function(e,t,A){for(var n=-1,i=e.length,r=t.length,o={};++n<i;){var s=n<r?t[n]:void 0;A(o,e[n],s)}return o}},1331:(e,t,A)=>{var n=A(2552),i=A(8879),r=A(346),o=Function.prototype,s=Object.prototype,a=o.toString,l=s.hasOwnProperty,c=a.call(Object);e.exports=function(e){if(!r(e)||"[object Object]"!=n(e))return!1;var t=i(e);if(null===t)return!0;var A=l.call(t,"constructor")&&t.constructor;return"function"==typeof A&&A instanceof A&&a.call(A)==c}},1380:e=>{e.exports=function(e){return this.__data__.set(e,"__lodash_hash_undefined__"),this}},1420:(e,t,A)=>{var n=A(79);e.exports=function(){this.__data__=new n,this.size=0}},1448:(e,t,A)=>{var n=A(426),i=A(9326);e.exports=function(e,t){return null!=e&&i(e,t,n)}},1459:e=>{e.exports=function(e){return this.__data__.has(e)}},1489:(e,t,A)=>{var n=A(7400);e.exports=function(e){var t=n(e),A=t%1;return t==t?A?t-A:t:0}},1549:(e,t,A)=>{var n=A(2032),i=A(3862),r=A(6721),o=A(2749),s=A(5749);function a(e){var t=-1,A=null==e?0:e.length;for(this.clear();++t<A;){var n=e[t];this.set(n[0],n[1])}}a.prototype.clear=n,a.prototype.delete=i,a.prototype.get=r,a.prototype.has=o,a.prototype.set=s,e.exports=a},1733:e=>{var t=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g;e.exports=function(e){return e.match(t)||[]}},1769:(e,t,A)=>{var n=A(6449),i=A(8586),r=A(1802),o=A(3222);e.exports=function(e,t){return n(e)?e:i(e,t)?[e]:r(o(e))}},1791:(e,t,A)=>{var n=A(6547),i=A(3360);e.exports=function(e,t,A,r){var o=!A;A||(A={});for(var s=-1,a=t.length;++s<a;){var l=t[s],c=r?r(A[l],e[l],l,A,e):void 0;void 0===c&&(c=e[l]),o?i(A,l,c):n(A,l,c)}return A}},1799:(e,t,A)=>{var n=A(7217),i=A(270);e.exports=function(e,t,A,r){var o=A.length,s=o,a=!r;if(null==e)return!s;for(e=Object(e);o--;){var l=A[o];if(a&&l[2]?l[1]!==e[l[0]]:!(l[0]in e))return!1}for(;++o<s;){var c=(l=A[o])[0],d=e[c],u=l[1];if(a&&l[2]){if(void 0===d&&!(c in e))return!1}else{var h=new n;if(r)var p=r(d,u,c,e,t,h);if(!(void 0===p?i(u,d,3,r,h):p))return!1}}return!0}},1800:e=>{var t=/\s/;e.exports=function(e){for(var A=e.length;A--&&t.test(e.charAt(A)););return A}},1802:(e,t,A)=>{var n=A(2224),i=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,r=/\\(\\)?/g,o=n((function(e){var t=[];return 46===e.charCodeAt(0)&&t.push(""),e.replace(i,(function(e,A,n,i){t.push(n?i.replace(r,"$1"):A||e)})),t}));e.exports=o},1811:e=>{var t=Date.now;e.exports=function(e){var A=0,n=0;return function(){var i=t(),r=16-(i-n);if(n=i,r>0){if(++A>=800)return arguments[0]}else A=0;return e.apply(void 0,arguments)}}},1873:(e,t,A)=>{var n=A(9325).Symbol;e.exports=n},1882:(e,t,A)=>{var n=A(2552),i=A(3805);e.exports=function(e){if(!i(e))return!1;var t=n(e);return"[object Function]"==t||"[object GeneratorFunction]"==t||"[object AsyncFunction]"==t||"[object Proxy]"==t}},1961:(e,t,A)=>{var n=A(9653);e.exports=function(e,t){var A=t?n(e.buffer):e.buffer;return new e.constructor(A,e.byteOffset,e.length)}},1986:(e,t,A)=>{var n=A(1873),i=A(7828),r=A(5288),o=A(5911),s=A(317),a=A(4247),l=n?n.prototype:void 0,c=l?l.valueOf:void 0;e.exports=function(e,t,A,n,l,d,u){switch(A){case"[object DataView]":if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case"[object ArrayBuffer]":return!(e.byteLength!=t.byteLength||!d(new i(e),new i(t)));case"[object Boolean]":case"[object Date]":case"[object Number]":return r(+e,+t);case"[object Error]":return e.name==t.name&&e.message==t.message;case"[object RegExp]":case"[object String]":return e==t+"";case"[object Map]":var h=s;case"[object Set]":var p=1&n;if(h||(h=a),e.size!=t.size&&!p)return!1;var g=u.get(e);if(g)return g==t;n|=2,u.set(e,t);var f=o(h(e),h(t),n,l,d,u);return u.delete(e),f;case"[object Symbol]":if(c)return c.call(e)==c.call(t)}return!1}},2032:(e,t,A)=>{var n=A(1042);e.exports=function(){this.__data__=n?n(null):{},this.size=0}},2054:e=>{var t="\\ud800-\\udfff",A="["+t+"]",n="[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]",i="\\ud83c[\\udffb-\\udfff]",r="[^"+t+"]",o="(?:\\ud83c[\\udde6-\\uddff]){2}",s="[\\ud800-\\udbff][\\udc00-\\udfff]",a="(?:"+n+"|"+i+")?",l="[\\ufe0e\\ufe0f]?",c=l+a+"(?:\\u200d(?:"+[r,o,s].join("|")+")"+l+a+")*",d="(?:"+[r+n+"?",n,o,s,A].join("|")+")",u=RegExp(i+"(?="+i+")|"+d+c,"g");e.exports=function(e){return e.match(u)||[]}},2199:(e,t,A)=>{var n=A(4528),i=A(6449);e.exports=function(e,t,A){var r=t(e);return i(e)?r:n(r,A(e))}},2224:(e,t,A)=>{var n=A(104);e.exports=function(e){var t=n(e,(function(e){return 500===A.size&&A.clear(),e})),A=t.cache;return t}},2225:e=>{var t="\\ud800-\\udfff",A="\\u2700-\\u27bf",n="a-z\\xdf-\\xf6\\xf8-\\xff",i="A-Z\\xc0-\\xd6\\xd8-\\xde",r="\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",o="["+r+"]",s="\\d+",a="["+A+"]",l="["+n+"]",c="[^"+t+r+s+A+n+i+"]",d="(?:\\ud83c[\\udde6-\\uddff]){2}",u="[\\ud800-\\udbff][\\udc00-\\udfff]",h="["+i+"]",p="(?:"+l+"|"+c+")",g="(?:"+h+"|"+c+")",f="(?:['โ](?:d|ll|m|re|s|t|ve))?",m="(?:['โ](?:D|LL|M|RE|S|T|VE))?",v="(?:[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]|\\ud83c[\\udffb-\\udfff])?",B="[\\ufe0e\\ufe0f]?",w=B+v+"(?:\\u200d(?:"+["[^"+t+"]",d,u].join("|")+")"+B+v+")*",y="(?:"+[a,d,u].join("|")+")"+w,C=RegExp([h+"?"+l+"+"+f+"(?="+[o,h,"$"].join("|")+")",g+"+"+m+"(?="+[o,h+p,"$"].join("|")+")",h+"?"+p+"+"+f,h+"+"+m,"\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])","\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",s,y].join("|"),"g");e.exports=function(e){return e.match(C)||[]}},2428:(e,t,A)=>{var n=A(7534),i=A(346),r=Object.prototype,o=r.hasOwnProperty,s=r.propertyIsEnumerable,a=n(function(){return arguments}())?n:function(e){return i(e)&&o.call(e,"callee")&&!s.call(e,"callee")};e.exports=a},2493:(e,t,A)=>{var n=A(4051),i=A(6800),r=A(1489),o=A(3222);e.exports=function(e,t,A){return t=(A?i(e,t,A):void 0===t)?1:r(t),n(o(e),t)}},2507:(e,t,A)=>{var n=A(8754),i=A(9698),r=A(3912),o=A(3222);e.exports=function(e){return function(t){t=o(t);var A=i(t)?r(t):void 0,s=A?A[0]:t.charAt(0),a=A?n(A,1).join(""):t.slice(1);return s[e]()+a}}},2523:e=>{e.exports=function(e,t,A,n){for(var i=e.length,r=A+(n?1:-1);n?r--:++r<i;)if(t(e[r],r,e))return r;return-1}},2552:(e,t,A)=>{var n=A(1873),i=A(659),r=A(9350),o=n?n.toStringTag:void 0;e.exports=function(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":o&&o in Object(e)?i(e):r(e)}},2651:(e,t,A)=>{var n=A(4218);e.exports=function(e,t){var A=e.__data__;return n(t)?A["string"==typeof t?"string":"hash"]:A.map}},2660:(e,t,A)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.AttributeMap=t.OpIterator=t.Op=void 0;const n=A(5606),i=A(7193),r=A(8142),o=A(9106);t.AttributeMap=o.default;const s=A(5759);t.Op=s.default;const a=A(8317);t.OpIterator=a.default;const l=String.fromCharCode(0),c=(e,t)=>{if("object"!=typeof e||null===e)throw new Error("cannot retain a "+typeof e);if("object"!=typeof t||null===t)throw new Error("cannot retain a "+typeof t);const A=Object.keys(e)[0];if(!A||A!==Object.keys(t)[0])throw new Error(`embed types not matched: ${A} != ${Object.keys(t)[0]}`);return[A,e[A],t[A]]};class d{constructor(e){Array.isArray(e)?this.ops=e:null!=e&&Array.isArray(e.ops)?this.ops=e.ops:this.ops=[]}static registerEmbed(e,t){this.handlers[e]=t}static unregisterEmbed(e){delete this.handlers[e]}static getHandler(e){const t=this.handlers[e];if(!t)throw new Error(`no handlers for embed type "${e}"`);return t}insert(e,t){const A={};return"string"==typeof e&&0===e.length?this:(A.insert=e,null!=t&&"object"==typeof t&&Object.keys(t).length>0&&(A.attributes=t),this.push(A))}delete(e){return e<=0?this:this.push({delete:e})}retain(e,t){if("number"==typeof e&&e<=0)return this;const A={retain:e};return null!=t&&"object"==typeof t&&Object.keys(t).length>0&&(A.attributes=t),this.push(A)}push(e){let t=this.ops.length,A=this.ops[t-1];if(e=i(e),"object"==typeof A){if("number"==typeof e.delete&&"number"==typeof A.delete)return this.ops[t-1]={delete:A.delete+e.delete},this;if("number"==typeof A.delete&&null!=e.insert&&(t-=1,A=this.ops[t-1],"object"!=typeof A))return this.ops.unshift(e),this;if(r(e.attributes,A.attributes)){if("string"==typeof e.insert&&"string"==typeof A.insert)return this.ops[t-1]={insert:A.insert+e.insert},"object"==typeof e.attributes&&(this.ops[t-1].attributes=e.attributes),this;if("number"==typeof e.retain&&"number"==typeof A.retain)return this.ops[t-1]={retain:A.retain+e.retain},"object"==typeof e.attributes&&(this.ops[t-1].attributes=e.attributes),this}}return t===this.ops.length?this.ops.push(e):this.ops.splice(t,0,e),this}chop(){const e=this.ops[this.ops.length-1];return e&&"number"==typeof e.retain&&!e.attributes&&this.ops.pop(),this}filter(e){return this.ops.filter(e)}forEach(e){this.ops.forEach(e)}map(e){return this.ops.map(e)}partition(e){const t=[],A=[];return this.forEach((n=>{(e(n)?t:A).push(n)})),[t,A]}reduce(e,t){return this.ops.reduce(e,t)}changeLength(){return this.reduce(((e,t)=>t.insert?e+s.default.length(t):t.delete?e-t.delete:e),0)}length(){return this.reduce(((e,t)=>e+s.default.length(t)),0)}slice(e=0,t=1/0){const A=[],n=new a.default(this.ops);let i=0;for(;i<t&&n.hasNext();){let r;i<e?r=n.next(e-i):(r=n.next(t-i),A.push(r)),i+=s.default.length(r)}return new d(A)}compose(e){const t=new a.default(this.ops),A=new a.default(e.ops),n=[],i=A.peek();if(null!=i&&"number"==typeof i.retain&&null==i.attributes){let e=i.retain;for(;"insert"===t.peekType()&&t.peekLength()<=e;)e-=t.peekLength(),n.push(t.next());i.retain-e>0&&A.next(i.retain-e)}const s=new d(n);for(;t.hasNext()||A.hasNext();)if("insert"===A.peekType())s.push(A.next());else if("delete"===t.peekType())s.push(t.next());else{const e=Math.min(t.peekLength(),A.peekLength()),n=t.next(e),i=A.next(e);if(i.retain){const a={};if("number"==typeof n.retain)a.retain="number"==typeof i.retain?e:i.retain;else if("number"==typeof i.retain)null==n.retain?a.insert=n.insert:a.retain=n.retain;else{const e=null==n.retain?"insert":"retain",[t,A,r]=c(n[e],i.retain),o=d.getHandler(t);a[e]={[t]:o.compose(A,r,"retain"===e)}}const l=o.default.compose(n.attributes,i.attributes,"number"==typeof n.retain);if(l&&(a.attributes=l),s.push(a),!A.hasNext()&&r(s.ops[s.ops.length-1],a)){const e=new d(t.rest());return s.concat(e).chop()}}else"number"==typeof i.delete&&("number"==typeof n.retain||"object"==typeof n.retain&&null!==n.retain)&&s.push(i)}return s.chop()}concat(e){const t=new d(this.ops.slice());return e.ops.length>0&&(t.push(e.ops[0]),t.ops=t.ops.concat(e.ops.slice(1))),t}diff(e,t){if(this.ops===e.ops)return new d;const A=[this,e].map((t=>t.map((A=>{if(null!=A.insert)return"string"==typeof A.insert?A.insert:l;throw new Error("diff() called "+(t===e?"on":"with")+" non-document")})).join(""))),i=new d,s=n(A[0],A[1],t,!0),c=new a.default(this.ops),u=new a.default(e.ops);return s.forEach((e=>{let t=e[1].length;for(;t>0;){let A=0;switch(e[0]){case n.INSERT:A=Math.min(u.peekLength(),t),i.push(u.next(A));break;case n.DELETE:A=Math.min(t,c.peekLength()),c.next(A),i.delete(A);break;case n.EQUAL:A=Math.min(c.peekLength(),u.peekLength(),t);const e=c.next(A),s=u.next(A);r(e.insert,s.insert)?i.retain(A,o.default.diff(e.attributes,s.attributes)):i.push(s).delete(A)}t-=A}})),i.chop()}eachLine(e,t="\n"){const A=new a.default(this.ops);let n=new d,i=0;for(;A.hasNext();){if("insert"!==A.peekType())return;const r=A.peek(),o=s.default.length(r)-A.peekLength(),a="string"==typeof r.insert?r.insert.indexOf(t,o)-o:-1;if(a<0)n.push(A.next());else if(a>0)n.push(A.next(a));else{if(!1===e(n,A.next(1).attributes||{},i))return;i+=1,n=new d}}n.length()>0&&e(n,{},i)}invert(e){const t=new d;return this.reduce(((A,n)=>{if(n.insert)t.delete(s.default.length(n));else{if("number"==typeof n.retain&&null==n.attributes)return t.retain(n.retain),A+n.retain;if(n.delete||"number"==typeof n.retain){const i=n.delete||n.retain;return e.slice(A,A+i).forEach((e=>{n.delete?t.push(e):n.retain&&n.attributes&&t.retain(s.default.length(e),o.default.invert(n.attributes,e.attributes))})),A+i}if("object"==typeof n.retain&&null!==n.retain){const i=e.slice(A,A+1),r=new a.default(i.ops).next(),[s,l,u]=c(n.retain,r.insert),h=d.getHandler(s);return t.retain({[s]:h.invert(l,u)},o.default.invert(n.attributes,r.attributes)),A+1}}return A}),0),t.chop()}transform(e,t=!1){if(t=!!t,"number"==typeof e)return this.transformPosition(e,t);const A=e,n=new a.default(this.ops),i=new a.default(A.ops),r=new d;for(;n.hasNext()||i.hasNext();)if("insert"!==n.peekType()||!t&&"insert"===i.peekType())if("insert"===i.peekType())r.push(i.next());else{const e=Math.min(n.peekLength(),i.peekLength()),A=n.next(e),s=i.next(e);if(A.delete)continue;if(s.delete)r.push(s);else{const n=A.retain,i=s.retain;let a="object"==typeof i&&null!==i?i:e;if("object"==typeof n&&null!==n&&"object"==typeof i&&null!==i){const e=Object.keys(n)[0];if(e===Object.keys(i)[0]){const A=d.getHandler(e);A&&(a={[e]:A.transform(n[e],i[e],t)})}}r.retain(a,o.default.transform(A.attributes,s.attributes,t))}}else r.retain(s.default.length(n.next()));return r.chop()}transformPosition(e,t=!1){t=!!t;const A=new a.default(this.ops);let n=0;for(;A.hasNext()&&n<=e;){const i=A.peekLength(),r=A.peekType();A.next(),"delete"!==r?("insert"===r&&(n<e||!t)&&(e+=i),n+=i):e-=Math.min(i,e-n)}return e}}d.Op=s.default,d.OpIterator=a.default,d.AttributeMap=o.default,d.handlers={},t.default=d,e.exports=d,e.exports.default=d},2749:(e,t,A)=>{var n=A(1042),i=Object.prototype.hasOwnProperty;e.exports=function(e){var t=this.__data__;return n?void 0!==t[e]:i.call(t,e)}},2804:(e,t,A)=>{var n=A(6110)(A(9325),"Promise");e.exports=n},2824:(e,t,A)=>{var n=A(7805),i=A(3290),r=A(1961),o=A(3007),s=A(5529),a=A(2428),l=A(6449),c=A(3693),d=A(3656),u=A(1882),h=A(3805),p=A(1331),g=A(7167),f=A(4974),m=A(9884);e.exports=function(e,t,A,v,B,w,y){var C=f(e,A),b=f(t,A),I=y.get(b);if(I)n(e,A,I);else{var E=w?w(C,b,A+"",e,t,y):void 0,Q=void 0===E;if(Q){var U=l(b),x=!U&&d(b),F=!U&&!x&&g(b);E=b,U||x||F?l(C)?E=C:c(C)?E=o(C):x?(Q=!1,E=i(b,!0)):F?(Q=!1,E=r(b,!0)):E=[]:p(b)||a(b)?(E=C,a(C)?E=m(C):h(C)&&!u(C)||(E=s(b))):Q=!1}Q&&(y.set(b,E),B(E,b,v,w,y),y.delete(b)),n(e,A,E)}}},2865:(e,t,A)=>{var n=A(9570),i=A(1811)(n);e.exports=i},2903:(e,t,A)=>{var n=A(3805),i=A(5527),r=A(181),o=Object.prototype.hasOwnProperty;e.exports=function(e){if(!n(e))return r(e);var t=i(e),A=[];for(var s in e)("constructor"!=s||!t&&o.call(e,s))&&A.push(s);return A}},2949:(e,t,A)=>{var n=A(2651);e.exports=function(e,t){var A=n(this,e),i=A.size;return A.set(e,t),this.size+=A.size==i?0:1,this}},3007:e=>{e.exports=function(e,t){var A=-1,n=e.length;for(t||(t=Array(n));++A<n;)t[A]=e[A];return t}},3031:(e,t,A)=>{var n=A(3120),i=A(6155),r=A(9302),o=A(6800),s=r((function(e,t){if(null==e)return[];var A=t.length;return A>1&&o(e,t[0],t[1])?t=[]:A>2&&o(t[0],t[1],t[2])&&(t=[t[0]]),i(e,n(t,1),[])}));e.exports=s},3040:(e,t,A)=>{var n=A(1549),i=A(79),r=A(8223);e.exports=function(){this.size=0,this.__data__={hash:new n,map:new(r||i),string:new n}}},3120:(e,t,A)=>{var n=A(4528),i=A(5891);e.exports=function e(t,A,r,o,s){var a=-1,l=t.length;for(r||(r=i),s||(s=[]);++a<l;){var c=t[a];A>0&&r(c)?A>1?e(c,A-1,r,o,s):n(s,c):o||(s[s.length]=c)}return s}},3181:(e,t,A)=>{var n=A(5508)();e.exports=n},3221:e=>{e.exports=function(e){return function(t,A,n){for(var i=-1,r=Object(t),o=n(t),s=o.length;s--;){var a=o[e?s:++i];if(!1===A(r[a],a,r))break}return t}}},3222:(e,t,A)=>{var n=A(7556);e.exports=function(e){return null==e?"":n(e)}},3243:(e,t,A)=>{var n=A(6110),i=function(){try{var e=n(Object,"defineProperty");return e({},"",{}),e}catch(e){}}();e.exports=i},3290:(e,t,A)=>{e=A.nmd(e);var n=A(9325),i=t&&!t.nodeType&&t,r=i&&e&&!e.nodeType&&e,o=r&&r.exports===i?n.Buffer:void 0,s=o?o.allocUnsafe:void 0;e.exports=function(e,t){if(t)return e.slice();var A=e.length,n=s?s(A):new e.constructor(A);return e.copy(n),n}},3345:e=>{e.exports=function(){return[]}},3360:(e,t,A)=>{var n=A(3243);e.exports=function(e,t,A){"__proto__"==t&&n?n(e,t,{configurable:!0,enumerable:!0,value:A,writable:!0}):e[t]=A}},3375:(e,t,A)=>{var n=A(5765);e.exports=function(e){return e&&e.length?n(e):[]}},3488:e=>{e.exports=function(e){return e}},3605:e=>{e.exports=function(e){return this.__data__.get(e)}},3650:(e,t,A)=>{var n=A(4335)(Object.keys,Object);e.exports=n},3656:(e,t,A)=>{e=A.nmd(e);var n=A(9325),i=A(9935),r=t&&!t.nodeType&&t,o=r&&e&&!e.nodeType&&e,s=o&&o.exports===r?n.Buffer:void 0,a=(s?s.isBuffer:void 0)||i;e.exports=a},3661:(e,t,A)=>{var n=A(3040),i=A(7670),r=A(289),o=A(4509),s=A(2949);function a(e){var t=-1,A=null==e?0:e.length;for(this.clear();++t<A;){var n=e[t];this.set(n[0],n[1])}}a.prototype.clear=n,a.prototype.delete=i,a.prototype.get=r,a.prototype.has=o,a.prototype.set=s,e.exports=a},3663:(e,t,A)=>{var n=A(1799),i=A(776),r=A(7197);e.exports=function(e){var t=i(e);return 1==t.length&&t[0][2]?r(t[0][0],t[0][1]):function(A){return A===e||n(A,e,t)}}},3693:(e,t,A)=>{var n=A(4894),i=A(346);e.exports=function(e){return i(e)&&n(e)}},3697:e=>{"use strict";var t=Object.prototype.hasOwnProperty,A="~";function n(){}function i(e,t,A){this.fn=e,this.context=t,this.once=A||!1}function r(e,t,n,r,o){if("function"!=typeof n)throw new TypeError("The listener must be a function");var s=new i(n,r||e,o),a=A?A+t:t;return e._events[a]?e._events[a].fn?e._events[a]=[e._events[a],s]:e._events[a].push(s):(e._events[a]=s,e._eventsCount++),e}function o(e,t){0==--e._eventsCount?e._events=new n:delete e._events[t]}function s(){this._events=new n,this._eventsCount=0}Object.create&&(n.prototype=Object.create(null),(new n).__proto__||(A=!1)),s.prototype.eventNames=function(){var e,n,i=[];if(0===this._eventsCount)return i;for(n in e=this._events)t.call(e,n)&&i.push(A?n.slice(1):n);return Object.getOwnPropertySymbols?i.concat(Object.getOwnPropertySymbols(e)):i},s.prototype.listeners=function(e){var t=A?A+e:e,n=this._events[t];if(!n)return[];if(n.fn)return[n.fn];for(var i=0,r=n.length,o=new Array(r);i<r;i++)o[i]=n[i].fn;return o},s.prototype.listenerCount=function(e){var t=A?A+e:e,n=this._events[t];return n?n.fn?1:n.length:0},s.prototype.emit=function(e,t,n,i,r,o){var s=A?A+e:e;if(!this._events[s])return!1;var a,l,c=this._events[s],d=arguments.length;if(c.fn){switch(c.once&&this.removeListener(e,c.fn,void 0,!0),d){case 1:return c.fn.call(c.context),!0;case 2:return c.fn.call(c.context,t),!0;case 3:return c.fn.call(c.context,t,n),!0;case 4:return c.fn.call(c.context,t,n,i),!0;case 5:return c.fn.call(c.context,t,n,i,r),!0;case 6:return c.fn.call(c.context,t,n,i,r,o),!0}for(l=1,a=new Array(d-1);l<d;l++)a[l-1]=arguments[l];c.fn.apply(c.context,a)}else{var u,h=c.length;for(l=0;l<h;l++)switch(c[l].once&&this.removeListener(e,c[l].fn,void 0,!0),d){case 1:c[l].fn.call(c[l].context);break;case 2:c[l].fn.call(c[l].context,t);break;case 3:c[l].fn.call(c[l].context,t,n);break;case 4:c[l].fn.call(c[l].context,t,n,i);break;default:if(!a)for(u=1,a=new Array(d-1);u<d;u++)a[u-1]=arguments[u];c[l].fn.apply(c[l].context,a)}}return!0},s.prototype.on=function(e,t,A){return r(this,e,t,A,!1)},s.prototype.once=function(e,t,A){return r(this,e,t,A,!0)},s.prototype.removeListener=function(e,t,n,i){var r=A?A+e:e;if(!this._events[r])return this;if(!t)return o(this,r),this;var s=this._events[r];if(s.fn)s.fn!==t||i&&!s.once||n&&s.context!==n||o(this,r);else{for(var a=0,l=[],c=s.length;a<c;a++)(s[a].fn!==t||i&&!s[a].once||n&&s[a].context!==n)&&l.push(s[a]);l.length?this._events[r]=1===l.length?l[0]:l:o(this,r)}return this},s.prototype.removeAllListeners=function(e){var t;return e?(t=A?A+e:e,this._events[t]&&o(this,t)):(this._events=new n,this._eventsCount=0),this},s.prototype.off=s.prototype.removeListener,s.prototype.addListener=s.prototype.on,s.prefixed=A,s.EventEmitter=s,e.exports=s},3702:e=>{e.exports=function(){this.__data__=[],this.size=0}},3714:(e,t,A)=>{var n=A(3730);e.exports=function(e,t,A){for(var i=-1,r=e.criteria,o=t.criteria,s=r.length,a=A.length;++i<s;){var l=n(r[i],o[i]);if(l)return i>=a?l:l*("desc"==A[i]?-1:1)}return e.index-t.index}},3730:(e,t,A)=>{var n=A(4394);e.exports=function(e,t){if(e!==t){var A=void 0!==e,i=null===e,r=e==e,o=n(e),s=void 0!==t,a=null===t,l=t==t,c=n(t);if(!a&&!c&&!o&&e>t||o&&s&&l&&!a&&!c||i&&s&&l||!A&&l||!r)return 1;if(!i&&!o&&!c&&e<t||c&&A&&r&&!i&&!o||a&&A&&r||!s&&r||!l)return-1}return 0}},3805:e=>{e.exports=function(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}},3862:e=>{e.exports=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}},3912:(e,t,A)=>{var n=A(1074),i=A(9698),r=A(2054);e.exports=function(e){return i(e)?r(e):n(e)}},3937:e=>{e.exports=function(e,t){var A=e.length;for(e.sort(t);A--;)e[A]=e[A].value;return e}},3950:e=>{e.exports=function(){}},4051:e=>{var t=Math.floor;e.exports=function(e,A){var n="";if(!e||A<1||A>9007199254740991)return n;do{A%2&&(n+=e),(A=t(A/2))&&(e+=e)}while(A);return n}},4058:(e,t,A)=>{var n=A(4792),i=A(5539)((function(e,t,A){return t=t.toLowerCase(),e+(A?n(t):t)}));e.exports=i},4128:(e,t,A)=>{var n=A(1800),i=/^\s+/;e.exports=function(e){return e?e.slice(0,n(e)+1).replace(i,""):e}},4218:e=>{e.exports=function(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e}},4247:e=>{e.exports=function(e){var t=-1,A=Array(e.size);return e.forEach((function(e){A[++t]=e})),A}},4248:e=>{e.exports=function(e,t){for(var A=-1,n=null==e?0:e.length;++A<n;)if(t(e[A],A,e))return!0;return!1}},4335:e=>{e.exports=function(e,t){return function(A){return e(t(A))}}},4394:(e,t,A)=>{var n=A(2552),i=A(346);e.exports=function(e){return"symbol"==typeof e||i(e)&&"[object Symbol]"==n(e)}},4509:(e,t,A)=>{var n=A(2651);e.exports=function(e){return n(this,e).has(e)}},4517:(e,t,A)=>{var n=A(6545),i=A(3950),r=A(4247),o=n&&1/r(new n([,-0]))[1]==1/0?function(e){return new n(e)}:i;e.exports=o},4528:e=>{e.exports=function(e,t){for(var A=-1,n=t.length,i=e.length;++A<n;)e[i+A]=t[A];return e}},4552:e=>{e.exports=function(e){return function(t){return null==e?void 0:e[t]}}},4647:(e,t,A)=>{var n=A(4552)({ร:"A",ร:"A",ร:"A",ร:"A",ร:"A",ร:"A",ร:"a",รก:"a",รข:"a",รฃ:"a",รค:"a",รฅ:"a",ร:"C",รง:"c",ร:"D",รฐ:"d",ร:"E",ร:"E",ร:"E",ร:"E",รจ:"e",รฉ:"e",รช:"e",รซ:"e",ร:"I",ร:"I",ร:"I",ร:"I",รฌ:"i",รญ:"i",รฎ:"i",รฏ:"i",ร:"N",รฑ:"n",ร:"O",ร:"O",ร:"O",ร:"O",ร:"O",ร:"O",รฒ:"o",รณ:"o",รด:"o",รต:"o",รถ:"o",รธ:"o",ร:"U",ร:"U",ร:"U",ร:"U",รน:"u",รบ:"u",รป:"u",รผ:"u",ร:"Y",รฝ:"y",รฟ:"y",ร:"Ae",รฆ:"ae",ร:"Th",รพ:"th",ร:"ss",ฤ:"A",ฤ:"A",ฤ:"A",ฤ:"a",ฤ:"a",ฤ:"a",ฤ:"C",ฤ:"C",ฤ:"C",ฤ:"C",ฤ:"c",ฤ:"c",ฤ:"c",ฤ:"c",ฤ:"D",ฤ:"D",ฤ:"d",ฤ:"d",ฤ:"E",ฤ:"E",ฤ:"E",ฤ:"E",ฤ:"E",ฤ:"e",ฤ:"e",ฤ:"e",ฤ:"e",ฤ:"e",ฤ:"G",ฤ:"G",ฤ:"G",ฤข:"G",ฤ:"g",ฤ:"g",ฤก:"g",ฤฃ:"g",ฤค:"H",ฤฆ:"H",ฤฅ:"h",ฤง:"h",ฤจ:"I",ฤช:"I",ฤฌ:"I",ฤฎ:"I",ฤฐ:"I",ฤฉ:"i",ฤซ:"i",ฤญ:"i",ฤฏ:"i",ฤฑ:"i",ฤด:"J",ฤต:"j",ฤถ:"K",ฤท:"k",ฤธ:"k",ฤน:"L",ฤป:"L",ฤฝ:"L",ฤฟ:"L",ล:"L",ฤบ:"l",ฤผ:"l",ฤพ:"l",ล:"l",ล:"l",ล:"N",ล:"N",ล:"N",ล:"N",ล:"n",ล:"n",ล:"n",ล:"n",ล:"O",ล:"O",ล:"O",ล:"o",ล:"o",ล:"o",ล:"R",ล:"R",ล:"R",ล:"r",ล:"r",ล:"r",ล:"S",ล:"S",ล:"S",ล:"S",ล:"s",ล:"s",ล:"s",ลก:"s",ลข:"T",ลค:"T",ลฆ:"T",ลฃ:"t",ลฅ:"t",ลง:"t",ลจ:"U",ลช:"U",ลฌ:"U",ลฎ:"U",ลฐ:"U",ลฒ:"U",ลฉ:"u",ลซ:"u",ลญ:"u",ลฏ:"u",ลฑ:"u",ลณ:"u",ลด:"W",ลต:"w",ลถ:"Y",ลท:"y",ลธ:"Y",ลน:"Z",ลป:"Z",ลฝ:"Z",ลบ:"z",ลผ:"z",ลพ:"z",ฤฒ:"IJ",ฤณ:"ij",ล:"Oe",ล:"oe",ล:"'n",ลฟ:"s"});e.exports=n},4664:(e,t,A)=>{var n=A(9770),i=A(3345),r=Object.prototype.propertyIsEnumerable,o=Object.getOwnPropertySymbols,s=o?function(e){return null==e?[]:(e=Object(e),n(o(e),(function(t){return r.call(e,t)})))}:i;e.exports=s},4739:(e,t,A)=>{var n=A(6025);e.exports=function(e){var t=this.__data__,A=n(t,e);return A<0?void 0:t[A][1]}},4792:(e,t,A)=>{var n=A(3222),i=A(5808);e.exports=function(e){return i(n(e).toLowerCase())}},4840:(e,t,A)=>{var n="object"==typeof A.g&&A.g&&A.g.Object===Object&&A.g;e.exports=n},4894:(e,t,A)=>{var n=A(1882),i=A(294);e.exports=function(e){return null!=e&&i(e.length)&&!n(e)}},4901:(e,t,A)=>{var n=A(2552),i=A(294),r=A(346),o={};o["[object Float32Array]"]=o["[object Float64Array]"]=o["[object Int8Array]"]=o["[object Int16Array]"]=o["[object Int32Array]"]=o["[object Uint8Array]"]=o["[object Uint8ClampedArray]"]=o["[object Uint16Array]"]=o["[object Uint32Array]"]=!0,o["[object Arguments]"]=o["[object Array]"]=o["[object ArrayBuffer]"]=o["[object Boolean]"]=o["[object DataView]"]=o["[object Date]"]=o["[object Error]"]=o["[object Function]"]=o["[object Map]"]=o["[object Number]"]=o["[object Object]"]=o["[object RegExp]"]=o["[object Set]"]=o["[object String]"]=o["[object WeakMap]"]=!1,e.exports=function(e){return r(e)&&i(e.length)&&!!o[n(e)]}},4932:e=>{e.exports=function(e,t){for(var A=-1,n=null==e?0:e.length,i=Array(n);++A<n;)i[A]=t(e[A],A,e);return i}},4974:e=>{e.exports=function(e,t){if(("constructor"!==t||"function"!=typeof e[t])&&"__proto__"!=t)return e[t]}},5083:(e,t,A)=>{var n=A(1882),i=A(7296),r=A(3805),o=A(7473),s=/^\[object .+?Constructor\]$/,a=Function.prototype,l=Object.prototype,c=a.toString,d=l.hasOwnProperty,u=RegExp("^"+c.call(d).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");e.exports=function(e){return!(!r(e)||i(e))&&(n(e)?u:s).test(o(e))}},5128:(e,t,A)=>{var n=A(909),i=A(4894);e.exports=function(e,t){var A=-1,r=i(e)?Array(e.length):[];return n(e,(function(e,n,i){r[++A]=t(e,n,i)})),r}},5160:e=>{e.exports=function(e,t,A){var n=-1,i=e.length;t<0&&(t=-t>i?0:i+t),(A=A>i?i:A)<0&&(A+=i),i=t>A?0:A-t>>>0,t>>>=0;for(var r=Array(i);++n<i;)r[n]=e[n+t];return r}},5250:(e,t,A)=>{var n=A(7217),i=A(7805),r=A(6649),o=A(2824),s=A(3805),a=A(7241),l=A(4974);e.exports=function e(t,A,c,d,u){t!==A&&r(A,(function(r,a){if(u||(u=new n),s(r))o(t,A,a,c,e,d,u);else{var h=d?d(l(t,a),r,a+"",t,A,u):void 0;void 0===h&&(h=r),i(t,a,h)}}),a)}},5288:e=>{e.exports=function(e,t){return e===t||e!=e&&t!=t}},5325:(e,t,A)=>{var n=A(6131);e.exports=function(e,t){return!(null==e||!e.length)&&n(e,t,0)>-1}},5364:(e,t,A)=>{var n=A(5250),i=A(999)((function(e,t,A){n(e,t,A)}));e.exports=i},5389:(e,t,A)=>{var n=A(3663),i=A(7978),r=A(3488),o=A(6449),s=A(583);e.exports=function(e){return"function"==typeof e?e:null==e?r:"object"==typeof e?o(e)?i(e[0],e[1]):n(e):s(e)}},5434:e=>{var t=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/;e.exports=function(e){return t.test(e)}},5463:e=>{e.exports=function(e){return e!=e}},5481:(e,t,A)=>{var n=A(9325)["__core-js_shared__"];e.exports=n},5508:(e,t,A)=>{var n=A(6151),i=A(6800),r=A(7400);e.exports=function(e){return function(t,A,o){return o&&"number"!=typeof o&&i(t,A,o)&&(A=o=void 0),t=r(t),void 0===A?(A=t,t=0):A=r(A),o=void 0===o?t<A?1:-1:r(o),n(t,A,o,e)}}},5527:e=>{var t=Object.prototype;e.exports=function(e){var A=e&&e.constructor;return e===("function"==typeof A&&A.prototype||t)}},5529:(e,t,A)=>{var n=A(9344),i=A(8879),r=A(5527);e.exports=function(e){return"function"!=typeof e.constructor||r(e)?{}:n(i(e))}},5539:(e,t,A)=>{var n=A(882),i=A(828),r=A(6645),o=RegExp("['โ]","g");e.exports=function(e){return function(t){return n(r(i(t).replace(o,"")),e,"")}}},5580:(e,t,A)=>{var n=A(6110)(A(9325),"DataView");e.exports=n},5606:e=>{var t=-1;function A(e,h,p,g,f){if(e===h)return e?[[0,e]]:[];if(null!=p){var v=function(e,t,A){var n="number"==typeof A?{index:A,length:0}:A.oldRange,i="number"==typeof A?null:A.newRange,r=e.length,o=t.length;if(0===n.length&&(null===i||0===i.length)){var s=n.index,a=e.slice(0,s),l=e.slice(s),c=i?i.index:null,d=s+o-r;if((null===c||c===d)&&!(d<0||d>o)){var u=t.slice(0,d);if((g=t.slice(d))===l){var h=Math.min(s,d);if((v=a.slice(0,h))===(w=u.slice(0,h)))return m(v,a.slice(h),u.slice(h),l)}}if(null===c||c===s){var p=s,g=(u=t.slice(0,p),t.slice(p));if(u===a){var f=Math.min(r-p,o-p);if((B=l.slice(l.length-f))===(y=g.slice(g.length-f)))return m(a,l.slice(0,l.length-f),g.slice(0,g.length-f),B)}}}if(n.length>0&&i&&0===i.length){var v=e.slice(0,n.index),B=e.slice(n.index+n.length);if(!(o<(h=v.length)+(f=B.length))){var w=t.slice(0,h),y=t.slice(o-f);if(v===w&&B===y)return m(v,e.slice(h,r-f),t.slice(h,o-f),B)}}return null}(e,h,p);if(v)return v}var B=i(e,h),w=e.substring(0,B);B=o(e=e.substring(B),h=h.substring(B));var y=e.substring(e.length-B),C=function(e,r){var s;if(!e)return[[1,r]];if(!r)return[[t,e]];var a=e.length>r.length?e:r,l=e.length>r.length?r:e,c=a.indexOf(l);if(-1!==c)return s=[[1,a.substring(0,c)],[0,l],[1,a.substring(c+l.length)]],e.length>r.length&&(s[0][0]=s[2][0]=t),s;if(1===l.length)return[[t,e],[1,r]];var d=function(e,t){var A=e.length>t.length?e:t,n=e.length>t.length?t:e;if(A.length<4||2*n.length<A.length)return null;function r(e,t,A){for(var n,r,s,a,l=e.substring(A,A+Math.floor(e.length/4)),c=-1,d="";-1!==(c=t.indexOf(l,c+1));){var u=i(e.substring(A),t.substring(c)),h=o(e.substring(0,A),t.substring(0,c));d.length<h+u&&(d=t.substring(c-h,c)+t.substring(c,c+u),n=e.substring(0,A-h),r=e.substring(A+u),s=t.substring(0,c-h),a=t.substring(c+u))}return 2*d.length>=e.length?[n,r,s,a,d]:null}var s,a,l,c,d,u=r(A,n,Math.ceil(A.length/4)),h=r(A,n,Math.ceil(A.length/2));return u||h?(s=h?u&&u[4].length>h[4].length?u:h:u,e.length>t.length?(a=s[0],l=s[1],c=s[2],d=s[3]):(c=s[0],d=s[1],a=s[2],l=s[3]),[a,l,c,d,s[4]]):null}(e,r);if(d){var u=d[0],h=d[1],p=d[2],g=d[3],f=d[4],m=A(u,p),v=A(h,g);return m.concat([[0,f]],v)}return function(e,A){for(var i=e.length,r=A.length,o=Math.ceil((i+r)/2),s=o,a=2*o,l=new Array(a),c=new Array(a),d=0;d<a;d++)l[d]=-1,c[d]=-1;l[s+1]=0,c[s+1]=0;for(var u=i-r,h=u%2!=0,p=0,g=0,f=0,m=0,v=0;v<o;v++){for(var B=-v+p;B<=v-g;B+=2){for(var w=s+B,y=(Q=B===-v||B!==v&&l[w-1]<l[w+1]?l[w+1]:l[w-1]+1)-B;Q<i&&y<r&&e.charAt(Q)===A.charAt(y);)Q++,y++;if(l[w]=Q,Q>i)g+=2;else if(y>r)p+=2;else if(h&&(I=s+u-B)>=0&&I<a&&-1!==c[I]&&Q>=(b=i-c[I]))return n(e,A,Q,y)}for(var C=-v+f;C<=v-m;C+=2){for(var b,I=s+C,E=(b=C===-v||C!==v&&c[I-1]<c[I+1]?c[I+1]:c[I-1]+1)-C;b<i&&E<r&&e.charAt(i-b-1)===A.charAt(r-E-1);)b++,E++;if(c[I]=b,b>i)m+=2;else if(E>r)f+=2;else if(!h){var Q;if((w=s+u-C)>=0&&w<a&&-1!==l[w])if(y=s+(Q=l[w])-w,Q>=(b=i-b))return n(e,A,Q,y)}}}return[[t,e],[1,A]]}(e,r)}(e=e.substring(0,e.length-B),h=h.substring(0,h.length-B));return w&&C.unshift([0,w]),y&&C.push([0,y]),u(C,f),g&&function(e){for(var A=!1,n=[],i=0,h=null,p=0,g=0,f=0,m=0,v=0;p<e.length;)0==e[p][0]?(n[i++]=p,g=m,f=v,m=0,v=0,h=e[p][1]):(1==e[p][0]?m+=e[p][1].length:v+=e[p][1].length,h&&h.length<=Math.max(g,f)&&h.length<=Math.max(m,v)&&(e.splice(n[i-1],0,[t,h]),e[n[i-1]+1][0]=1,i--,p=--i>0?n[i-1]:-1,g=0,f=0,m=0,v=0,h=null,A=!0)),p++;for(A&&u(e),function(e){function t(e,t){if(!e||!t)return 6;var A=e.charAt(e.length-1),n=t.charAt(0),i=A.match(s),r=n.match(s),o=i&&A.match(a),u=r&&n.match(a),h=o&&A.match(l),p=u&&n.match(l),g=h&&e.match(c),f=p&&t.match(d);return g||f?5:h||p?4:i&&!o&&u?3:o||u?2:i||r?1:0}for(var A=1;A<e.length-1;){if(0==e[A-1][0]&&0==e[A+1][0]){var n=e[A-1][1],i=e[A][1],r=e[A+1][1],u=o(n,i);if(u){var h=i.substring(i.length-u);n=n.substring(0,n.length-u),i=h+i.substring(0,i.length-u),r=h+r}for(var p=n,g=i,f=r,m=t(n,i)+t(i,r);i.charAt(0)===r.charAt(0);){n+=i.charAt(0),i=i.substring(1)+r.charAt(0),r=r.substring(1);var v=t(n,i)+t(i,r);v>=m&&(m=v,p=n,g=i,f=r)}e[A-1][1]!=p&&(p?e[A-1][1]=p:(e.splice(A-1,1),A--),e[A][1]=g,f?e[A+1][1]=f:(e.splice(A+1,1),A--))}A++}}(e),p=1;p<e.length;){if(e[p-1][0]==t&&1==e[p][0]){var B=e[p-1][1],w=e[p][1],y=r(B,w),C=r(w,B);y>=C?(y>=B.length/2||y>=w.length/2)&&(e.splice(p,0,[0,w.substring(0,y)]),e[p-1][1]=B.substring(0,B.length-y),e[p+1][1]=w.substring(y),p++):(C>=B.length/2||C>=w.length/2)&&(e.splice(p,0,[0,B.substring(0,C)]),e[p-1][0]=1,e[p-1][1]=w.substring(0,w.length-C),e[p+1][0]=t,e[p+1][1]=B.substring(C),p++),p++}p++}}(C),C}function n(e,t,n,i){var r=e.substring(0,n),o=t.substring(0,i),s=e.substring(n),a=t.substring(i),l=A(r,o),c=A(s,a);return l.concat(c)}function i(e,t){if(!e||!t||e.charAt(0)!==t.charAt(0))return 0;for(var A=0,n=Math.min(e.length,t.length),i=n,r=0;A<i;)e.substring(r,i)==t.substring(r,i)?r=A=i:n=i,i=Math.floor((n-A)/2+A);return h(e.charCodeAt(i-1))&&i--,i}function r(e,t){var A=e.length,n=t.length;if(0==A||0==n)return 0;A>n?e=e.substring(A-n):A<n&&(t=t.substring(0,A));var i=Math.min(A,n);if(e==t)return i;for(var r=0,o=1;;){var s=e.substring(i-o),a=t.indexOf(s);if(-1==a)return r;o+=a,0!=a&&e.substring(i-o)!=t.substring(0,o)||(r=o,o++)}}function o(e,t){if(!e||!t||e.slice(-1)!==t.slice(-1))return 0;for(var A=0,n=Math.min(e.length,t.length),i=n,r=0;A<i;)e.substring(e.length-i,e.length-r)==t.substring(t.length-i,t.length-r)?r=A=i:n=i,i=Math.floor((n-A)/2+A);return p(e.charCodeAt(e.length-i))&&i--,i}var s=/[^a-zA-Z0-9]/,a=/\s/,l=/[\r\n]/,c=/\n\r?\n$/,d=/^\r?\n\r?\n/;function u(e,A){e.push([0,""]);for(var n,r=0,s=0,a=0,l="",c="";r<e.length;)if(r<e.length-1&&!e[r][1])e.splice(r,1);else switch(e[r][0]){case 1:a++,c+=e[r][1],r++;break;case t:s++,l+=e[r][1],r++;break;case 0:var d=r-a-s-1;if(A){if(d>=0&&f(e[d][1])){var h=e[d][1].slice(-1);if(e[d][1]=e[d][1].slice(0,-1),l=h+l,c=h+c,!e[d][1]){e.splice(d,1),r--;var p=d-1;e[p]&&1===e[p][0]&&(a++,c=e[p][1]+c,p--),e[p]&&e[p][0]===t&&(s++,l=e[p][1]+l,p--),d=p}}g(e[r][1])&&(h=e[r][1].charAt(0),e[r][1]=e[r][1].slice(1),l+=h,c+=h)}if(r<e.length-1&&!e[r][1]){e.splice(r,1);break}if(l.length>0||c.length>0){l.length>0&&c.length>0&&(0!==(n=i(c,l))&&(d>=0?e[d][1]+=c.substring(0,n):(e.splice(0,0,[0,c.substring(0,n)]),r++),c=c.substring(n),l=l.substring(n)),0!==(n=o(c,l))&&(e[r][1]=c.substring(c.length-n)+e[r][1],c=c.substring(0,c.length-n),l=l.substring(0,l.length-n)));var m=a+s;0===l.length&&0===c.length?(e.splice(r-m,m),r-=m):0===l.length?(e.splice(r-m,m,[1,c]),r=r-m+1):0===c.length?(e.splice(r-m,m,[t,l]),r=r-m+1):(e.splice(r-m,m,[t,l],[1,c]),r=r-m+2)}0!==r&&0===e[r-1][0]?(e[r-1][1]+=e[r][1],e.splice(r,1)):r++,a=0,s=0,l="",c=""}""===e[e.length-1][1]&&e.pop();var v=!1;for(r=1;r<e.length-1;)0===e[r-1][0]&&0===e[r+1][0]&&(e[r][1].substring(e[r][1].length-e[r-1][1].length)===e[r-1][1]?(e[r][1]=e[r-1][1]+e[r][1].substring(0,e[r][1].length-e[r-1][1].length),e[r+1][1]=e[r-1][1]+e[r+1][1],e.splice(r-1,1),v=!0):e[r][1].substring(0,e[r+1][1].length)==e[r+1][1]&&(e[r-1][1]+=e[r+1][1],e[r][1]=e[r][1].substring(e[r+1][1].length)+e[r+1][1],e.splice(r+1,1),v=!0)),r++;v&&u(e,A)}function h(e){return e>=55296&&e<=56319}function p(e){return e>=56320&&e<=57343}function g(e){return p(e.charCodeAt(0))}function f(e){return h(e.charCodeAt(e.length-1))}function m(e,A,n,i){return f(e)||g(i)?null:function(e){for(var t=[],A=0;A<e.length;A++)e[A][1].length>0&&t.push(e[A]);return t}([[0,e],[t,A],[1,n],[0,i]])}function v(e,t,n,i){return A(e,t,n,i,!0)}v.INSERT=1,v.DELETE=t,v.EQUAL=0,e.exports=v},5749:(e,t,A)=>{var n=A(1042);e.exports=function(e,t){var A=this.__data__;return this.size+=this.has(e)?0:1,A[e]=n&&void 0===t?"__lodash_hash_undefined__":t,this}},5759:(e,t)=>{"use strict";var A;Object.defineProperty(t,"__esModule",{value:!0}),function(e){e.length=function(e){return"number"==typeof e.delete?e.delete:"number"==typeof e.retain?e.retain:"object"==typeof e.retain&&null!==e.retain?1:"string"==typeof e.insert?e.insert.length:1}}(A||(A={})),t.default=A},5765:(e,t,A)=>{var n=A(8859),i=A(5325),r=A(9905),o=A(9219),s=A(4517),a=A(4247);e.exports=function(e,t,A){var l=-1,c=i,d=e.length,u=!0,h=[],p=h;if(A)u=!1,c=r;else if(d>=200){var g=t?null:s(e);if(g)return a(g);u=!1,c=o,p=new n}else p=t?[]:h;e:for(;++l<d;){var f=e[l],m=t?t(f):f;if(f=A||0!==f?f:0,u&&m==m){for(var v=p.length;v--;)if(p[v]===m)continue e;t&&p.push(m),h.push(f)}else c(p,m,A)||(p!==h&&p.push(m),h.push(f))}return h}},5808:(e,t,A)=>{var n=A(2507)("toUpperCase");e.exports=n},5861:(e,t,A)=>{var n=A(5580),i=A(8223),r=A(2804),o=A(6545),s=A(8303),a=A(2552),l=A(7473),c="[object Map]",d="[object Promise]",u="[object Set]",h="[object WeakMap]",p="[object DataView]",g=l(n),f=l(i),m=l(r),v=l(o),B=l(s),w=a;(n&&w(new n(new ArrayBuffer(1)))!=p||i&&w(new i)!=c||r&&w(r.resolve())!=d||o&&w(new o)!=u||s&&w(new s)!=h)&&(w=function(e){var t=a(e),A="[object Object]"==t?e.constructor:void 0,n=A?l(A):"";if(n)switch(n){case g:return p;case f:return c;case m:return d;case v:return u;case B:return h}return t}),e.exports=w},5891:(e,t,A)=>{var n=A(1873),i=A(2428),r=A(6449),o=n?n.isConcatSpreadable:void 0;e.exports=function(e){return r(e)||i(e)||!!(o&&e&&e[o])}},5911:(e,t,A)=>{var n=A(8859),i=A(4248),r=A(9219);e.exports=function(e,t,A,o,s,a){var l=1&A,c=e.length,d=t.length;if(c!=d&&!(l&&d>c))return!1;var u=a.get(e),h=a.get(t);if(u&&h)return u==t&&h==e;var p=-1,g=!0,f=2&A?new n:void 0;for(a.set(e,t),a.set(t,e);++p<c;){var m=e[p],v=t[p];if(o)var B=l?o(v,m,p,t,e,a):o(m,v,p,e,t,a);if(void 0!==B){if(B)continue;g=!1;break}if(f){if(!i(t,(function(e,t){if(!r(f,t)&&(m===e||s(m,e,A,o,a)))return f.push(t)}))){g=!1;break}}else if(m!==v&&!s(m,v,A,o,a)){g=!1;break}}return a.delete(e),a.delete(t),g}},5950:(e,t,A)=>{var n=A(695),i=A(8984),r=A(4894);e.exports=function(e){return r(e)?n(e):i(e)}},6009:(e,t,A)=>{e=A.nmd(e);var n=A(4840),i=t&&!t.nodeType&&t,r=i&&e&&!e.nodeType&&e,o=r&&r.exports===i&&n.process,s=function(){try{return r&&r.require&&r.require("util").types||o&&o.binding&&o.binding("util")}catch(e){}}();e.exports=s},6025:(e,t,A)=>{var n=A(5288);e.exports=function(e,t){for(var A=e.length;A--;)if(n(e[A][0],t))return A;return-1}},6110:(e,t,A)=>{var n=A(5083),i=A(392);e.exports=function(e,t){var A=i(e,t);return n(A)?A:void 0}},6131:(e,t,A)=>{var n=A(2523),i=A(5463),r=A(6959);e.exports=function(e,t,A){return t==t?r(e,t,A):n(e,i,A)}},6151:e=>{var t=Math.ceil,A=Math.max;e.exports=function(e,n,i,r){for(var o=-1,s=A(t((n-e)/(i||1)),0),a=Array(s);s--;)a[r?s:++o]=e,e+=i;return a}},6155:(e,t,A)=>{var n=A(4932),i=A(7422),r=A(5389),o=A(5128),s=A(3937),a=A(7301),l=A(3714),c=A(3488),d=A(6449);e.exports=function(e,t,A){t=t.length?n(t,(function(e){return d(e)?function(t){return i(t,1===e.length?e[0]:e)}:e})):[c];var u=-1;t=n(t,a(r));var h=o(e,(function(e,A,i){return{criteria:n(t,(function(t){return t(e)})),index:++u,value:e}}));return s(h,(function(e,t){return l(e,t,A)}))}},6449:e=>{var t=Array.isArray;e.exports=t},6545:(e,t,A)=>{var n=A(6110)(A(9325),"Set");e.exports=n},6547:(e,t,A)=>{var n=A(3360),i=A(5288),r=Object.prototype.hasOwnProperty;e.exports=function(e,t,A){var o=e[t];r.call(e,t)&&i(o,A)&&(void 0!==A||t in e)||n(e,t,A)}},6645:(e,t,A)=>{var n=A(1733),i=A(5434),r=A(3222),o=A(2225);e.exports=function(e,t,A){return e=r(e),void 0===(t=A?void 0:t)?i(e)?o(e):n(e):e.match(t)||[]}},6649:(e,t,A)=>{var n=A(3221)();e.exports=n},6721:(e,t,A)=>{var n=A(1042),i=Object.prototype.hasOwnProperty;e.exports=function(e){var t=this.__data__;if(n){var A=t[e];return"__lodash_hash_undefined__"===A?void 0:A}return i.call(t,e)?t[e]:void 0}},6757:(e,t,A)=>{var n=A(1033),i=Math.max;e.exports=function(e,t,A){return t=i(void 0===t?e.length-1:t,0),function(){for(var r=arguments,o=-1,s=i(r.length-t,0),a=Array(s);++o<s;)a[o]=r[t+o];o=-1;for(var l=Array(t+1);++o<t;)l[o]=r[o];return l[t]=A(a),n(e,this,l)}}},6800:(e,t,A)=>{var n=A(5288),i=A(4894),r=A(361),o=A(3805);e.exports=function(e,t,A){if(!o(A))return!1;var s=typeof t;return!!("number"==s?i(A)&&r(t,A.length):"string"==s&&t in A)&&n(A[t],e)}},6959:e=>{e.exports=function(e,t,A){for(var n=A-1,i=e.length;++n<i;)if(e[n]===t)return n;return-1}},7068:(e,t,A)=>{var n=A(7217),i=A(5911),r=A(1986),o=A(689),s=A(5861),a=A(6449),l=A(3656),c=A(7167),d="[object Arguments]",u="[object Array]",h="[object Object]",p=Object.prototype.hasOwnProperty;e.exports=function(e,t,A,g,f,m){var v=a(e),B=a(t),w=v?u:s(e),y=B?u:s(t),C=(w=w==d?h:w)==h,b=(y=y==d?h:y)==h,I=w==y;if(I&&l(e)){if(!l(t))return!1;v=!0,C=!1}if(I&&!C)return m||(m=new n),v||c(e)?i(e,t,A,g,f,m):r(e,t,w,A,g,f,m);if(!(1&A)){var E=C&&p.call(e,"__wrapped__"),Q=b&&p.call(t,"__wrapped__");if(E||Q){var U=E?e.value():e,x=Q?t.value():t;return m||(m=new n),f(U,x,A,g,m)}}return!!I&&(m||(m=new n),o(e,t,A,g,f,m))}},7167:(e,t,A)=>{var n=A(4901),i=A(7301),r=A(6009),o=r&&r.isTypedArray,s=o?i(o):n;e.exports=s},7193:(e,t,A)=>{e=A.nmd(e);var n="__lodash_hash_undefined__",i=9007199254740991,r="[object Arguments]",o="[object Boolean]",s="[object Date]",a="[object Function]",l="[object GeneratorFunction]",c="[object Map]",d="[object Number]",u="[object Object]",h="[object Promise]",p="[object RegExp]",g="[object Set]",f="[object String]",m="[object Symbol]",v="[object WeakMap]",B="[object ArrayBuffer]",w="[object DataView]",y="[object Float32Array]",C="[object Float64Array]",b="[object Int8Array]",I="[object Int16Array]",E="[object Int32Array]",Q="[object Uint8Array]",U="[object Uint8ClampedArray]",x="[object Uint16Array]",F="[object Uint32Array]",T=/\w*$/,L=/^\[object .+?Constructor\]$/,S=/^(?:0|[1-9]\d*)$/,H={};H[r]=H["[object Array]"]=H[B]=H[w]=H[o]=H[s]=H[y]=H[C]=H[b]=H[I]=H[E]=H[c]=H[d]=H[u]=H[p]=H[g]=H[f]=H[m]=H[Q]=H[U]=H[x]=H[F]=!0,H["[object Error]"]=H[a]=H[v]=!1;var M="object"==typeof A.g&&A.g&&A.g.Object===Object&&A.g,k="object"==typeof self&&self&&self.Object===Object&&self,P=M||k||Function("return this")(),N=t&&!t.nodeType&&t,D=N&&e&&!e.nodeType&&e,O=D&&D.exports===N;function _(e,t){return e.set(t[0],t[1]),e}function V(e,t){return e.add(t),e}function $(e,t,A,n){var i=-1,r=e?e.length:0;for(n&&r&&(A=e[++i]);++i<r;)A=t(A,e[i],i,e);return A}function j(e){var t=!1;if(null!=e&&"function"!=typeof e.toString)try{t=!!(e+"")}catch(e){}return t}function K(e){var t=-1,A=Array(e.size);return e.forEach((function(e,n){A[++t]=[n,e]})),A}function R(e,t){return function(A){return e(t(A))}}function q(e){var t=-1,A=Array(e.size);return e.forEach((function(e){A[++t]=e})),A}var G,W=Array.prototype,Z=Function.prototype,z=Object.prototype,J=P["__core-js_shared__"],X=(G=/[^.]+$/.exec(J&&J.keys&&J.keys.IE_PROTO||""))?"Symbol(src)_1."+G:"",Y=Z.toString,ee=z.hasOwnProperty,te=z.toString,Ae=RegExp("^"+Y.call(ee).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),ne=O?P.Buffer:void 0,ie=P.Symbol,re=P.Uint8Array,oe=R(Object.getPrototypeOf,Object),se=Object.create,ae=z.propertyIsEnumerable,le=W.splice,ce=Object.getOwnPropertySymbols,de=ne?ne.isBuffer:void 0,ue=R(Object.keys,Object),he=Pe(P,"DataView"),pe=Pe(P,"Map"),ge=Pe(P,"Promise"),fe=Pe(P,"Set"),me=Pe(P,"WeakMap"),ve=Pe(Object,"create"),Be=Ve(he),we=Ve(pe),ye=Ve(ge),Ce=Ve(fe),be=Ve(me),Ie=ie?ie.prototype:void 0,Ee=Ie?Ie.valueOf:void 0;function Qe(e){var t=-1,A=e?e.length:0;for(this.clear();++t<A;){var n=e[t];this.set(n[0],n[1])}}function Ue(e){var t=-1,A=e?e.length:0;for(this.clear();++t<A;){var n=e[t];this.set(n[0],n[1])}}function xe(e){var t=-1,A=e?e.length:0;for(this.clear();++t<A;){var n=e[t];this.set(n[0],n[1])}}function Fe(e){this.__data__=new Ue(e)}function Te(e,t,A){var n=e[t];ee.call(e,t)&&$e(n,A)&&(void 0!==A||t in e)||(e[t]=A)}function Le(e,t){for(var A=e.length;A--;)if($e(e[A][0],t))return A;return-1}function Se(e,t,A,n,i,h,v){var L;if(n&&(L=h?n(e,i,h,v):n(e)),void 0!==L)return L;if(!Ge(e))return e;var S=je(e);if(S){if(L=function(e){var t=e.length,A=e.constructor(t);return t&&"string"==typeof e[0]&&ee.call(e,"index")&&(A.index=e.index,A.input=e.input),A}(e),!t)return function(e,t){var A=-1,n=e.length;for(t||(t=Array(n));++A<n;)t[A]=e[A];return t}(e,L)}else{var M=De(e),k=M==a||M==l;if(Re(e))return function(e,t){if(t)return e.slice();var A=new e.constructor(e.length);return e.copy(A),A}(e,t);if(M==u||M==r||k&&!h){if(j(e))return h?e:{};if(L=function(e){return"function"!=typeof e.constructor||_e(e)?{}:Ge(t=oe(e))?se(t):{};var t}(k?{}:e),!t)return function(e,t){return Me(e,Ne(e),t)}(e,function(e,t){return e&&Me(t,We(t),e)}(L,e))}else{if(!H[M])return h?e:{};L=function(e,t,A,n){var i,r=e.constructor;switch(t){case B:return He(e);case o:case s:return new r(+e);case w:return function(e,t){var A=t?He(e.buffer):e.buffer;return new e.constructor(A,e.byteOffset,e.byteLength)}(e,n);case y:case C:case b:case I:case E:case Q:case U:case x:case F:return function(e,t){var A=t?He(e.buffer):e.buffer;return new e.constructor(A,e.byteOffset,e.length)}(e,n);case c:return function(e,t,A){return $(t?A(K(e),!0):K(e),_,new e.constructor)}(e,n,A);case d:case f:return new r(e);case p:return function(e){var t=new e.constructor(e.source,T.exec(e));return t.lastIndex=e.lastIndex,t}(e);case g:return function(e,t,A){return $(t?A(q(e),!0):q(e),V,new e.constructor)}(e,n,A);case m:return i=e,Ee?Object(Ee.call(i)):{}}}(e,M,Se,t)}}v||(v=new Fe);var P=v.get(e);if(P)return P;if(v.set(e,L),!S)var N=A?function(e){return function(e,t,A){var n=t(e);return je(e)?n:function(e,t){for(var A=-1,n=t.length,i=e.length;++A<n;)e[i+A]=t[A];return e}(n,A(e))}(e,We,Ne)}(e):We(e);return function(e,t){for(var A=-1,n=e?e.length:0;++A<n&&!1!==t(e[A],A););}(N||e,(function(i,r){N&&(i=e[r=i]),Te(L,r,Se(i,t,A,n,r,e,v))})),L}function He(e){var t=new e.constructor(e.byteLength);return new re(t).set(new re(e)),t}function Me(e,t,A,n){A||(A={});for(var i=-1,r=t.length;++i<r;){var o=t[i],s=n?n(A[o],e[o],o,A,e):void 0;Te(A,o,void 0===s?e[o]:s)}return A}function ke(e,t){var A,n,i=e.__data__;return("string"==(n=typeof(A=t))||"number"==n||"symbol"==n||"boolean"==n?"__proto__"!==A:null===A)?i["string"==typeof t?"string":"hash"]:i.map}function Pe(e,t){var A=function(e,t){return null==e?void 0:e[t]}(e,t);return function(e){return!(!Ge(e)||(t=e,X&&X in t))&&(qe(e)||j(e)?Ae:L).test(Ve(e));var t}(A)?A:void 0}Qe.prototype.clear=function(){this.__data__=ve?ve(null):{}},Qe.prototype.delete=function(e){return this.has(e)&&delete this.__data__[e]},Qe.prototype.get=function(e){var t=this.__data__;if(ve){var A=t[e];return A===n?void 0:A}return ee.call(t,e)?t[e]:void 0},Qe.prototype.has=function(e){var t=this.__data__;return ve?void 0!==t[e]:ee.call(t,e)},Qe.prototype.set=function(e,t){return this.__data__[e]=ve&&void 0===t?n:t,this},Ue.prototype.clear=function(){this.__data__=[]},Ue.prototype.delete=function(e){var t=this.__data__,A=Le(t,e);return!(A<0||(A==t.length-1?t.pop():le.call(t,A,1),0))},Ue.prototype.get=function(e){var t=this.__data__,A=Le(t,e);return A<0?void 0:t[A][1]},Ue.prototype.has=function(e){return Le(this.__data__,e)>-1},Ue.prototype.set=function(e,t){var A=this.__data__,n=Le(A,e);return n<0?A.push([e,t]):A[n][1]=t,this},xe.prototype.clear=function(){this.__data__={hash:new Qe,map:new(pe||Ue),string:new Qe}},xe.prototype.delete=function(e){return ke(this,e).delete(e)},xe.prototype.get=function(e){return ke(this,e).get(e)},xe.prototype.has=function(e){return ke(this,e).has(e)},xe.prototype.set=function(e,t){return ke(this,e).set(e,t),this},Fe.prototype.clear=function(){this.__data__=new Ue},Fe.prototype.delete=function(e){return this.__data__.delete(e)},Fe.prototype.get=function(e){return this.__data__.get(e)},Fe.prototype.has=function(e){return this.__data__.has(e)},Fe.prototype.set=function(e,t){var A=this.__data__;if(A instanceof Ue){var n=A.__data__;if(!pe||n.length<199)return n.push([e,t]),this;A=this.__data__=new xe(n)}return A.set(e,t),this};var Ne=ce?R(ce,Object):function(){return[]},De=function(e){return te.call(e)};function Oe(e,t){return!!(t=null==t?i:t)&&("number"==typeof e||S.test(e))&&e>-1&&e%1==0&&e<t}function _e(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||z)}function Ve(e){if(null!=e){try{return Y.call(e)}catch(e){}try{return e+""}catch(e){}}return""}function $e(e,t){return e===t||e!=e&&t!=t}(he&&De(new he(new ArrayBuffer(1)))!=w||pe&&De(new pe)!=c||ge&&De(ge.resolve())!=h||fe&&De(new fe)!=g||me&&De(new me)!=v)&&(De=function(e){var t=te.call(e),A=t==u?e.constructor:void 0,n=A?Ve(A):void 0;if(n)switch(n){case Be:return w;case we:return c;case ye:return h;case Ce:return g;case be:return v}return t});var je=Array.isArray;function Ke(e){return null!=e&&function(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=i}(e.length)&&!qe(e)}var Re=de||function(){return!1};function qe(e){var t=Ge(e)?te.call(e):"";return t==a||t==l}function Ge(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}function We(e){return Ke(e)?function(e,t){var A=je(e)||function(e){return function(e){return function(e){return!!e&&"object"==typeof e}(e)&&Ke(e)}(e)&&ee.call(e,"callee")&&(!ae.call(e,"callee")||te.call(e)==r)}(e)?function(e,t){for(var A=-1,n=Array(e);++A<e;)n[A]=t(A);return n}(e.length,String):[],n=A.length,i=!!n;for(var o in e)!t&&!ee.call(e,o)||i&&("length"==o||Oe(o,n))||A.push(o);return A}(e):function(e){if(!_e(e))return ue(e);var t=[];for(var A in Object(e))ee.call(e,A)&&"constructor"!=A&&t.push(A);return t}(e)}e.exports=function(e){return Se(e,!0,!0)}},7197:e=>{e.exports=function(e,t){return function(A){return null!=A&&A[e]===t&&(void 0!==t||e in Object(A))}}},7217:(e,t,A)=>{var n=A(79),i=A(1420),r=A(938),o=A(3605),s=A(9817),a=A(945);function l(e){var t=this.__data__=new n(e);this.size=t.size}l.prototype.clear=i,l.prototype.delete=r,l.prototype.get=o,l.prototype.has=s,l.prototype.set=a,e.exports=l},7237:e=>{e.exports=function(e){return function(t){return null==t?void 0:t[e]}}},7241:(e,t,A)=>{var n=A(695),i=A(2903),r=A(4894);e.exports=function(e){return r(e)?n(e,!0):i(e)}},7248:(e,t,A)=>{var n=A(6547),i=A(1234);e.exports=function(e,t){return i(e||[],t||[],n)}},7255:(e,t,A)=>{var n=A(7422);e.exports=function(e){return function(t){return n(t,e)}}},7296:(e,t,A)=>{var n,i=A(5481),r=(n=/[^.]+$/.exec(i&&i.keys&&i.keys.IE_PROTO||""))?"Symbol(src)_1."+n:"";e.exports=function(e){return!!r&&r in e}},7301:e=>{e.exports=function(e){return function(t){return e(t)}}},7334:e=>{e.exports=function(e){return function(){return e}}},7400:(e,t,A)=>{var n=A(9374),i=1/0;e.exports=function(e){return e?(e=n(e))===i||e===-1/0?17976931348623157e292*(e<0?-1:1):e==e?e:0:0===e?e:0}},7422:(e,t,A)=>{var n=A(1769),i=A(7797);e.exports=function(e,t){for(var A=0,r=(t=n(t,e)).length;null!=e&&A<r;)e=e[i(t[A++])];return A&&A==r?e:void 0}},7473:e=>{var t=Function.prototype.toString;e.exports=function(e){if(null!=e){try{return t.call(e)}catch(e){}try{return e+""}catch(e){}}return""}},7534:(e,t,A)=>{var n=A(2552),i=A(346);e.exports=function(e){return i(e)&&"[object Arguments]"==n(e)}},7556:(e,t,A)=>{var n=A(1873),i=A(4932),r=A(6449),o=A(4394),s=n?n.prototype:void 0,a=s?s.toString:void 0;e.exports=function e(t){if("string"==typeof t)return t;if(r(t))return i(t,e)+"";if(o(t))return a?a.call(t):"";var A=t+"";return"0"==A&&1/t==-1/0?"-0":A}},7670:(e,t,A)=>{var n=A(2651);e.exports=function(e){var t=n(this,e).delete(e);return this.size-=t?1:0,t}},7797:(e,t,A)=>{var n=A(4394);e.exports=function(e){if("string"==typeof e||n(e))return e;var t=e+"";return"0"==t&&1/e==-1/0?"-0":t}},7805:(e,t,A)=>{var n=A(3360),i=A(5288);e.exports=function(e,t,A){(void 0!==A&&!i(e[t],A)||void 0===A&&!(t in e))&&n(e,t,A)}},7828:(e,t,A)=>{var n=A(9325).Uint8Array;e.exports=n},7978:(e,t,A)=>{var n=A(270),i=A(8156),r=A(631),o=A(8586),s=A(756),a=A(7197),l=A(7797);e.exports=function(e,t){return o(e)&&s(t)?a(l(e),t):function(A){var o=i(A,e);return void 0===o&&o===t?r(A,e):n(t,o,3)}}},8077:e=>{e.exports=function(e,t){return null!=e&&t in Object(e)}},8096:e=>{e.exports=function(e,t){for(var A=-1,n=Array(e);++A<e;)n[A]=t(A);return n}},8142:(e,t,A)=>{e=A.nmd(e);var n="__lodash_hash_undefined__",i=9007199254740991,r="[object Arguments]",o="[object Array]",s="[object Boolean]",a="[object Date]",l="[object Error]",c="[object Function]",d="[object Map]",u="[object Number]",h="[object Object]",p="[object Promise]",g="[object RegExp]",f="[object Set]",m="[object String]",v="[object WeakMap]",B="[object ArrayBuffer]",w="[object DataView]",y=/^\[object .+?Constructor\]$/,C=/^(?:0|[1-9]\d*)$/,b={};b["[object Float32Array]"]=b["[object Float64Array]"]=b["[object Int8Array]"]=b["[object Int16Array]"]=b["[object Int32Array]"]=b["[object Uint8Array]"]=b["[object Uint8ClampedArray]"]=b["[object Uint16Array]"]=b["[object Uint32Array]"]=!0,b[r]=b[o]=b[B]=b[s]=b[w]=b[a]=b[l]=b[c]=b[d]=b[u]=b[h]=b[g]=b[f]=b[m]=b[v]=!1;var I="object"==typeof A.g&&A.g&&A.g.Object===Object&&A.g,E="object"==typeof self&&self&&self.Object===Object&&self,Q=I||E||Function("return this")(),U=t&&!t.nodeType&&t,x=U&&e&&!e.nodeType&&e,F=x&&x.exports===U,T=F&&I.process,L=function(){try{return T&&T.binding&&T.binding("util")}catch(e){}}(),S=L&&L.isTypedArray;function H(e,t){for(var A=-1,n=null==e?0:e.length;++A<n;)if(t(e[A],A,e))return!0;return!1}function M(e){var t=-1,A=Array(e.size);return e.forEach((function(e,n){A[++t]=[n,e]})),A}function k(e){var t=-1,A=Array(e.size);return e.forEach((function(e){A[++t]=e})),A}var P,N,D,O=Array.prototype,_=Function.prototype,V=Object.prototype,$=Q["__core-js_shared__"],j=_.toString,K=V.hasOwnProperty,R=(P=/[^.]+$/.exec($&&$.keys&&$.keys.IE_PROTO||""))?"Symbol(src)_1."+P:"",q=V.toString,G=RegExp("^"+j.call(K).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),W=F?Q.Buffer:void 0,Z=Q.Symbol,z=Q.Uint8Array,J=V.propertyIsEnumerable,X=O.splice,Y=Z?Z.toStringTag:void 0,ee=Object.getOwnPropertySymbols,te=W?W.isBuffer:void 0,Ae=(N=Object.keys,D=Object,function(e){return N(D(e))}),ne=xe(Q,"DataView"),ie=xe(Q,"Map"),re=xe(Q,"Promise"),oe=xe(Q,"Set"),se=xe(Q,"WeakMap"),ae=xe(Object,"create"),le=Se(ne),ce=Se(ie),de=Se(re),ue=Se(oe),he=Se(se),pe=Z?Z.prototype:void 0,ge=pe?pe.valueOf:void 0;function fe(e){var t=-1,A=null==e?0:e.length;for(this.clear();++t<A;){var n=e[t];this.set(n[0],n[1])}}function me(e){var t=-1,A=null==e?0:e.length;for(this.clear();++t<A;){var n=e[t];this.set(n[0],n[1])}}function ve(e){var t=-1,A=null==e?0:e.length;for(this.clear();++t<A;){var n=e[t];this.set(n[0],n[1])}}function Be(e){var t=-1,A=null==e?0:e.length;for(this.__data__=new ve;++t<A;)this.add(e[t])}function we(e){var t=this.__data__=new me(e);this.size=t.size}function ye(e,t){for(var A=e.length;A--;)if(He(e[A][0],t))return A;return-1}function Ce(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":Y&&Y in Object(e)?function(e){var t=K.call(e,Y),A=e[Y];try{e[Y]=void 0;var n=!0}catch(e){}var i=q.call(e);return n&&(t?e[Y]=A:delete e[Y]),i}(e):function(e){return q.call(e)}(e)}function be(e){return _e(e)&&Ce(e)==r}function Ie(e,t,A,n,i){return e===t||(null==e||null==t||!_e(e)&&!_e(t)?e!=e&&t!=t:function(e,t,A,n,i,c){var p=ke(e),v=ke(t),y=p?o:Te(e),C=v?o:Te(t),b=(y=y==r?h:y)==h,I=(C=C==r?h:C)==h,E=y==C;if(E&&Pe(e)){if(!Pe(t))return!1;p=!0,b=!1}if(E&&!b)return c||(c=new we),p||Ve(e)?Ee(e,t,A,n,i,c):function(e,t,A,n,i,r,o){switch(A){case w:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case B:return!(e.byteLength!=t.byteLength||!r(new z(e),new z(t)));case s:case a:case u:return He(+e,+t);case l:return e.name==t.name&&e.message==t.message;case g:case m:return e==t+"";case d:var c=M;case f:var h=1&n;if(c||(c=k),e.size!=t.size&&!h)return!1;var p=o.get(e);if(p)return p==t;n|=2,o.set(e,t);var v=Ee(c(e),c(t),n,i,r,o);return o.delete(e),v;case"[object Symbol]":if(ge)return ge.call(e)==ge.call(t)}return!1}(e,t,y,A,n,i,c);if(!(1&A)){var Q=b&&K.call(e,"__wrapped__"),U=I&&K.call(t,"__wrapped__");if(Q||U){var x=Q?e.value():e,F=U?t.value():t;return c||(c=new we),i(x,F,A,n,c)}}return!!E&&(c||(c=new we),function(e,t,A,n,i,r){var o=1&A,s=Qe(e),a=s.length;if(a!=Qe(t).length&&!o)return!1;for(var l=a;l--;){var c=s[l];if(!(o?c in t:K.call(t,c)))return!1}var d=r.get(e);if(d&&r.get(t))return d==t;var u=!0;r.set(e,t),r.set(t,e);for(var h=o;++l<a;){var p=e[c=s[l]],g=t[c];if(n)var f=o?n(g,p,c,t,e,r):n(p,g,c,e,t,r);if(!(void 0===f?p===g||i(p,g,A,n,r):f)){u=!1;break}h||(h="constructor"==c)}if(u&&!h){var m=e.constructor,v=t.constructor;m==v||!("constructor"in e)||!("constructor"in t)||"function"==typeof m&&m instanceof m&&"function"==typeof v&&v instanceof v||(u=!1)}return r.delete(e),r.delete(t),u}(e,t,A,n,i,c))}(e,t,A,n,Ie,i))}function Ee(e,t,A,n,i,r){var o=1&A,s=e.length,a=t.length;if(s!=a&&!(o&&a>s))return!1;var l=r.get(e);if(l&&r.get(t))return l==t;var c=-1,d=!0,u=2&A?new Be:void 0;for(r.set(e,t),r.set(t,e);++c<s;){var h=e[c],p=t[c];if(n)var g=o?n(p,h,c,t,e,r):n(h,p,c,e,t,r);if(void 0!==g){if(g)continue;d=!1;break}if(u){if(!H(t,(function(e,t){if(o=t,!u.has(o)&&(h===e||i(h,e,A,n,r)))return u.push(t);var o}))){d=!1;break}}else if(h!==p&&!i(h,p,A,n,r)){d=!1;break}}return r.delete(e),r.delete(t),d}function Qe(e){return function(e,t,A){var n=t(e);return ke(e)?n:function(e,t){for(var A=-1,n=t.length,i=e.length;++A<n;)e[i+A]=t[A];return e}(n,A(e))}(e,$e,Fe)}function Ue(e,t){var A,n,i=e.__data__;return("string"==(n=typeof(A=t))||"number"==n||"symbol"==n||"boolean"==n?"__proto__"!==A:null===A)?i["string"==typeof t?"string":"hash"]:i.map}function xe(e,t){var A=function(e,t){return null==e?void 0:e[t]}(e,t);return function(e){return!(!Oe(e)||function(e){return!!R&&R in e}(e))&&(Ne(e)?G:y).test(Se(e))}(A)?A:void 0}fe.prototype.clear=function(){this.__data__=ae?ae(null):{},this.size=0},fe.prototype.delete=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t},fe.prototype.get=function(e){var t=this.__data__;if(ae){var A=t[e];return A===n?void 0:A}return K.call(t,e)?t[e]:void 0},fe.prototype.has=function(e){var t=this.__data__;return ae?void 0!==t[e]:K.call(t,e)},fe.prototype.set=function(e,t){var A=this.__data__;return this.size+=this.has(e)?0:1,A[e]=ae&&void 0===t?n:t,this},me.prototype.clear=function(){this.__data__=[],this.size=0},me.prototype.delete=function(e){var t=this.__data__,A=ye(t,e);return!(A<0||(A==t.length-1?t.pop():X.call(t,A,1),--this.size,0))},me.prototype.get=function(e){var t=this.__data__,A=ye(t,e);return A<0?void 0:t[A][1]},me.prototype.has=function(e){return ye(this.__data__,e)>-1},me.prototype.set=function(e,t){var A=this.__data__,n=ye(A,e);return n<0?(++this.size,A.push([e,t])):A[n][1]=t,this},ve.prototype.clear=function(){this.size=0,this.__data__={hash:new fe,map:new(ie||me),string:new fe}},ve.prototype.delete=function(e){var t=Ue(this,e).delete(e);return this.size-=t?1:0,t},ve.prototype.get=function(e){return Ue(this,e).get(e)},ve.prototype.has=function(e){return Ue(this,e).has(e)},ve.prototype.set=function(e,t){var A=Ue(this,e),n=A.size;return A.set(e,t),this.size+=A.size==n?0:1,this},Be.prototype.add=Be.prototype.push=function(e){return this.__data__.set(e,n),this},Be.prototype.has=function(e){return this.__data__.has(e)},we.prototype.clear=function(){this.__data__=new me,this.size=0},we.prototype.delete=function(e){var t=this.__data__,A=t.delete(e);return this.size=t.size,A},we.prototype.get=function(e){return this.__data__.get(e)},we.prototype.has=function(e){return this.__data__.has(e)},we.prototype.set=function(e,t){var A=this.__data__;if(A instanceof me){var n=A.__data__;if(!ie||n.length<199)return n.push([e,t]),this.size=++A.size,this;A=this.__data__=new ve(n)}return A.set(e,t),this.size=A.size,this};var Fe=ee?function(e){return null==e?[]:(e=Object(e),function(t){for(var A=-1,n=null==t?0:t.length,i=0,r=[];++A<n;){var o=t[A];s=o,J.call(e,s)&&(r[i++]=o)}var s;return r}(ee(e)))}:function(){return[]},Te=Ce;function Le(e,t){return!!(t=null==t?i:t)&&("number"==typeof e||C.test(e))&&e>-1&&e%1==0&&e<t}function Se(e){if(null!=e){try{return j.call(e)}catch(e){}try{return e+""}catch(e){}}return""}function He(e,t){return e===t||e!=e&&t!=t}(ne&&Te(new ne(new ArrayBuffer(1)))!=w||ie&&Te(new ie)!=d||re&&Te(re.resolve())!=p||oe&&Te(new oe)!=f||se&&Te(new se)!=v)&&(Te=function(e){var t=Ce(e),A=t==h?e.constructor:void 0,n=A?Se(A):"";if(n)switch(n){case le:return w;case ce:return d;case de:return p;case ue:return f;case he:return v}return t});var Me=be(function(){return arguments}())?be:function(e){return _e(e)&&K.call(e,"callee")&&!J.call(e,"callee")},ke=Array.isArray,Pe=te||function(){return!1};function Ne(e){if(!Oe(e))return!1;var t=Ce(e);return t==c||"[object GeneratorFunction]"==t||"[object AsyncFunction]"==t||"[object Proxy]"==t}function De(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=i}function Oe(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}function _e(e){return null!=e&&"object"==typeof e}var Ve=S?function(e){return function(t){return e(t)}}(S):function(e){return _e(e)&&De(e.length)&&!!b[Ce(e)]};function $e(e){return null!=(t=e)&&De(t.length)&&!Ne(t)?function(e,t){var A=ke(e),n=!A&&Me(e),i=!A&&!n&&Pe(e),r=!A&&!n&&!i&&Ve(e),o=A||n||i||r,s=o?function(e,t){for(var A=-1,n=Array(e);++A<e;)n[A]=t(A);return n}(e.length,String):[],a=s.length;for(var l in e)!t&&!K.call(e,l)||o&&("length"==l||i&&("offset"==l||"parent"==l)||r&&("buffer"==l||"byteLength"==l||"byteOffset"==l)||Le(l,a))||s.push(l);return s}(e):function(e){if(A=(t=e)&&t.constructor,t!==("function"==typeof A&&A.prototype||V))return Ae(e);var t,A,n=[];for(var i in Object(e))K.call(e,i)&&"constructor"!=i&&n.push(i);return n}(e);var t}e.exports=function(e,t){return Ie(e,t)}},8156:(e,t,A)=>{var n=A(7422);e.exports=function(e,t,A){var i=null==e?void 0:n(e,t);return void 0===i?A:i}},8223:(e,t,A)=>{var n=A(6110)(A(9325),"Map");e.exports=n},8303:(e,t,A)=>{var n=A(6110)(A(9325),"WeakMap");e.exports=n},8317:(e,t,A)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=A(5759);t.default=class{constructor(e){this.ops=e,this.index=0,this.offset=0}hasNext(){return this.peekLength()<1/0}next(e){e||(e=1/0);const t=this.ops[this.index];if(t){const A=this.offset,i=n.default.length(t);if(e>=i-A?(e=i-A,this.index+=1,this.offset=0):this.offset+=e,"number"==typeof t.delete)return{delete:e};{const n={};return t.attributes&&(n.attributes=t.attributes),"number"==typeof t.retain?n.retain=e:"object"==typeof t.retain&&null!==t.retain?n.retain=t.retain:"string"==typeof t.insert?n.insert=t.insert.substr(A,e):n.insert=t.insert,n}}return{retain:1/0}}peek(){return this.ops[this.index]}peekLength(){return this.ops[this.index]?n.default.length(this.ops[this.index])-this.offset:1/0}peekType(){const e=this.ops[this.index];return e?"number"==typeof e.delete?"delete":"number"==typeof e.retain||"object"==typeof e.retain&&null!==e.retain?"retain":"insert":"retain"}rest(){if(this.hasNext()){if(0===this.offset)return this.ops.slice(this.index);{const e=this.offset,t=this.index,A=this.next(),n=this.ops.slice(this.index);return this.offset=e,this.index=t,[A].concat(n)}}return[]}}},8329:(e,t,A)=>{var n=A(4894);e.exports=function(e,t){return function(A,i){if(null==A)return A;if(!n(A))return e(A,i);for(var r=A.length,o=t?r:-1,s=Object(A);(t?o--:++o<r)&&!1!==i(s[o],o,s););return A}}},8586:(e,t,A)=>{var n=A(6449),i=A(4394),r=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,o=/^\w*$/;e.exports=function(e,t){if(n(e))return!1;var A=typeof e;return!("number"!=A&&"symbol"!=A&&"boolean"!=A&&null!=e&&!i(e))||o.test(e)||!r.test(e)||null!=t&&e in Object(t)}},8655:(e,t,A)=>{var n=A(6025);e.exports=function(e){return n(this.__data__,e)>-1}},8754:(e,t,A)=>{var n=A(5160);e.exports=function(e,t,A){var i=e.length;return A=void 0===A?i:A,!t&&A>=i?e:n(e,t,A)}},8859:(e,t,A)=>{var n=A(3661),i=A(1380),r=A(1459);function o(e){var t=-1,A=null==e?0:e.length;for(this.__data__=new n;++t<A;)this.add(e[t])}o.prototype.add=o.prototype.push=i,o.prototype.has=r,e.exports=o},8879:(e,t,A)=>{var n=A(4335)(Object.getPrototypeOf,Object);e.exports=n},8984:(e,t,A)=>{var n=A(5527),i=A(3650),r=Object.prototype.hasOwnProperty;e.exports=function(e){if(!n(e))return i(e);var t=[];for(var A in Object(e))r.call(e,A)&&"constructor"!=A&&t.push(A);return t}},9106:(e,t,A)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=A(7193),i=A(8142);var r;!function(e){e.compose=function(e={},t={},A=!1){"object"!=typeof e&&(e={}),"object"!=typeof t&&(t={});let i=n(t);A||(i=Object.keys(i).reduce(((e,t)=>(null!=i[t]&&(e[t]=i[t]),e)),{}));for(const A in e)void 0!==e[A]&&void 0===t[A]&&(i[A]=e[A]);return Object.keys(i).length>0?i:void 0},e.diff=function(e={},t={}){"object"!=typeof e&&(e={}),"object"!=typeof t&&(t={});const A=Object.keys(e).concat(Object.keys(t)).reduce(((A,n)=>(i(e[n],t[n])||(A[n]=void 0===t[n]?null:t[n]),A)),{});return Object.keys(A).length>0?A:void 0},e.invert=function(e={},t={}){e=e||{};const A=Object.keys(t).reduce(((A,n)=>(t[n]!==e[n]&&void 0!==e[n]&&(A[n]=t[n]),A)),{});return Object.keys(e).reduce(((A,n)=>(e[n]!==t[n]&&void 0===t[n]&&(A[n]=null),A)),A)},e.transform=function(e,t,A=!1){if("object"!=typeof e)return t;if("object"!=typeof t)return;if(!A)return t;const n=Object.keys(t).reduce(((A,n)=>(void 0===e[n]&&(A[n]=t[n]),A)),{});return Object.keys(n).length>0?n:void 0}}(r||(r={})),t.default=r},9219:e=>{e.exports=function(e,t){return e.has(t)}},9302:(e,t,A)=>{var n=A(3488),i=A(6757),r=A(2865);e.exports=function(e,t){return r(i(e,t,n),e+"")}},9325:(e,t,A)=>{var n=A(4840),i="object"==typeof self&&self&&self.Object===Object&&self,r=n||i||Function("return this")();e.exports=r},9326:(e,t,A)=>{var n=A(1769),i=A(2428),r=A(6449),o=A(361),s=A(294),a=A(7797);e.exports=function(e,t,A){for(var l=-1,c=(t=n(t,e)).length,d=!1;++l<c;){var u=a(t[l]);if(!(d=null!=e&&A(e,u)))break;e=e[u]}return d||++l!=c?d:!!(c=null==e?0:e.length)&&s(c)&&o(u,c)&&(r(e)||i(e))}},9344:(e,t,A)=>{var n=A(3805),i=Object.create,r=function(){function e(){}return function(t){if(!n(t))return{};if(i)return i(t);e.prototype=t;var A=new e;return e.prototype=void 0,A}}();e.exports=r},9350:e=>{var t=Object.prototype.toString;e.exports=function(e){return t.call(e)}},9374:(e,t,A)=>{var n=A(4128),i=A(3805),r=A(4394),o=/^[-+]0x[0-9a-f]+$/i,s=/^0b[01]+$/i,a=/^0o[0-7]+$/i,l=parseInt;e.exports=function(e){if("number"==typeof e)return e;if(r(e))return NaN;if(i(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=i(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=n(e);var A=s.test(e);return A||a.test(e)?l(e.slice(2),A?2:8):o.test(e)?NaN:+e}},9570:(e,t,A)=>{var n=A(7334),i=A(3243),r=A(3488),o=i?function(e,t){return i(e,"toString",{configurable:!0,enumerable:!1,value:n(t),writable:!0})}:r;e.exports=o},9653:(e,t,A)=>{var n=A(7828);e.exports=function(e){var t=new e.constructor(e.byteLength);return new n(t).set(new n(e)),t}},9698:e=>{var t=RegExp("[\\u200d\\ud800-\\udfff\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff\\ufe0e\\ufe0f]");e.exports=function(e){return t.test(e)}},9770:e=>{e.exports=function(e,t){for(var A=-1,n=null==e?0:e.length,i=0,r=[];++A<n;){var o=e[A];t(o,A,e)&&(r[i++]=o)}return r}},9817:e=>{e.exports=function(e){return this.__data__.has(e)}},9884:(e,t,A)=>{var n=A(1791),i=A(7241);e.exports=function(e){return n(e,i(e))}},9905:e=>{e.exports=function(e,t,A){for(var n=-1,i=null==e?0:e.length;++n<i;)if(A(t,e[n]))return!0;return!1}},9935:e=>{e.exports=function(){return!1}}},t={};function A(n){var i=t[n];if(void 0!==i)return i.exports;var r=t[n]={id:n,loaded:!1,exports:{}};return e[n].call(r.exports,r,r.exports,A),r.loaded=!0,r.exports}A.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return A.d(t,{a:t}),t},A.d=(e,t)=>{for(var n in t)A.o(t,n)&&!A.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},A.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),A.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),A.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},A.nmd=e=>(e.paths=[],e.children||(e.children=[]),e);var n={};(()=>{"use strict";A.d(n,{q:()=>Ac});var e={};A.r(e),A.d(e,{Attributor:()=>ZA,AttributorStore:()=>nn,BlockBlot:()=>fn,ClassAttributor:()=>en,ContainerBlot:()=>vn,EmbedBlot:()=>Bn,InlineBlot:()=>pn,LeafBlot:()=>an,ParentBlot:()=>un,Registry:()=>XA,Scope:()=>WA,ScrollBlot:()=>Cn,StyleAttributor:()=>An,TextBlot:()=>In});class t{constructor(){this._themes=[],this._suppliers=[],this._services=[],this._forms=[],this._media=[],this._currentVersion=null,this._currentThemeId=null,this._organisationLogo=null,this.currentLanguage="en",this._isInitialized=!1}static getInstance(){return t.instance||(t.instance=new t),t.instance}init(e,t,A,n,i,r,o,s,a,l,c,d){this._isInitialized?console.warn("AppConfig already initialized - ignoring new data"):(this.UC=e,this._themes=t,this._suppliers=A,this._services=n,this._forms=i,this._media=r,this._currentThemeId=o,this._currentVersion=s,this._organisationLogo=a,this.addServiceButtonEvent=c,this.addTemplatesButtonEvent=d,this.currentLanguage=l,this._isInitialized=!0)}get themes(){return this._themes}get suppliers(){return this._suppliers}get services(){return this._services}get forms(){return this._forms}get media(){return this._media}set media(e){this._media=e}get currentThemeId(){return this._currentThemeId}get currentVersion(){return this._currentVersion}set currentThemeId(e){this._currentThemeId=e}get organisationLogo(){return this._organisationLogo}get isInitialized(){return this._isInitialized}setInitialization(e){this._isInitialized=e}}t.instance=null;class i{constructor(e,t=300){this.preloaderElement=e,this.minDuration=t,this._loading=!1,this._startTime=0,this.transitionDuration=200}get loading(){return this._loading}set loading(e){this._loading=e,e?(this._startTime=performance.now(),this.showPreloader()):this.hidePreloader()}showPreloader(){this.preloaderElement.style.display="flex",requestAnimationFrame((()=>{this.preloaderElement.style.transform=`opacity ${this.transitionDuration}ms ease-in-out 0s`,this.preloaderElement.style.opacity="1"}))}hidePreloader(){const e=performance.now()-this._startTime;e>=this.minDuration?(this.preloaderElement.style.transition=`opacity ${this.transitionDuration}ms ease-in-out`,this.preloaderElement.style.opacity="0",setTimeout((()=>{this.preloaderElement.style.display="none"}),this.transitionDuration)):setTimeout((()=>{this.hidePreloader()}),this.minDuration-e)}}var r=function(e,t,A,n){return new(A||(A=Promise))((function(i,r){function o(e){try{a(n.next(e))}catch(e){r(e)}}function s(e){try{a(n.throw(e))}catch(e){r(e)}}function a(e){var t;e.done?i(e.value):(t=e.value,t instanceof A?t:new A((function(e){e(t)}))).then(o,s)}a((n=n.apply(e,t||[])).next())}))};const o=window.location.origin+(window.location.origin.startsWith("http://localhost")?"/Comforta_version21DevelopmentNETPostgreSQL":"");class s{constructor(){this.services=[],this.forms=[],this.preloaderEl=document.getElementById("preloader"),this.config=t.getInstance(),this.init()}init(){this.services=this.config.services,this.forms=window.app.forms,this.loadingManager=new i(this.preloaderEl)}fetchAPI(e){return r(this,arguments,void 0,(function*(e,t={},A=!1){var n;const i={headers:{"Content-Type":"application/json"}};try{A||(this.loadingManager.loading=!0);const r=yield fetch(`${o}${e}`,Object.assign(Object.assign({},i),t));if(!r.ok)throw new Error(`HTTP error! status: ${r.status}`);const s=yield r.json();return(null==s?void 0:s.error)&&"Not Authenticated"==(null===(n=s.error)||void 0===n?void 0:n.Message)&&location.reload(),yield s}catch(t){throw console.error(`API Error (${e}):`,t),t}finally{A||(this.loadingManager.loading=!1)}}))}debugApp(e){return r(this,void 0,void 0,(function*(){return yield this.fetchAPI("/api/toolbox/v2/debug",{method:"POST",body:JSON.stringify({PageUrlList:e})},!0)}))}getVersions(){return r(this,void 0,void 0,(function*(){return yield this.fetchAPI("/api/toolbox/v2/appversions",{},!0)}))}getVersion(){return r(this,void 0,void 0,(function*(){return yield this.fetchAPI("/api/toolbox/v2/appversion",{},!0)}))}createVersion(e){return r(this,void 0,void 0,(function*(){return yield this.fetchAPI("/api/toolbox/v2/create-appversion",{method:"POST",body:JSON.stringify({AppVersionName:e})})}))}duplicateVersion(e,t){return r(this,void 0,void 0,(function*(){return yield this.fetchAPI("/api/toolbox/v2/copy-appversion",{method:"POST",body:JSON.stringify({AppVersionId:e,AppVersionName:t})})}))}renameVersion(e,t){return r(this,void 0,void 0,(function*(){return yield this.fetchAPI("/api/toolbox/v2/update-appversion",{method:"POST",body:JSON.stringify({AppVersionId:e,AppVersionName:t})})}))}activateVersion(e){return r(this,void 0,void 0,(function*(){return yield this.fetchAPI("/api/toolbox/v2/activate-appversion",{method:"POST",body:JSON.stringify({AppVersionId:e})})}))}deleteVersion(e){return r(this,void 0,void 0,(function*(){return yield this.fetchAPI("/api/toolbox/v2/delete-version",{method:"POST",body:JSON.stringify({AppVersionId:e})})}))}createMenuPage(e,t){return r(this,void 0,void 0,(function*(){return yield this.fetchAPI("/api/toolbox/v2/create-menu-page",{method:"POST",body:JSON.stringify({appVersionId:e,pageName:t})})}))}createInfoPage(e,t){return r(this,void 0,void 0,(function*(){return console.log("appVersionId",e),yield this.fetchAPI("/api/toolbox/v2/create-info-page",{method:"POST",body:JSON.stringify({appVersionId:e,pageName:t})})}))}createLinkPage(e,t,A,n){return r(this,void 0,void 0,(function*(){return yield this.fetchAPI("/api/toolbox/v2/create-link-page",{method:"POST",body:JSON.stringify({appVersionId:e,pageName:t,url:A,WWPFormId:n})})}))}createServicePage(e,t){return r(this,void 0,void 0,(function*(){return yield this.fetchAPI("/api/toolbox/v2/create-service-page",{method:"POST",body:JSON.stringify({appVersionId:e,ProductServiceId:t})})}))}createContentPage(e,t){return r(this,void 0,void 0,(function*(){return yield this.fetchAPI("/api/toolbox/v2/create-content-page",{method:"POST",body:JSON.stringify({appVersionId:e,PageName:t})})}))}createServiceCTA(e){return r(this,void 0,void 0,(function*(){return yield this.fetchAPI("/api/toolbox/v2/create-service-cta",{method:"POST",body:JSON.stringify(e)})}))}autoSavePage(e){return r(this,void 0,void 0,(function*(){return yield this.fetchAPI("/api/toolbox/v2/save-page",{method:"POST",body:JSON.stringify(e)},!0)}))}savePageThumbnail(e,t){return r(this,void 0,void 0,(function*(){return yield this.fetchAPI("/api/toolbox/v2/save-page-thumbnail",{method:"POST",body:JSON.stringify({PageId:e,PageThumbnailData:t})},!0)}))}updatePageTitle(e){return r(this,void 0,void 0,(function*(){return yield this.fetchAPI("/api/toolbox/v2/update-page-title",{method:"POST",body:JSON.stringify(e)},!0)}))}publishAppVersion(e){return r(this,arguments,void 0,(function*(e,t=!1){return yield this.fetchAPI("/api/toolbox/v2/publish-appversion",{method:"POST",body:JSON.stringify({AppVersionId:e,Notify:t})})}))}getPages(){return r(this,void 0,void 0,(function*(){return(yield this.fetchAPI("/api/toolbox/pages/list",{},!0)).SDT_PageCollection}))}getServices(){return r(this,void 0,void 0,(function*(){const e=yield this.fetchAPI("/api/toolbox/services",{},!0);return this.services=e.SDT_ProductServiceCollection,this.services}))}getSupplierForms(e){return r(this,void 0,void 0,(function*(){return yield this.fetchAPI(`/api/toolbox/v2/supplier-forms?Supplierid=${e}`,{},!0)}))}getSinglePage(e){return r(this,void 0,void 0,(function*(){return yield this.fetchAPI(`/api/toolbox/singlepage?Pageid=${e}`)}))}deletePage(e,t){return r(this,void 0,void 0,(function*(){return yield this.fetchAPI("/api/toolbox/V2/delete-page",{method:"POST",body:JSON.stringify({AppVersionId:e,PageId:t})})}))}getPagesService(){return r(this,void 0,void 0,(function*(){return yield this.fetchAPI("/api/toolbox/pages/tree")}))}createNewPage(e,t){return r(this,void 0,void 0,(function*(){return yield this.fetchAPI("/api/toolbox/create-page",{method:"POST",body:JSON.stringify({PageName:e,PageJsonContent:JSON.stringify({})})})}))}updatePage(e){return r(this,void 0,void 0,(function*(){return yield this.fetchAPI("/api/toolbox/update-page",{method:"POST",body:JSON.stringify(e)},!0)}))}updatePagesBatch(e){return r(this,void 0,void 0,(function*(){return yield this.fetchAPI("/api/toolbox/update-pages-batch",{method:"POST",body:JSON.stringify(e)})}))}addPageChild(e,t){return r(this,void 0,void 0,(function*(){return yield this.fetchAPI("/api/toolbox/add-page-children",{method:"POST",body:JSON.stringify({ParentPageId:t,ChildPageId:e})})}))}createDynamicFormPage(e,t){return r(this,void 0,void 0,(function*(){return yield this.fetchAPI("/api/toolbox/create-dynamic-form-page",{method:"POST",body:JSON.stringify({FormId:e,PageName:t})})}))}getLocationTheme(){return r(this,void 0,void 0,(function*(){return yield this.fetchAPI("/api/toolbox/location-theme")}))}updateAppVersionTheme(e,t){return r(this,void 0,void 0,(function*(){return yield this.fetchAPI("/api/toolbox/update-appversion-theme",{method:"POST",body:JSON.stringify({AppVersionId:e,ThemeId:t})})}))}getMediaFiles(){return r(this,void 0,void 0,(function*(){return(yield this.fetchAPI("/api/toolbox/media",{},!0)).SDT_MediaCollection}))}deleteMedia(e){return r(this,void 0,void 0,(function*(){return yield this.fetchAPI(`/api/media/delete?MediaId=${e}`)}))}uploadFile(e,t,A,n){return r(this,void 0,void 0,(function*(){if(!e)throw new Error("Please select a file!");return yield this.fetchAPI("/api/media/upload",{method:"POST",headers:{"Content-Type":"multipart/form-data"},body:JSON.stringify({MediaName:t,MediaImageData:e,MediaSize:A,MediaType:n})},!0)}))}uploadCroppedFile(e,t,A,n){return r(this,void 0,void 0,(function*(){if(!e)throw new Error("Please select a file!");return yield this.fetchAPI("/api/media/upload/cropped",{method:"POST",headers:{"Content-Type":"multipart/form-data"},body:JSON.stringify({MediaName:t,MediaImageData:e,MediaSize:A,MediaType:n})},!0)}))}uploadLogo(e){return r(this,void 0,void 0,(function*(){return yield this.fetchAPI("/api/media/upload/logo",{method:"POST",body:JSON.stringify({LogoUrl:e})})}))}uploadProfileImage(e){return r(this,void 0,void 0,(function*(){return yield this.fetchAPI("/api/media/upload/profile",{method:"POST",body:JSON.stringify({ProfileImageUrl:e})})}))}getContentPageData(e){return r(this,void 0,void 0,(function*(){return yield this.fetchAPI(`/api/productservice?Productserviceid=${e}`,{},!0)}))}updateDescription(e){return r(this,void 0,void 0,(function*(){return yield this.fetchAPI("/api/toolbox/v2/update-service",{method:"POST",body:JSON.stringify(e)})}))}updateContentImage(e){return r(this,void 0,void 0,(function*(){return yield this.fetchAPI("/api/toolbox/v2/update-service",{method:"POST",body:JSON.stringify(e)})}))}deleteContentImage(e){return r(this,void 0,void 0,(function*(){return yield this.fetchAPI("/api/toolbox/v2/delete-service-image",{method:"POST",body:JSON.stringify(e)})}))}getLocationData(){return r(this,void 0,void 0,(function*(){return yield this.fetchAPI("/api/toolbox/v2/get-location",{},!0)}))}updateLocationInfo(e){return r(this,void 0,void 0,(function*(){return yield this.fetchAPI("/api/toolbox/v2/update-location",{method:"POST",body:JSON.stringify(e)})}))}getTrashItems(){return r(this,void 0,void 0,(function*(){return yield this.fetchAPI("/api/toolbox/v2/get-trash",{},!0)}))}restoreTrash(e,t){return r(this,void 0,void 0,(function*(){return yield this.fetchAPI("/api/toolbox/v2/restore-trash",{method:"POST",body:JSON.stringify({Type:e,TrashId:t})})}))}deleteTrashForver(e,t){return r(this,void 0,void 0,(function*(){return yield this.fetchAPI("/api/toolbox/v2/delete-trash",{method:"POST",body:JSON.stringify({Type:e,TrashId:t})})}))}}class a{constructor(e,t,A=5e3){this.closeTimeout=null,this.alertContainer=document.createElement("div"),this.alertContainer.className="tb-alerts-container",this.alertContainer.id="tb-alerts-container",this.alertElement=document.createElement("div"),this.alertElement.className=`tb-alert ${e}`,this.alertElement.style.display="flex",this.alertElement.style.opacity="0",this.alertElement.id=Math.random().toString(36);const n=document.createElement("div");n.className="tb-alert-header";const i=document.createElement("strong");i.textContent=e.charAt(0).toUpperCase()+e.slice(1);const r=document.createElement("span");r.className="tb-alert-close-btn",r.textContent="โ",r.addEventListener("click",(()=>this.close())),n.appendChild(i),n.appendChild(r);const o=document.createElement("p");o.textContent=t,this.alertElement.appendChild(n),this.alertElement.appendChild(o),this.alertContainer.appendChild(this.alertElement),document.body.appendChild(this.alertContainer),setTimeout((()=>this.alertElement.style.opacity="1"),50),this.closeTimeout=window.setTimeout((()=>this.close()),A)}close(){this.closeTimeout&&(clearTimeout(this.closeTimeout),this.closeTimeout=null),this.alertElement.style.opacity="0",setTimeout((()=>this.alertElement.remove()),500)}}class l{constructor(e){this.modalContainer=document.createElement("div"),this.modalContainer.className="popup-modal-link",this.modalContainer.style.display="flex";const t=document.createElement("div");t.className="popup",e.width&&(t.style.width=e.width);const A=document.createElement("div");A.className="popup-header";const n=document.createElement("span");n.textContent=e.title;const i=document.createElement("hr");this.popupBody=document.createElement("div"),this.popupBody.className="popup-body",e.body&&("string"==typeof e.body?this.popupBody.innerHTML=e.body:this.popupBody.appendChild(e.body));const r=this.createCloseButton();A.appendChild(n),A.appendChild(r),t.appendChild(A),t.appendChild(i),t.appendChild(this.popupBody),this.modalContainer.appendChild(t)}createCloseButton(){const e=document.createElement("button");return e.className="close",e.innerHTML='\n            <svg xmlns="http://www.w3.org/2000/svg" width="14" height="14" viewBox="0 0 21 21">\n                <path id="Icon_material-close" data-name="Icon material-close" d="M28.5,9.615,26.385,7.5,18,15.885,9.615,7.5,7.5,9.615,15.885,18,7.5,26.385,9.615,28.5,18,20.115,26.385,28.5,28.5,26.385,20.115,18Z" transform="translate(-7.5 -7.5)" fill="#6a747f" opacity="0.54"></path>\n            </svg>\n        ',e.addEventListener("click",(()=>this.close())),e}open(e){(e||document.body).appendChild(this.modalContainer)}close(){this.modalContainer.remove()}}var c=function(e,t,A,n){return new(A||(A=Promise))((function(i,r){function o(e){try{a(n.next(e))}catch(e){r(e)}}function s(e){try{a(n.throw(e))}catch(e){r(e)}}function a(e){var t;e.done?i(e.value):(t=e.value,t instanceof A?t:new A((function(e){e(t)}))).then(o,s)}a((n=n.apply(e,t||[])).next())}))};class d{constructor(){this.toolboxService=new s,this.appVersion=new h}generateShareLink(){return c(this,void 0,void 0,(function*(){try{const e=yield this.appVersion.getActiveVersionId();if(!e)throw new Error("No active version found");return`${o}/wp_apppreview.aspx?AppVersionId=${e}`}catch(e){throw console.error("Error generating share link:",e),e}}))}copyToClipboard(e){return c(this,void 0,void 0,(function*(){try{return yield navigator.clipboard.writeText(e),!0}catch(e){return console.error("Clipboard copy failed:",e),!1}}))}getVersions(){return c(this,void 0,void 0,(function*(){try{return(yield this.toolboxService.getVersions()).AppVersions}catch(e){return console.error("Failed to fetch versions:",e),[]}}))}activateVersion(e){return c(this,void 0,void 0,(function*(){try{return yield this.toolboxService.activateVersion(e)}catch(e){return console.error("Version activation failed:",e),null}}))}createVersion(e){return c(this,void 0,void 0,(function*(){try{let t;return t=yield this.toolboxService.createVersion(e),t}catch(e){return console.error("Version creation failed:",e),null}}))}duplicateVersion(e,t){return c(this,void 0,void 0,(function*(){try{let A;return A=yield this.toolboxService.duplicateVersion(e,t),A}catch(e){return console.error("Version creation failed:",e),null}}))}renameVersion(e,t){return c(this,void 0,void 0,(function*(){try{let A;return A=yield this.toolboxService.renameVersion(e,t),A}catch(e){return console.error("Version creation failed:",e),null}}))}deleteVersion(e){return c(this,void 0,void 0,(function*(){try{yield this.toolboxService.deleteVersion(e).then((e=>{"OK"==e.result&&new a("success","Version deleted successfully")}))}catch(e){return console.error("Version deletion failed:",e),null}}))}getActiveVersion(){return c(this,void 0,void 0,(function*(){return(yield this.getVersions()).find((e=>e.IsActive))||null}))}}var u=function(e,t,A,n){return new(A||(A=Promise))((function(i,r){function o(e){try{a(n.next(e))}catch(e){r(e)}}function s(e){try{a(n.throw(e))}catch(e){r(e)}}function a(e){var t;e.done?i(e.value):(t=e.value,t instanceof A?t:new A((function(e){e(t)}))).then(o,s)}a((n=n.apply(e,t||[])).next())}))};class h{constructor(){this.themes=[],this.config=t.getInstance(),this.initializeActiveVersion()}initializeActiveVersion(){return u(this,void 0,void 0,(function*(){var e;try{if(null===(e=window.app)||void 0===e?void 0:e.currentVersion)return globalThis.activeVersion=window.app.currentVersion,void(this.appVersion=globalThis.activeVersion);const t=new s,A=yield t.getVersion();globalThis.activeVersion=A.AppVersion,this.appVersion=globalThis.activeVersion}catch(e){console.error("Failed to initialize active version:",e),globalThis.activeVersion=null,this.appVersion=null}}))}getCurrentVersion(){return u(this,void 0,void 0,(function*(){const e=new d,t=new s,A=yield e.getVersions(),n=(yield t.getLocationData()).BC_Trn_Location.PublishedActiveAppVersionId;return A.find((e=>e.AppVersionId==n))}))}getActiveVersion(){return globalThis.activeVersion}refreshActiveVersion(){return u(this,void 0,void 0,(function*(){const e=new s,t=yield e.getVersion();return globalThis.activeVersion=t.AppVersion,this.appVersion=globalThis.activeVersion,globalThis.activeVersion}))}refreshVersion(){return u(this,void 0,void 0,(function*(){yield this.refreshActiveVersion()}))}getPages(){var e;return(null===(e=globalThis.activeVersion)||void 0===e?void 0:e.Pages)||null}preDefinedPages(){return u(this,void 0,void 0,(function*(){return(this.getPages()||[]).filter((e=>"Maps"==e.PageType||"Map"==e.PageType||"MyActivity"==e.PageType||"Calendar"==e.PageType&&"Home"!==e.PageName))}))}getActiveVersionId(){return u(this,void 0,void 0,(function*(){const e=globalThis.activeVersion;return null==e?void 0:e.AppVersionId}))}updatePageTitle(e){return u(this,void 0,void 0,(function*(){const t=globalThis.currentPageId;if(globalThis.tileMapper,globalThis.selectedComponent,!t)return;const A=new s,n={AppVersionId:yield this.getActiveVersionId(),PageId:t,PageName:e};if(yield A.updatePageTitle(n)){const A=localStorage.getItem(`data-${t}`);if(A){const n=JSON.parse(A);n.PageName=e,localStorage.setItem(`data-${t}`,JSON.stringify(n)),yield this.refreshVersion()}}yield this.refreshVersion()}))}}var p=A(354),g=A.n(p);class f{constructor(e,t,A,n,i=!1){this.frameId=e,this.editor=A,this.pageId=t,this.pageData=n,this.isHome=i,this.thumbnailWrapper=document.createElement("div"),this.container=document.getElementById("editor-thumbs-list"),this.init()}init(){const e=document.getElementById(`${this.frameId}-frame`);if(!e)return void console.error("Editor div not found");const t=this.captureMiniature(e);t.style.cursor="pointer",t.addEventListener("click",(t=>{const A=document.getElementById("child-container");if(A&&e){const t=Array.from(A.children),n=t[0]===e,i=t[t.length-1]===e;if(n)A.scrollLeft=0,A.children.length>2&&(A.style.justifyContent="start");else if(i)A.scrollLeft=A.scrollWidth-A.clientWidth;else{const t=e.offsetLeft,n=e.offsetWidth,i=t-A.offsetWidth/2+n/2;A.scrollLeft=i}}(new Rl).setPageFocus(this.editor,this.frameId,this.pageId,this.pageData)})),this.container.appendChild(t)}captureMiniature(e){const t=()=>{return t=this,o=void 0,a=function*(){var t;const o=e.querySelector(".gjs-cv-canvas");if(!o)return;const s=i(e),a=o.querySelector("iframe");if(a)try{if(yield A(a),a.contentWindow&&(null===(t=a.contentDocument)||void 0===t?void 0:t.body)){yield n(a);const e=(yield g()(a.contentDocument.body,{allowTaint:!0,useCORS:!0,logging:!1})).toDataURL("image/png"),t=document.createElement("img");t.src=e,t.style.width=a.offsetWidth+"px",t.style.height=a.offsetHeight+"px",t.style.display="block";const A=s.querySelector("iframe");(null==A?void 0:A.parentNode)&&A.parentNode.replaceChild(t,A)}}catch(e){console.warn("Failed to render iframe with html2canvas:",e)}const l=document.createElement("div");l.style.position="relative",l.style.width=`${Math.ceil(.15*o.offsetWidth)}px`,l.style.height=`${Math.ceil(.15*o.offsetHeight)+6}px`,l.style.display="flex",l.style.flexDirection="column",s.style.transform="scale(0.15)",s.style.transformOrigin="top left",s.style.width=`${o.offsetWidth}px`,s.style.height=`${o.offsetHeight}px`,s.style.overflow="hidden";const c=document.createElement("div");c.style.flex="1",c.style.overflow="hidden",c.appendChild(s),l.appendChild(c);const d=document.createElement("div");d.style.height="3px",l.appendChild(d);const u=document.createElement("div");u.classList.add("tb-highlighter"),u.id="tb-highlighter",u.style.height="1px",u.style.width="100%",u.style.display=this.isHome?"block":"none",u.style.backgroundColor="#FFFFFF",l.appendChild(u),this.thumbnailWrapper.innerHTML="",this.thumbnailWrapper.appendChild(l),r.disconnect()},new((s=void 0)||(s=Promise))((function(e,A){function n(e){try{r(a.next(e))}catch(e){A(e)}}function i(e){try{r(a.throw(e))}catch(e){A(e)}}function r(t){var A;t.done?e(t.value):(A=t.value,A instanceof s?A:new s((function(e){e(A)}))).then(n,i)}r((a=a.apply(t,o||[])).next())}));var t,o,s,a},A=e=>new Promise((t=>{var A;"complete"===(null===(A=e.contentDocument)||void 0===A?void 0:A.readyState)?t():(e.onload=()=>t(),setTimeout((()=>{t()}),2e3))})),n=e=>new Promise((t=>{e.contentDocument&&e.contentWindow?"complete"!==e.contentDocument.readyState?(e.contentWindow.addEventListener("load",(()=>{setTimeout(t,500)}),{once:!0}),setTimeout(t,3e3)):setTimeout(t,500):t()})),i=e=>{const t=e.cloneNode(!1);return e.childNodes.forEach((e=>{e.nodeType===Node.ELEMENT_NODE?t.appendChild(i(e)):t.appendChild(e.cloneNode(!0))})),["INPUT","TEXTAREA","SELECT","BUTTON"].includes(t.tagName)&&(t.disabled=!0),t.style.pointerEvents="none",t.tabIndex=-1,t},r=new MutationObserver((()=>{o&&clearTimeout(o),o=setTimeout(t,300)}));let o=null;return r.observe(e,{childList:!0,subtree:!0,attributes:!0,characterData:!0}),t(),this.thumbnailWrapper}}const m='\n    data-gjs-draggable="false"\n    data-gjs-selectable="true"\n    data-gjs-editable="false"\n    data-gjs-highlightable="false"\n    data-gjs-droppable="false"\n    data-gjs-resizable="false"\n    data-gjs-hoverable="false"\n',v='\n    data-gjs-draggable="false"\n    data-gjs-selectable="false"\n    data-gjs-editable="false"\n    data-gjs-highlightable="false"\n    data-gjs-droppable="false"\n    data-gjs-resizable="false"\n    data-gjs-hoverable="false"\n    data-gjs-type="tile-wrapper"\n',B='\n    data-gjs-draggable="false"\n    data-gjs-selectable="false"\n    data-gjs-editable="false"\n    data-gjs-highlightable="false"\n    data-gjs-droppable="false"\n    data-gjs-resizable="false"\n    data-gjs-hoverable="false"\n',w='\n    data-gjs-type="template-wrapper"\n    data-gjs-draggable="false"\n    data-gjs-selectable="false"\n    data-gjs-editable="false"\n    data-gjs-highlightable="true"\n    data-gjs-droppable="[data-gjs-type=\'tile-wrapper\']"\n',y='\n    data-gjs-draggable="true"\n    data-gjs-selectable="false"\n    data-gjs-editable="false"\n    data-gjs-droppable="false"\n    data-gjs-highlightable="false"\n    data-gjs-hoverable="false"\n',C='\n    data-gjs-draggable="true"\n    data-gjs-selectable="true"\n    data-gjs-editable="false"\n    data-gjs-highlightable="false"\n    data-gjs-droppable="false"\n    data-gjs-resizable="false"\n    data-gjs-hoverable="false"\n',b='\n    data-gjs-type="template-wrapper"\n    data-gjs-draggable="false"\n    data-gjs-selectable="false"\n    data-gjs-editable="false"\n    data-gjs-highlightable="true"\n    data-gjs-droppable="[data-gjs-type=\'cta-buttons\']"\n',I='\n    data-gjs-type="info-tiles-section"\n    data-gjs-draggable="true"\n    data-gjs-selectable="false"\n    data-gjs-editable="false"\n    data-gjs-highlightable="true"\n    data-gjs-droppable="false"\n';var E=A(8156),Q=A.n(E),U=A(1448),x=A.n(U),F=A(5364),T=A.n(F),L=A(3375),S=A.n(L);const H=(e,t)=>{const A=[],n=[];return A.push(t),t||A.push(e.locale),e.enableFallback&&A.push(e.defaultLocale),A.filter(Boolean).map((e=>e.toString())).forEach((function(t){if(n.includes(t)||n.push(t),!e.enableFallback)return;const A=t.split("-");3===A.length&&n.push(`${A[0]}-${A[1]}`),n.push(A[0])})),S()(n)};class M{constructor(e){this.i18n=e,this.registry={},this.register("default",H)}register(e,t){if("function"!=typeof t){const e=t;t=()=>e}this.registry[e]=t}get(e){let t=this.registry[e]||this.registry[this.i18n.locale]||this.registry.default;return"function"==typeof t&&(t=t(this.i18n,e)),t instanceof Array||(t=[t]),t}}const k=function({pluralizer:e,includeZero:t=!0,ordinal:A=!1}){return function(n,i){return[t&&0===i?"zero":"",e(i,A)].filter(Boolean)}}({pluralizer:(e,t)=>{const A=String(e).split("."),n=!A[1],i=Number(A[0])==e,r=i&&A[0].slice(-1),o=i&&A[0].slice(-2);return t?1==r&&11!=o?"one":2==r&&12!=o?"two":3==r&&13!=o?"few":"other":1==e&&n?"one":"other"},includeZero:!0});class P{constructor(e){this.i18n=e,this.registry={},this.register("default",k)}register(e,t){this.registry[e]=t}get(e){return this.registry[e]||this.registry[this.i18n.locale]||this.registry.default}}var N=A(4058),D=A.n(N);function O(e){return e?Object.keys(e).reduce(((t,A)=>(t[D()(A)]=e[A],t)),{}):{}}function _(e){return null!=e}var V=/^-?(?:\d+(?:\.\d*)?|\.\d+)(?:e[+-]?\d+)?$/i,$=Math.ceil,j=Math.floor,K="[BigNumber Error] ",R=K+"Number primitive has more than 15 significant digits: ",q=1e14,G=14,W=9007199254740991,Z=[1,10,100,1e3,1e4,1e5,1e6,1e7,1e8,1e9,1e10,1e11,1e12,1e13],z=1e7,J=1e9;function X(e){var t=0|e;return e>0||e===t?t:t-1}function Y(e){for(var t,A,n=1,i=e.length,r=e[0]+"";n<i;){for(t=e[n++]+"",A=G-t.length;A--;t="0"+t);r+=t}for(i=r.length;48===r.charCodeAt(--i););return r.slice(0,i+1||1)}function ee(e,t){var A,n,i=e.c,r=t.c,o=e.s,s=t.s,a=e.e,l=t.e;if(!o||!s)return null;if(A=i&&!i[0],n=r&&!r[0],A||n)return A?n?0:-s:o;if(o!=s)return o;if(A=o<0,n=a==l,!i||!r)return n?0:!i^A?1:-1;if(!n)return a>l^A?1:-1;for(s=(a=i.length)<(l=r.length)?a:l,o=0;o<s;o++)if(i[o]!=r[o])return i[o]>r[o]^A?1:-1;return a==l?0:a>l^A?1:-1}function te(e,t,A,n){if(e<t||e>A||e!==j(e))throw Error(K+(n||"Argument")+("number"==typeof e?e<t||e>A?" out of range: ":" not an integer: ":" not a primitive number: ")+String(e))}function Ae(e){var t=e.c.length-1;return X(e.e/G)==t&&e.c[t]%2!=0}function ne(e,t){return(e.length>1?e.charAt(0)+"."+e.slice(1):e)+(t<0?"e":"e+")+t}function ie(e,t,A){var n,i;if(t<0){for(i=A+".";++t;i+=A);e=i+e}else if(++t>(n=e.length)){for(i=A,t-=n;--t;i+=A);e+=i}else t<n&&(e=e.slice(0,t)+"."+e.slice(t));return e}var re,oe,se=function e(t){var A,n,i,r,o,s,a,l,c,d,u=Q.prototype={constructor:Q,toString:null,valueOf:null},h=new Q(1),p=20,g=4,f=-7,m=21,v=-1e7,B=1e7,w=!1,y=1,C=0,b={prefix:"",groupSize:3,secondaryGroupSize:0,groupSeparator:",",decimalSeparator:".",fractionGroupSize:0,fractionGroupSeparator:"ย",suffix:""},I="0123456789abcdefghijklmnopqrstuvwxyz",E=!0;function Q(e,t){var A,r,o,s,a,l,c,d,u=this;if(!(u instanceof Q))return new Q(e,t);if(null==t){if(e&&!0===e._isBigNumber)return u.s=e.s,void(!e.c||e.e>B?u.c=u.e=null:e.e<v?u.c=[u.e=0]:(u.e=e.e,u.c=e.c.slice()));if((l="number"==typeof e)&&0*e==0){if(u.s=1/e<0?(e=-e,-1):1,e===~~e){for(s=0,a=e;a>=10;a/=10,s++);return void(s>B?u.c=u.e=null:(u.e=s,u.c=[e]))}d=String(e)}else{if(!V.test(d=String(e)))return i(u,d,l);u.s=45==d.charCodeAt(0)?(d=d.slice(1),-1):1}(s=d.indexOf("."))>-1&&(d=d.replace(".","")),(a=d.search(/e/i))>0?(s<0&&(s=a),s+=+d.slice(a+1),d=d.substring(0,a)):s<0&&(s=d.length)}else{if(te(t,2,I.length,"Base"),10==t&&E)return T(u=new Q(e),p+u.e+1,g);if(d=String(e),l="number"==typeof e){if(0*e!=0)return i(u,d,l,t);if(u.s=1/e<0?(d=d.slice(1),-1):1,Q.DEBUG&&d.replace(/^0\.0*|\./,"").length>15)throw Error(R+e)}else u.s=45===d.charCodeAt(0)?(d=d.slice(1),-1):1;for(A=I.slice(0,t),s=a=0,c=d.length;a<c;a++)if(A.indexOf(r=d.charAt(a))<0){if("."==r){if(a>s){s=c;continue}}else if(!o&&(d==d.toUpperCase()&&(d=d.toLowerCase())||d==d.toLowerCase()&&(d=d.toUpperCase()))){o=!0,a=-1,s=0;continue}return i(u,String(e),l,t)}l=!1,(s=(d=n(d,t,10,u.s)).indexOf("."))>-1?d=d.replace(".",""):s=d.length}for(a=0;48===d.charCodeAt(a);a++);for(c=d.length;48===d.charCodeAt(--c););if(d=d.slice(a,++c)){if(c-=a,l&&Q.DEBUG&&c>15&&(e>W||e!==j(e)))throw Error(R+u.s*e);if((s=s-a-1)>B)u.c=u.e=null;else if(s<v)u.c=[u.e=0];else{if(u.e=s,u.c=[],a=(s+1)%G,s<0&&(a+=G),a<c){for(a&&u.c.push(+d.slice(0,a)),c-=G;a<c;)u.c.push(+d.slice(a,a+=G));a=G-(d=d.slice(a)).length}else a-=c;for(;a--;d+="0");u.c.push(+d)}}else u.c=[u.e=0]}function U(e,t,A,n){var i,r,o,s,a;if(null==A?A=g:te(A,0,8),!e.c)return e.toString();if(i=e.c[0],o=e.e,null==t)a=Y(e.c),a=1==n||2==n&&(o<=f||o>=m)?ne(a,o):ie(a,o,"0");else if(r=(e=T(new Q(e),t,A)).e,s=(a=Y(e.c)).length,1==n||2==n&&(t<=r||r<=f)){for(;s<t;a+="0",s++);a=ne(a,r)}else if(t-=o,a=ie(a,r,"0"),r+1>s){if(--t>0)for(a+=".";t--;a+="0");}else if((t+=r-s)>0)for(r+1==s&&(a+=".");t--;a+="0");return e.s<0&&i?"-"+a:a}function x(e,t){for(var A,n,i=1,r=new Q(e[0]);i<e.length;i++)(!(n=new Q(e[i])).s||(A=ee(r,n))===t||0===A&&r.s===t)&&(r=n);return r}function F(e,t,A){for(var n=1,i=t.length;!t[--i];t.pop());for(i=t[0];i>=10;i/=10,n++);return(A=n+A*G-1)>B?e.c=e.e=null:A<v?e.c=[e.e=0]:(e.e=A,e.c=t),e}function T(e,t,A,n){var i,r,o,s,a,l,c,d=e.c,u=Z;if(d){e:{for(i=1,s=d[0];s>=10;s/=10,i++);if((r=t-i)<0)r+=G,o=t,a=d[l=0],c=j(a/u[i-o-1]%10);else if((l=$((r+1)/G))>=d.length){if(!n)break e;for(;d.length<=l;d.push(0));a=c=0,i=1,o=(r%=G)-G+1}else{for(a=s=d[l],i=1;s>=10;s/=10,i++);c=(o=(r%=G)-G+i)<0?0:j(a/u[i-o-1]%10)}if(n=n||t<0||null!=d[l+1]||(o<0?a:a%u[i-o-1]),n=A<4?(c||n)&&(0==A||A==(e.s<0?3:2)):c>5||5==c&&(4==A||n||6==A&&(r>0?o>0?a/u[i-o]:0:d[l-1])%10&1||A==(e.s<0?8:7)),t<1||!d[0])return d.length=0,n?(t-=e.e+1,d[0]=u[(G-t%G)%G],e.e=-t||0):d[0]=e.e=0,e;if(0==r?(d.length=l,s=1,l--):(d.length=l+1,s=u[G-r],d[l]=o>0?j(a/u[i-o]%u[o])*s:0),n)for(;;){if(0==l){for(r=1,o=d[0];o>=10;o/=10,r++);for(o=d[0]+=s,s=1;o>=10;o/=10,s++);r!=s&&(e.e++,d[0]==q&&(d[0]=1));break}if(d[l]+=s,d[l]!=q)break;d[l--]=0,s=1}for(r=d.length;0===d[--r];d.pop());}e.e>B?e.c=e.e=null:e.e<v&&(e.c=[e.e=0])}return e}function L(e){var t,A=e.e;return null===A?e.toString():(t=Y(e.c),t=A<=f||A>=m?ne(t,A):ie(t,A,"0"),e.s<0?"-"+t:t)}return Q.clone=e,Q.ROUND_UP=0,Q.ROUND_DOWN=1,Q.ROUND_CEIL=2,Q.ROUND_FLOOR=3,Q.ROUND_HALF_UP=4,Q.ROUND_HALF_DOWN=5,Q.ROUND_HALF_EVEN=6,Q.ROUND_HALF_CEIL=7,Q.ROUND_HALF_FLOOR=8,Q.EUCLID=9,Q.config=Q.set=function(e){var t,A;if(null!=e){if("object"!=typeof e)throw Error(K+"Object expected: "+e);if(e.hasOwnProperty(t="DECIMAL_PLACES")&&(te(A=e[t],0,J,t),p=A),e.hasOwnProperty(t="ROUNDING_MODE")&&(te(A=e[t],0,8,t),g=A),e.hasOwnProperty(t="EXPONENTIAL_AT")&&((A=e[t])&&A.pop?(te(A[0],-J,0,t),te(A[1],0,J,t),f=A[0],m=A[1]):(te(A,-J,J,t),f=-(m=A<0?-A:A))),e.hasOwnProperty(t="RANGE"))if((A=e[t])&&A.pop)te(A[0],-J,-1,t),te(A[1],1,J,t),v=A[0],B=A[1];else{if(te(A,-J,J,t),!A)throw Error(K+t+" cannot be zero: "+A);v=-(B=A<0?-A:A)}if(e.hasOwnProperty(t="CRYPTO")){if((A=e[t])!==!!A)throw Error(K+t+" not true or false: "+A);if(A){if("undefined"==typeof crypto||!crypto||!crypto.getRandomValues&&!crypto.randomBytes)throw w=!A,Error(K+"crypto unavailable");w=A}else w=A}if(e.hasOwnProperty(t="MODULO_MODE")&&(te(A=e[t],0,9,t),y=A),e.hasOwnProperty(t="POW_PRECISION")&&(te(A=e[t],0,J,t),C=A),e.hasOwnProperty(t="FORMAT")){if("object"!=typeof(A=e[t]))throw Error(K+t+" not an object: "+A);b=A}if(e.hasOwnProperty(t="ALPHABET")){if("string"!=typeof(A=e[t])||/^.?$|[+\-.\s]|(.).*\1/.test(A))throw Error(K+t+" invalid: "+A);E="0123456789"==A.slice(0,10),I=A}}return{DECIMAL_PLACES:p,ROUNDING_MODE:g,EXPONENTIAL_AT:[f,m],RANGE:[v,B],CRYPTO:w,MODULO_MODE:y,POW_PRECISION:C,FORMAT:b,ALPHABET:I}},Q.isBigNumber=function(e){if(!e||!0!==e._isBigNumber)return!1;if(!Q.DEBUG)return!0;var t,A,n=e.c,i=e.e,r=e.s;e:if("[object Array]"=={}.toString.call(n)){if((1===r||-1===r)&&i>=-J&&i<=J&&i===j(i)){if(0===n[0]){if(0===i&&1===n.length)return!0;break e}if((t=(i+1)%G)<1&&(t+=G),String(n[0]).length==t){for(t=0;t<n.length;t++)if((A=n[t])<0||A>=q||A!==j(A))break e;if(0!==A)return!0}}}else if(null===n&&null===i&&(null===r||1===r||-1===r))return!0;throw Error(K+"Invalid BigNumber: "+e)},Q.maximum=Q.max=function(){return x(arguments,-1)},Q.minimum=Q.min=function(){return x(arguments,1)},Q.random=(r=9007199254740992,o=Math.random()*r&2097151?function(){return j(Math.random()*r)}:function(){return 8388608*(1073741824*Math.random()|0)+(8388608*Math.random()|0)},function(e){var t,A,n,i,r,s=0,a=[],l=new Q(h);if(null==e?e=p:te(e,0,J),i=$(e/G),w)if(crypto.getRandomValues){for(t=crypto.getRandomValues(new Uint32Array(i*=2));s<i;)(r=131072*t[s]+(t[s+1]>>>11))>=9e15?(A=crypto.getRandomValues(new Uint32Array(2)),t[s]=A[0],t[s+1]=A[1]):(a.push(r%1e14),s+=2);s=i/2}else{if(!crypto.randomBytes)throw w=!1,Error(K+"crypto unavailable");for(t=crypto.randomBytes(i*=7);s<i;)(r=281474976710656*(31&t[s])+1099511627776*t[s+1]+4294967296*t[s+2]+16777216*t[s+3]+(t[s+4]<<16)+(t[s+5]<<8)+t[s+6])>=9e15?crypto.randomBytes(7).copy(t,s):(a.push(r%1e14),s+=7);s=i/7}if(!w)for(;s<i;)(r=o())<9e15&&(a[s++]=r%1e14);for(i=a[--s],e%=G,i&&e&&(r=Z[G-e],a[s]=j(i/r)*r);0===a[s];a.pop(),s--);if(s<0)a=[n=0];else{for(n=-1;0===a[0];a.splice(0,1),n-=G);for(s=1,r=a[0];r>=10;r/=10,s++);s<G&&(n-=G-s)}return l.e=n,l.c=a,l}),Q.sum=function(){for(var e=1,t=arguments,A=new Q(t[0]);e<t.length;)A=A.plus(t[e++]);return A},n=function(){var e="0123456789";function t(e,t,A,n){for(var i,r,o=[0],s=0,a=e.length;s<a;){for(r=o.length;r--;o[r]*=t);for(o[0]+=n.indexOf(e.charAt(s++)),i=0;i<o.length;i++)o[i]>A-1&&(null==o[i+1]&&(o[i+1]=0),o[i+1]+=o[i]/A|0,o[i]%=A)}return o.reverse()}return function(n,i,r,o,s){var a,l,c,d,u,h,f,m,v=n.indexOf("."),B=p,w=g;for(v>=0&&(d=C,C=0,n=n.replace(".",""),h=(m=new Q(i)).pow(n.length-v),C=d,m.c=t(ie(Y(h.c),h.e,"0"),10,r,e),m.e=m.c.length),c=d=(f=t(n,i,r,s?(a=I,e):(a=e,I))).length;0==f[--d];f.pop());if(!f[0])return a.charAt(0);if(v<0?--c:(h.c=f,h.e=c,h.s=o,f=(h=A(h,m,B,w,r)).c,u=h.r,c=h.e),v=f[l=c+B+1],d=r/2,u=u||l<0||null!=f[l+1],u=w<4?(null!=v||u)&&(0==w||w==(h.s<0?3:2)):v>d||v==d&&(4==w||u||6==w&&1&f[l-1]||w==(h.s<0?8:7)),l<1||!f[0])n=u?ie(a.charAt(1),-B,a.charAt(0)):a.charAt(0);else{if(f.length=l,u)for(--r;++f[--l]>r;)f[l]=0,l||(++c,f=[1].concat(f));for(d=f.length;!f[--d];);for(v=0,n="";v<=d;n+=a.charAt(f[v++]));n=ie(n,c,a.charAt(0))}return n}}(),A=function(){function e(e,t,A){var n,i,r,o,s=0,a=e.length,l=t%z,c=t/z|0;for(e=e.slice();a--;)s=((i=l*(r=e[a]%z)+(n=c*r+(o=e[a]/z|0)*l)%z*z+s)/A|0)+(n/z|0)+c*o,e[a]=i%A;return s&&(e=[s].concat(e)),e}function t(e,t,A,n){var i,r;if(A!=n)r=A>n?1:-1;else for(i=r=0;i<A;i++)if(e[i]!=t[i]){r=e[i]>t[i]?1:-1;break}return r}function A(e,t,A,n){for(var i=0;A--;)e[A]-=i,i=e[A]<t[A]?1:0,e[A]=i*n+e[A]-t[A];for(;!e[0]&&e.length>1;e.splice(0,1));}return function(n,i,r,o,s){var a,l,c,d,u,h,p,g,f,m,v,B,w,y,C,b,I,E=n.s==i.s?1:-1,U=n.c,x=i.c;if(!(U&&U[0]&&x&&x[0]))return new Q(n.s&&i.s&&(U?!x||U[0]!=x[0]:x)?U&&0==U[0]||!x?0*E:E/0:NaN);for(f=(g=new Q(E)).c=[],E=r+(l=n.e-i.e)+1,s||(s=q,l=X(n.e/G)-X(i.e/G),E=E/G|0),c=0;x[c]==(U[c]||0);c++);if(x[c]>(U[c]||0)&&l--,E<0)f.push(1),d=!0;else{for(y=U.length,b=x.length,c=0,E+=2,(u=j(s/(x[0]+1)))>1&&(x=e(x,u,s),U=e(U,u,s),b=x.length,y=U.length),w=b,v=(m=U.slice(0,b)).length;v<b;m[v++]=0);I=x.slice(),I=[0].concat(I),C=x[0],x[1]>=s/2&&C++;do{if(u=0,(a=t(x,m,b,v))<0){if(B=m[0],b!=v&&(B=B*s+(m[1]||0)),(u=j(B/C))>1)for(u>=s&&(u=s-1),p=(h=e(x,u,s)).length,v=m.length;1==t(h,m,p,v);)u--,A(h,b<p?I:x,p,s),p=h.length,a=1;else 0==u&&(a=u=1),p=(h=x.slice()).length;if(p<v&&(h=[0].concat(h)),A(m,h,v,s),v=m.length,-1==a)for(;t(x,m,b,v)<1;)u++,A(m,b<v?I:x,v,s),v=m.length}else 0===a&&(u++,m=[0]);f[c++]=u,m[0]?m[v++]=U[w]||0:(m=[U[w]],v=1)}while((w++<y||null!=m[0])&&E--);d=null!=m[0],f[0]||f.splice(0,1)}if(s==q){for(c=1,E=f[0];E>=10;E/=10,c++);T(g,r+(g.e=c+l*G-1)+1,o,d)}else g.e=l,g.r=+d;return g}}(),s=/^(-?)0([xbo])(?=\w[\w.]*$)/i,a=/^([^.]+)\.$/,l=/^\.([^.]+)$/,c=/^-?(Infinity|NaN)$/,d=/^\s*\+(?=[\w.])|^\s+|\s+$/g,i=function(e,t,A,n){var i,r=A?t:t.replace(d,"");if(c.test(r))e.s=isNaN(r)?null:r<0?-1:1;else{if(!A&&(r=r.replace(s,(function(e,t,A){return i="x"==(A=A.toLowerCase())?16:"b"==A?2:8,n&&n!=i?e:t})),n&&(i=n,r=r.replace(a,"$1").replace(l,"0.$1")),t!=r))return new Q(r,i);if(Q.DEBUG)throw Error(K+"Not a"+(n?" base "+n:"")+" number: "+t);e.s=null}e.c=e.e=null},u.absoluteValue=u.abs=function(){var e=new Q(this);return e.s<0&&(e.s=1),e},u.comparedTo=function(e,t){return ee(this,new Q(e,t))},u.decimalPlaces=u.dp=function(e,t){var A,n,i,r=this;if(null!=e)return te(e,0,J),null==t?t=g:te(t,0,8),T(new Q(r),e+r.e+1,t);if(!(A=r.c))return null;if(n=((i=A.length-1)-X(this.e/G))*G,i=A[i])for(;i%10==0;i/=10,n--);return n<0&&(n=0),n},u.dividedBy=u.div=function(e,t){return A(this,new Q(e,t),p,g)},u.dividedToIntegerBy=u.idiv=function(e,t){return A(this,new Q(e,t),0,1)},u.exponentiatedBy=u.pow=function(e,t){var A,n,i,r,o,s,a,l,c=this;if((e=new Q(e)).c&&!e.isInteger())throw Error(K+"Exponent not an integer: "+L(e));if(null!=t&&(t=new Q(t)),o=e.e>14,!c.c||!c.c[0]||1==c.c[0]&&!c.e&&1==c.c.length||!e.c||!e.c[0])return l=new Q(Math.pow(+L(c),o?e.s*(2-Ae(e)):+L(e))),t?l.mod(t):l;if(s=e.s<0,t){if(t.c?!t.c[0]:!t.s)return new Q(NaN);(n=!s&&c.isInteger()&&t.isInteger())&&(c=c.mod(t))}else{if(e.e>9&&(c.e>0||c.e<-1||(0==c.e?c.c[0]>1||o&&c.c[1]>=24e7:c.c[0]<8e13||o&&c.c[0]<=9999975e7)))return r=c.s<0&&Ae(e)?-0:0,c.e>-1&&(r=1/r),new Q(s?1/r:r);C&&(r=$(C/G+2))}for(o?(A=new Q(.5),s&&(e.s=1),a=Ae(e)):a=(i=Math.abs(+L(e)))%2,l=new Q(h);;){if(a){if(!(l=l.times(c)).c)break;r?l.c.length>r&&(l.c.length=r):n&&(l=l.mod(t))}if(i){if(0===(i=j(i/2)))break;a=i%2}else if(T(e=e.times(A),e.e+1,1),e.e>14)a=Ae(e);else{if(0==(i=+L(e)))break;a=i%2}c=c.times(c),r?c.c&&c.c.length>r&&(c.c.length=r):n&&(c=c.mod(t))}return n?l:(s&&(l=h.div(l)),t?l.mod(t):r?T(l,C,g,void 0):l)},u.integerValue=function(e){var t=new Q(this);return null==e?e=g:te(e,0,8),T(t,t.e+1,e)},u.isEqualTo=u.eq=function(e,t){return 0===ee(this,new Q(e,t))},u.isFinite=function(){return!!this.c},u.isGreaterThan=u.gt=function(e,t){return ee(this,new Q(e,t))>0},u.isGreaterThanOrEqualTo=u.gte=function(e,t){return 1===(t=ee(this,new Q(e,t)))||0===t},u.isInteger=function(){return!!this.c&&X(this.e/G)>this.c.length-2},u.isLessThan=u.lt=function(e,t){return ee(this,new Q(e,t))<0},u.isLessThanOrEqualTo=u.lte=function(e,t){return-1===(t=ee(this,new Q(e,t)))||0===t},u.isNaN=function(){return!this.s},u.isNegative=function(){return this.s<0},u.isPositive=function(){return this.s>0},u.isZero=function(){return!!this.c&&0==this.c[0]},u.minus=function(e,t){var A,n,i,r,o=this,s=o.s;if(t=(e=new Q(e,t)).s,!s||!t)return new Q(NaN);if(s!=t)return e.s=-t,o.plus(e);var a=o.e/G,l=e.e/G,c=o.c,d=e.c;if(!a||!l){if(!c||!d)return c?(e.s=-t,e):new Q(d?o:NaN);if(!c[0]||!d[0])return d[0]?(e.s=-t,e):new Q(c[0]?o:3==g?-0:0)}if(a=X(a),l=X(l),c=c.slice(),s=a-l){for((r=s<0)?(s=-s,i=c):(l=a,i=d),i.reverse(),t=s;t--;i.push(0));i.reverse()}else for(n=(r=(s=c.length)<(t=d.length))?s:t,s=t=0;t<n;t++)if(c[t]!=d[t]){r=c[t]<d[t];break}if(r&&(i=c,c=d,d=i,e.s=-e.s),(t=(n=d.length)-(A=c.length))>0)for(;t--;c[A++]=0);for(t=q-1;n>s;){if(c[--n]<d[n]){for(A=n;A&&!c[--A];c[A]=t);--c[A],c[n]+=q}c[n]-=d[n]}for(;0==c[0];c.splice(0,1),--l);return c[0]?F(e,c,l):(e.s=3==g?-1:1,e.c=[e.e=0],e)},u.modulo=u.mod=function(e,t){var n,i,r=this;return e=new Q(e,t),!r.c||!e.s||e.c&&!e.c[0]?new Q(NaN):!e.c||r.c&&!r.c[0]?new Q(r):(9==y?(i=e.s,e.s=1,n=A(r,e,0,3),e.s=i,n.s*=i):n=A(r,e,0,y),(e=r.minus(n.times(e))).c[0]||1!=y||(e.s=r.s),e)},u.multipliedBy=u.times=function(e,t){var A,n,i,r,o,s,a,l,c,d,u,h,p,g,f,m=this,v=m.c,B=(e=new Q(e,t)).c;if(!(v&&B&&v[0]&&B[0]))return!m.s||!e.s||v&&!v[0]&&!B||B&&!B[0]&&!v?e.c=e.e=e.s=null:(e.s*=m.s,v&&B?(e.c=[0],e.e=0):e.c=e.e=null),e;for(n=X(m.e/G)+X(e.e/G),e.s*=m.s,(a=v.length)<(d=B.length)&&(p=v,v=B,B=p,i=a,a=d,d=i),i=a+d,p=[];i--;p.push(0));for(g=q,f=z,i=d;--i>=0;){for(A=0,u=B[i]%f,h=B[i]/f|0,r=i+(o=a);r>i;)A=((l=u*(l=v[--o]%f)+(s=h*l+(c=v[o]/f|0)*u)%f*f+p[r]+A)/g|0)+(s/f|0)+h*c,p[r--]=l%g;p[r]=A}return A?++n:p.splice(0,1),F(e,p,n)},u.negated=function(){var e=new Q(this);return e.s=-e.s||null,e},u.plus=function(e,t){var A,n=this,i=n.s;if(t=(e=new Q(e,t)).s,!i||!t)return new Q(NaN);if(i!=t)return e.s=-t,n.minus(e);var r=n.e/G,o=e.e/G,s=n.c,a=e.c;if(!r||!o){if(!s||!a)return new Q(i/0);if(!s[0]||!a[0])return a[0]?e:new Q(s[0]?n:0*i)}if(r=X(r),o=X(o),s=s.slice(),i=r-o){for(i>0?(o=r,A=a):(i=-i,A=s),A.reverse();i--;A.push(0));A.reverse()}for((i=s.length)-(t=a.length)<0&&(A=a,a=s,s=A,t=i),i=0;t;)i=(s[--t]=s[t]+a[t]+i)/q|0,s[t]=q===s[t]?0:s[t]%q;return i&&(s=[i].concat(s),++o),F(e,s,o)},u.precision=u.sd=function(e,t){var A,n,i,r=this;if(null!=e&&e!==!!e)return te(e,1,J),null==t?t=g:te(t,0,8),T(new Q(r),e,t);if(!(A=r.c))return null;if(n=(i=A.length-1)*G+1,i=A[i]){for(;i%10==0;i/=10,n--);for(i=A[0];i>=10;i/=10,n++);}return e&&r.e+1>n&&(n=r.e+1),n},u.shiftedBy=function(e){return te(e,-9007199254740991,W),this.times("1e"+e)},u.squareRoot=u.sqrt=function(){var e,t,n,i,r,o=this,s=o.c,a=o.s,l=o.e,c=p+4,d=new Q("0.5");if(1!==a||!s||!s[0])return new Q(!a||a<0&&(!s||s[0])?NaN:s?o:1/0);if(0==(a=Math.sqrt(+L(o)))||a==1/0?(((t=Y(s)).length+l)%2==0&&(t+="0"),a=Math.sqrt(+t),l=X((l+1)/2)-(l<0||l%2),n=new Q(t=a==1/0?"5e"+l:(t=a.toExponential()).slice(0,t.indexOf("e")+1)+l)):n=new Q(a+""),n.c[0])for((a=(l=n.e)+c)<3&&(a=0);;)if(r=n,n=d.times(r.plus(A(o,r,c,1))),Y(r.c).slice(0,a)===(t=Y(n.c)).slice(0,a)){if(n.e<l&&--a,"9999"!=(t=t.slice(a-3,a+1))&&(i||"4999"!=t)){+t&&(+t.slice(1)||"5"!=t.charAt(0))||(T(n,n.e+p+2,1),e=!n.times(n).eq(o));break}if(!i&&(T(r,r.e+p+2,0),r.times(r).eq(o))){n=r;break}c+=4,a+=4,i=1}return T(n,n.e+p+1,g,e)},u.toExponential=function(e,t){return null!=e&&(te(e,0,J),e++),U(this,e,t,1)},u.toFixed=function(e,t){return null!=e&&(te(e,0,J),e=e+this.e+1),U(this,e,t)},u.toFormat=function(e,t,A){var n,i=this;if(null==A)null!=e&&t&&"object"==typeof t?(A=t,t=null):e&&"object"==typeof e?(A=e,e=t=null):A=b;else if("object"!=typeof A)throw Error(K+"Argument not an object: "+A);if(n=i.toFixed(e,t),i.c){var r,o=n.split("."),s=+A.groupSize,a=+A.secondaryGroupSize,l=A.groupSeparator||"",c=o[0],d=o[1],u=i.s<0,h=u?c.slice(1):c,p=h.length;if(a&&(r=s,s=a,a=r,p-=r),s>0&&p>0){for(r=p%s||s,c=h.substr(0,r);r<p;r+=s)c+=l+h.substr(r,s);a>0&&(c+=l+h.slice(r)),u&&(c="-"+c)}n=d?c+(A.decimalSeparator||"")+((a=+A.fractionGroupSize)?d.replace(new RegExp("\\d{"+a+"}\\B","g"),"$&"+(A.fractionGroupSeparator||"")):d):c}return(A.prefix||"")+n+(A.suffix||"")},u.toFraction=function(e){var t,n,i,r,o,s,a,l,c,d,u,p,f=this,m=f.c;if(null!=e&&(!(a=new Q(e)).isInteger()&&(a.c||1!==a.s)||a.lt(h)))throw Error(K+"Argument "+(a.isInteger()?"out of range: ":"not an integer: ")+L(a));if(!m)return new Q(f);for(t=new Q(h),c=n=new Q(h),i=l=new Q(h),p=Y(m),o=t.e=p.length-f.e-1,t.c[0]=Z[(s=o%G)<0?G+s:s],e=!e||a.comparedTo(t)>0?o>0?t:c:a,s=B,B=1/0,a=new Q(p),l.c[0]=0;d=A(a,t,0,1),1!=(r=n.plus(d.times(i))).comparedTo(e);)n=i,i=r,c=l.plus(d.times(r=c)),l=r,t=a.minus(d.times(r=t)),a=r;return r=A(e.minus(n),i,0,1),l=l.plus(r.times(c)),n=n.plus(r.times(i)),l.s=c.s=f.s,u=A(c,i,o*=2,g).minus(f).abs().comparedTo(A(l,n,o,g).minus(f).abs())<1?[c,i]:[l,n],B=s,u},u.toNumber=function(){return+L(this)},u.toPrecision=function(e,t){return null!=e&&te(e,1,J),U(this,e,t,2)},u.toString=function(e){var t,A=this,i=A.s,r=A.e;return null===r?i?(t="Infinity",i<0&&(t="-"+t)):t="NaN":(null==e?t=r<=f||r>=m?ne(Y(A.c),r):ie(Y(A.c),r,"0"):10===e&&E?t=ie(Y((A=T(new Q(A),p+r+1,g)).c),A.e,"0"):(te(e,2,I.length,"Base"),t=n(ie(Y(A.c),r,"0"),10,e,i,!0)),i<0&&A.c[0]&&(t="-"+t)),t},u.valueOf=u.toJSON=function(){return L(this)},u._isBigNumber=!0,u[Symbol.toStringTag]="BigNumber",u[Symbol.for("nodejs.util.inspect.custom")]=u.valueOf,null!=t&&Q.set(t),Q}();function ae(e){var t;return null!==(t=re[e])&&void 0!==t?t:re.default}(oe=re||(re={}))[oe.up=se.ROUND_UP]="up",oe[oe.down=se.ROUND_DOWN]="down",oe[oe.truncate=se.ROUND_DOWN]="truncate",oe[oe.halfUp=se.ROUND_HALF_UP]="halfUp",oe[oe.default=se.ROUND_HALF_UP]="default",oe[oe.halfDown=se.ROUND_HALF_DOWN]="halfDown",oe[oe.halfEven=se.ROUND_HALF_EVEN]="halfEven",oe[oe.banker=se.ROUND_HALF_EVEN]="banker",oe[oe.ceiling=se.ROUND_CEIL]="ceiling",oe[oe.ceil=se.ROUND_CEIL]="ceil",oe[oe.floor=se.ROUND_FLOOR]="floor";var le=A(2493),ce=A.n(le);function de(e,t){const A=function(e,{precision:t,significant:A}){return A&&null!==t&&t>0?t-function(e){return e.isZero()?1:Math.floor(Math.log10(e.abs().toNumber())+1)}(e):t}(e,t);if(null===A)return e.toString();const n=ae(t.roundMode);if(A>=0)return e.toFixed(A,n);const i=Math.pow(10,Math.abs(A));return(e=new se(e.div(i).toFixed(0,n)).times(i)).toString()}function ue(e,t){var A,n,i;const r=new se(e);if(t.raise&&!r.isFinite())throw new Error(`"${e}" is not a valid numeric value`);const o=de(r,t),s=new se(o),a=s.lt(0),l=s.isZero();let[c,d]=o.split(".");const u=[];let h;const p=null!==(A=t.format)&&void 0!==A?A:"%n",g=null!==(n=t.negativeFormat)&&void 0!==n?n:`-${p}`,f=a&&!l?g:p;for(c=c.replace("-","");c.length>0;)u.unshift(c.substr(Math.max(0,c.length-3),3)),c=c.substr(0,c.length-3);return c=u.join(""),h=u.join(t.delimiter),d=t.significant?function({significand:e,whole:t,precision:A}){if("0"===t||null===A)return e;const n=Math.max(0,A-t.length);return(null!=e?e:"").substr(0,n)}({whole:c,significand:d,precision:t.precision}):null!=d?d:ce()("0",null!==(i=t.precision)&&void 0!==i?i:0),t.stripInsignificantZeros&&d&&(d=d.replace(/0+$/,"")),r.isNaN()&&(h=e.toString()),d&&r.isFinite()&&(h+=(t.separator||".")+d),function(e,{formattedNumber:t,unit:A}){return e.replace("%n",t).replace("%u",A)}(f,{formattedNumber:h,unit:t.unit})}function he(e,t,A){let n="";return(t instanceof String||"string"==typeof t)&&(n=t),t instanceof Array&&(n=t.join(e.defaultSeparator)),A.scope&&(n=[A.scope,n].join(e.defaultSeparator)),n}function pe(e){var t,A;if(null===e)return"null";const n=typeof e;return"object"!==n?n:(null===(A=null===(t=null==e?void 0:e.constructor)||void 0===t?void 0:t.name)||void 0===A?void 0:A.toLowerCase())||"object"}function ge(e,t,A){A=Object.keys(A).reduce(((t,n)=>(t[e.transformKey(n)]=A[n],t)),{});const n=t.match(e.placeholder);if(!n)return t;for(;n.length;){let i;const r=n.shift(),o=r.replace(e.placeholder,"$1");i=_(A[o])?A[o].toString().replace(/\$/gm,"_#$#_"):o in A?e.nullPlaceholder(e,r,t,A):e.missingPlaceholder(e,r,t,A);const s=new RegExp(r.replace(/\{/gm,"\\{").replace(/\}/gm,"\\}"),"g");t=t.replace(s,i)}return t.replace(/_#\$#_/g,"$")}function fe(e,t,A={}){const n="locale"in(A=Object.assign({},A))?A.locale:e.locale,i=pe(n),r=e.locales.get("string"===i?n:typeof n).slice(),o=he(e,t,A).split(e.defaultSeparator).map((t=>e.transformKey(t))),s=r.map((t=>o.reduce(((e,t)=>e&&e[t]),e.translations[t])));return s.push(A.defaultValue),s.find((e=>_(e)))}var me=A(3031),ve=A.n(me),Be=A(7248);const we={0:"unit",1:"ten",2:"hundred",3:"thousand",6:"million",9:"billion",12:"trillion",15:"quadrillion","-1":"deci","-2":"centi","-3":"mili","-6":"micro","-9":"nano","-12":"pico","-15":"femto"},ye=A.n(Be)()(Object.values(we),Object.keys(we).map((e=>parseInt(e,10))));const Ce=["byte","kb","mb","gb","tb","pb","eb"];function be(e){if(e instanceof Date)return e;if("number"==typeof e){const t=new Date;return t.setTime(e),t}const t=new String(e).match(/(\d{4})-(\d{2})-(\d{2})(?:[ T](\d{2}):(\d{2}):(\d{2})(?:[.,](\d{1,3}))?)?(Z|\+00:?00)?/);if(t){const e=t.slice(1,8).map((e=>parseInt(e,10)||0));e[1]-=1;const[A,n,i,r,o,s,a]=e;return t[8]?new Date(Date.UTC(A,n,i,r,o,s,a)):new Date(A,n,i,r,o,s,a)}e.match(/([A-Z][a-z]{2}) ([A-Z][a-z]{2}) (\d+) (\d+:\d+:\d+) ([+-]\d+) (\d+)/)&&(new Date).setTime(Date.parse([RegExp.$1,RegExp.$2,RegExp.$3,RegExp.$6,RegExp.$4,RegExp.$5].join(" ")));const A=new Date;return A.setTime(Date.parse(e)),A}function Ie({i18n:e,count:t,scope:A,options:n,baseScope:i}){let r,o;if(n=Object.assign({},n),r="object"==typeof A&&A?A:fe(e,A,n),!r)return e.missingTranslation.get(A,n);const s=e.pluralization.get(n.locale)(e,t),a=[];for(;s.length;){const e=s.shift();if(_(r[e])){o=r[e];break}a.push(e)}return _(o)?(n.count=t,e.interpolate(e,o,n)):e.missingTranslation.get(i.split(e.defaultSeparator).concat([a[0]]),n)}const Ee={meridian:{am:"AM",pm:"PM"},dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],abbrDayNames:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],monthNames:[null,"January","February","March","April","May","June","July","August","September","October","November","December"],abbrMonthNames:[null,"Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]};var Qe=A(3181),Ue=A.n(Qe);const xe=(e,t,A)=>A>=e&&A<=t,Fe=function(e,t){t instanceof Array&&(t=t.join(e.defaultSeparator));const A=t.split(e.defaultSeparator).slice(-1)[0];return e.missingTranslationPrefix+A.replace("_"," ").replace(/([a-z])([A-Z])/g,((e,t,A)=>`${t} ${A.toLowerCase()}`))},Te=(e,t,A)=>{const n=he(e,t,A),i="locale"in A?A.locale:e.locale,r=pe(i);return`[missing "${["string"==r?i:r,n].join(e.defaultSeparator)}" translation]`},Le=(e,t,A)=>{const n=he(e,t,A),i=[e.locale,n].join(e.defaultSeparator);throw new Error(`Missing translation: ${i}`)};class Se{constructor(e){this.i18n=e,this.registry={},this.register("guess",Fe),this.register("message",Te),this.register("error",Le)}register(e,t){this.registry[e]=t}get(e,t){var A;return this.registry[null!==(A=t.missingBehavior)&&void 0!==A?A:this.i18n.missingBehavior](this.i18n,e,t)}}const He={defaultLocale:"en",locale:"en",defaultSeparator:".",placeholder:/(?:\{\{|%\{)(.*?)(?:\}\}?)/gm,enableFallback:!1,missingBehavior:"message",missingTranslationPrefix:"",missingPlaceholder:(e,t)=>`[missing "${t}" value]`,nullPlaceholder:(e,t,A,n)=>e.missingPlaceholder(e,t,A,n),transformKey:e=>e},Me=new class{constructor(e={},t={}){this._locale=He.locale,this._defaultLocale=He.defaultLocale,this._version=0,this.onChangeHandlers=[],this.translations={},this.t=this.translate,this.p=this.pluralize,this.l=this.localize,this.distanceOfTimeInWords=this.timeAgoInWords;const{locale:A,enableFallback:n,missingBehavior:i,missingTranslationPrefix:r,missingPlaceholder:o,nullPlaceholder:s,defaultLocale:a,defaultSeparator:l,placeholder:c,transformKey:d}=Object.assign(Object.assign({},He),t);this.locale=A,this.defaultLocale=a,this.defaultSeparator=l,this.enableFallback=n,this.locale=A,this.missingBehavior=i,this.missingTranslationPrefix=r,this.missingPlaceholder=o,this.nullPlaceholder=s,this.placeholder=c,this.pluralization=new P(this),this.locales=new M(this),this.missingTranslation=new Se(this),this.transformKey=d,this.interpolate=ge,this.store(e)}store(e){T()(this.translations,e),this.hasChanged()}get locale(){return this._locale||this.defaultLocale||"en"}set locale(e){if("string"!=typeof e)throw new Error(`Expected newLocale to be a string; got ${pe(e)}`);const t=this._locale!==e;this._locale=e,t&&this.hasChanged()}get defaultLocale(){return this._defaultLocale||"en"}set defaultLocale(e){if("string"!=typeof e)throw new Error(`Expected newLocale to be a string; got ${pe(e)}`);const t=this._defaultLocale!==e;this._defaultLocale=e,t&&this.hasChanged()}translate(e,t){const A=function(e,t,A){let n=[{scope:t}];if(_(A.defaults)&&(n=n.concat(A.defaults)),_(A.defaultValue)){const i="function"==typeof A.defaultValue?A.defaultValue(e,t,A):A.defaultValue;n.push({message:i}),delete A.defaultValue}return n}(this,e,t=Object.assign({},t));let n;return A.some((e=>(_(e.scope)?n=fe(this,e.scope,t):_(e.message)&&(n=e.message),null!=n)))?("string"==typeof n?n=this.interpolate(this,n,t):"object"==typeof n&&n&&_(t.count)&&(n=Ie({i18n:this,count:t.count||0,scope:n,options:t,baseScope:he(this,e,t)})),t&&n instanceof Array&&(n=n.map((e=>"string"==typeof e?ge(this,e,t):e))),n):this.missingTranslation.get(e,t)}pluralize(e,t,A){return Ie({i18n:this,count:e,scope:t,options:Object.assign({},A),baseScope:he(this,t,null!=A?A:{})})}localize(e,t,A){if(A=Object.assign({},A),null==t)return"";switch(e){case"currency":return this.numberToCurrency(t);case"number":return ue(t,Object.assign({delimiter:",",precision:3,separator:".",significant:!1,stripInsignificantZeros:!1},fe(this,"number.format")));case"percentage":return this.numberToPercentage(t);default:{let n;return n=e.match(/^(date|time)/)?this.toTime(e,t):t.toString(),ge(this,n,A)}}}toTime(e,t){const A=be(t),n=fe(this,e);return A.toString().match(/invalid/i)?A.toString():n?this.strftime(A,n):A.toString()}numberToCurrency(e,t={}){return ue(e,Object.assign(Object.assign(Object.assign({delimiter:",",format:"%u%n",precision:2,separator:".",significant:!1,stripInsignificantZeros:!1,unit:"$"},O(this.get("number.format"))),O(this.get("number.currency.format"))),t))}numberToPercentage(e,t={}){return ue(e,Object.assign(Object.assign(Object.assign({delimiter:"",format:"%n%",precision:3,stripInsignificantZeros:!1,separator:".",significant:!1},O(this.get("number.format"))),O(this.get("number.percentage.format"))),t))}numberToHumanSize(e,t={}){return function(e,t,A){const n=ae(A.roundMode),i=1024,r=new se(t).abs(),o=r.lt(i);let s;const a=((e,t)=>{const A=t.length-1,n=new se(Math.log(e.toNumber())).div(Math.log(i)).integerValue(se.ROUND_DOWN).toNumber();return Math.min(A,n)})(r,Ce);s=o?r.integerValue():new se(de(r.div(Math.pow(i,a)),{significant:A.significant,precision:A.precision,roundMode:A.roundMode}));const l=e.translate("number.human.storage_units.format",{defaultValue:"%n %u"}),c=e.translate(`number.human.storage_units.units.${o?"byte":Ce[a]}`,{count:r.integerValue().toNumber()});let d=s.toFixed(A.precision,n);return A.stripInsignificantZeros&&(d=d.replace(/(\..*?)0+$/,"$1").replace(/\.$/,"")),l.replace("%n",d).replace("%u",c)}(this,e,Object.assign(Object.assign(Object.assign({delimiter:"",precision:3,significant:!0,stripInsignificantZeros:!0,units:{billion:"Billion",million:"Million",quadrillion:"Quadrillion",thousand:"Thousand",trillion:"Trillion",unit:""}},O(this.get("number.human.format"))),O(this.get("number.human.storage_units"))),t))}numberToHuman(e,t={}){return function(e,t,A){const n={roundMode:A.roundMode,precision:A.precision,significant:A.significant};let i;if("string"===pe(A.units)){const t=A.units;if(i=fe(e,t),!i)throw new Error(`The scope "${e.locale}${e.defaultSeparator}${he(e,t,{})}" couldn't be found`)}else i=A.units;let r=de(new se(t),n);const o=((e,t)=>{const A=e.isZero()?0:Math.floor(Math.log10(e.abs().toNumber()));return(e=>ve()(Object.keys(e).map((e=>ye[e])),(e=>-1*e)))(t).find((e=>A>=e))||0})(new se(r),i),s=((e,t)=>e[we[t.toString()]]||"")(i,o);if(r=de(new se(r).div(Math.pow(10,o)),n),A.stripInsignificantZeros){let[e,t]=r.split(".");t=(t||"").replace(/0+$/,""),r=e,t&&(r+=`${A.separator}${t}`)}return A.format.replace("%n",r||"0").replace("%u",s).trim()}(this,e,Object.assign(Object.assign(Object.assign({delimiter:"",separator:".",precision:3,significant:!0,stripInsignificantZeros:!0,format:"%n %u",roundMode:"default",units:{billion:"Billion",million:"Million",quadrillion:"Quadrillion",thousand:"Thousand",trillion:"Trillion",unit:""}},O(this.get("number.human.format"))),O(this.get("number.human.decimal_units"))),t))}numberToRounded(e,t){return ue(e,Object.assign({unit:"",precision:3,significant:!1,separator:".",delimiter:"",stripInsignificantZeros:!1},t))}numberToDelimited(e,t={}){return function(e,t){const A=new se(e);if(!A.isFinite())return e.toString();if(!t.delimiterPattern.global)throw new Error(`options.delimiterPattern must be a global regular expression; received ${t.delimiterPattern}`);let[n,i]=A.toString().split(".");return n=n.replace(t.delimiterPattern,(e=>`${e}${t.delimiter}`)),[n,i].filter(Boolean).join(t.separator)}(e,Object.assign({delimiterPattern:/(\d)(?=(\d\d\d)+(?!\d))/g,delimiter:",",separator:"."},t))}withLocale(e,t){return A=this,n=void 0,r=function*(){const A=this.locale;try{this.locale=e,yield t()}finally{this.locale=A}},new((i=void 0)||(i=Promise))((function(e,t){function o(e){try{a(r.next(e))}catch(e){t(e)}}function s(e){try{a(r.throw(e))}catch(e){t(e)}}function a(t){var A;t.done?e(t.value):(A=t.value,A instanceof i?A:new i((function(e){e(A)}))).then(o,s)}a((r=r.apply(A,n||[])).next())}));var A,n,i,r}strftime(e,t,A={}){return function(e,t,A={}){const{abbrDayNames:n,dayNames:i,abbrMonthNames:r,monthNames:o,meridian:s,utc:a}=Object.assign(Object.assign({},Ee),A);if(isNaN(e.getTime()))throw new Error("strftime() requires a valid date object, but received an invalid date.");const l=a?e.getUTCDay():e.getDay(),c=a?e.getUTCDate():e.getDate(),d=a?e.getUTCFullYear():e.getFullYear(),u=(a?e.getUTCMonth():e.getMonth())+1,h=a?e.getUTCHours():e.getHours();let p=h;const g=h>11?"pm":"am",f=a?e.getUTCSeconds():e.getSeconds(),m=a?e.getUTCMinutes():e.getMinutes(),v=a?0:e.getTimezoneOffset(),B=Math.floor(Math.abs(v/60)),w=Math.abs(v)-60*B,y=(v>0?"-":"+")+(B.toString().length<2?"0"+B:B)+(w.toString().length<2?"0"+w:w);return p>12?p-=12:0===p&&(p=12),(t=(t=(t=(t=(t=(t=(t=(t=(t=(t=(t=(t=(t=(t=(t=(t=(t=(t=(t=(t=(t=(t=(t=(t=(t=t.replace("%a",n[l])).replace("%A",i[l])).replace("%b",r[u])).replace("%B",o[u])).replace("%d",c.toString().padStart(2,"0"))).replace("%e",c.toString())).replace("%-d",c.toString())).replace("%H",h.toString().padStart(2,"0"))).replace("%-H",h.toString())).replace("%k",h.toString())).replace("%I",p.toString().padStart(2,"0"))).replace("%-I",p.toString())).replace("%l",p.toString())).replace("%m",u.toString().padStart(2,"0"))).replace("%-m",u.toString())).replace("%M",m.toString().padStart(2,"0"))).replace("%-M",m.toString())).replace("%p",s[g])).replace("%P",s[g].toLowerCase())).replace("%S",f.toString().padStart(2,"0"))).replace("%-S",f.toString())).replace("%w",l.toString())).replace("%y",d.toString().padStart(2,"0").substr(-2))).replace("%-y",d.toString().padStart(2,"0").substr(-2).replace(/^0+/,""))).replace("%Y",d.toString())).replace(/%z/i,y)}(e,t,Object.assign(Object.assign(Object.assign({},O(fe(this,"date"))),{meridian:{am:fe(this,"time.am")||"AM",pm:fe(this,"time.pm")||"PM"}}),A))}update(e,t,A={strict:!1}){if(A.strict&&!x()(this.translations,e))throw new Error(`The path "${e}" is not currently defined`);const n=Q()(this.translations,e),i=pe(n),r=pe(t);if(A.strict&&i!==r)throw new Error(`The current type for "${e}" is "${i}", but you're trying to override it with "${r}"`);let o;o="object"===r?Object.assign(Object.assign({},n),t):t;const s=e.split(this.defaultSeparator),a=s.pop();let l=this.translations;for(const e of s)l[e]||(l[e]={}),l=l[e];l[a]=o,this.hasChanged()}toSentence(e,t={}){const{wordsConnector:A,twoWordsConnector:n,lastWordConnector:i}=Object.assign(Object.assign({wordsConnector:", ",twoWordsConnector:" and ",lastWordConnector:", and "},O(fe(this,"support.array"))),t),r=e.length;switch(r){case 0:return"";case 1:return`${e[0]}`;case 2:return e.join(n);default:return[e.slice(0,r-1).join(A),i,e[r-1]].join("")}}timeAgoInWords(e,t,A={}){return function(e,t,A,n={}){const i=n.scope||"datetime.distance_in_words",r=(t,A=0)=>e.t(t,{count:A,scope:i});t=be(t),A=be(A);let o=t.getTime()/1e3,s=A.getTime()/1e3;o>s&&([t,A,o,s]=[A,t,s,o]);const a=Math.round(s-o),l=Math.round((s-o)/60),c=l/60/24,d=Math.round(l/60),u=Math.round(c),h=Math.round(u/30);if(xe(0,1,l))return n.includeSeconds?xe(0,4,a)?r("less_than_x_seconds",5):xe(5,9,a)?r("less_than_x_seconds",10):xe(10,19,a)?r("less_than_x_seconds",20):xe(20,39,a)?r("half_a_minute"):xe(40,59,a)?r("less_than_x_minutes",1):r("x_minutes",1):0===l?r("less_than_x_minutes",1):r("x_minutes",l);if(xe(2,44,l))return r("x_minutes",l);if(xe(45,89,l))return r("about_x_hours",1);if(xe(90,1439,l))return r("about_x_hours",d);if(xe(1440,2519,l))return r("x_days",1);if(xe(2520,43199,l))return r("x_days",u);if(xe(43200,86399,l))return r("about_x_months",Math.round(l/43200));if(xe(86400,525599,l))return r("x_months",h);let p=t.getFullYear();t.getMonth()+1>=3&&(p+=1);let g=A.getFullYear();A.getMonth()+1<3&&(g-=1);const f=525600,m=l-1440*(p>g?0:Ue()(p,g).filter((e=>1==new Date(e,1,29).getMonth())).length),v=Math.trunc(m/f),B=parseFloat((m/f-v).toPrecision(3));return B<.25?r("about_x_years",v):B<.75?r("over_x_years",v):r("almost_x_years",v+1)}(this,e,t,A)}onChange(e){return this.onChangeHandlers.push(e),()=>{this.onChangeHandlers.splice(this.onChangeHandlers.indexOf(e),1)}}get version(){return this._version}formatNumber(e,t={}){return ue(e,t=Object.assign(Object.assign({delimiter:",",precision:3,separator:".",unit:"",format:"%u%n",significant:!1,stripInsignificantZeros:!1},O(this.get("number.format"))),t))}get(e){return fe(this,e)}runCallbacks(){this.onChangeHandlers.forEach((e=>e(this)))}hasChanged(){this._version+=1,this.runCallbacks()}}({en:{navbar:{tree:"Tree",publish:{label:"Publish",modal_title:"Publish",modal_description:"Are you sure you want to publish? Once published, all currently visible pages will be finalized and visible to residents. This action cannot be undone.",notify_residents:"Notify residents about the updates made",modal_confirm:"Publish",modal_cancel:"Cancel",sidebar_mapping_title:"Mapping",current_version:"Current published version: ",new_version:"Version being published: "},debug:{label:"Debug",modal_title:"App Debugging",total_urls:"Total URLs",total_successful:"Successful",total_failed:"Failed",full_url:"Full URL",status_code:"Status Code",status_message:"Status Message",affected_tile:"Affected Tile",affected_content:"Affected Content",affected_cta:"Affected CTA"},share:{label:"Share",modal_title:"Share link for a preview",modal_description:"A shareable link has been generated for you. Copy it and share for previews!",copy:"Copy",close:"Close",copied:"Linked copied to clipboard"},trash:{label:"Trash",modal_title:"Trash",modal_description:"A shareable link has been generated for you. Copy it and share for previews!",copy:"Copy",close:"Close",copied:"Linked copied to clipboard"},appversion:{create_new:"Create new version",duplicate:"Duplicate version",duplicate_button:"Duplicate",save:"Save",cancel:"Cancel",delete:"Delete"}},undo:"Undo",redo:"Redo",sidebar:{pages:"Pages",templates:{label:"Templates",click_to_add_template:"Click to add template",confirmation_title:"Confirmation",confirmation_message:"When you continue, all the changes you have made will be cleared."},confirmation_accept:"Confirm",confirmation_cancel:"Cancel",image_upload:{modal_title:"Edit Content",cancel:"Cancel",save:"Save",upload_message:"<p>Drag and drop or <a href='#' id='browseLink'>browse</a></p>",upload_success_message:"The images have been published successfully."},icon_category:{general:"Technical Services & Support",real_estate_rental:"Real Estate & Rental",community_connection:"Community & Connection",building_furnishing:"Building & Furnishing",services_hospitality:"Services & Hospitality",mobility_transport:"Mobility & Transport",care_wellbeing:"Care & Wellbeing",communication_media:"Communication & Media"},action_list:{page:"Pages",services:"Services",forms:"Forms",weblink:"Web link",module:"Modules",content:"Content",call_to_action:"Call to Action"}},default:{reception:"Reception",mycare:"My Care",myliving:"My Living",myservice:"My Service",location:"Location",map:"Map",myactivity:"My Activity",calendar:"Calendar"},tile:{add_template_right:"Add tile right",add_template_bottom:"Add tile below",delete_tile:"Delete tile",title:"Title",add_menu_page:"Add menu page",add_content_page:"Add content page",information_page:"New Page",existing_pages:"Existing Pages",call_to_action:"Direct Link",forms:"Forms",modules:"Modules",email:"Email",phone:"Phone",maps:"Maps",calendar:"Calendar",services:"Services",edit_content:"Edit Content",save_button:"Save",cancel_button:"Cancel"},messages:{success:{published:"App published successfully",page_created:"Page created successfully"},error:{page_linking:"Page cannot be linked to itself",select_tile:"Select a tile to continue",empty_page_name:"Enter page name",templates_on_menu_pages:"Templates can only be added to menu pages",no_active_page:"No active page",empty_version_name:"Version name is required.",existing_version_name:"A version with this name already exists.",long_version_name:"Version name cannot exceed 50 characters."}},Messages:"Messages",Requests:"Requests",NoMessagesYet:"No Messages Yet"},nl:{navbar:{tree:"Boom",publish:{label:"Publiceren",modal_title:"Publiceren",modal_description:"Weet je zeker dat je wilt publiceren? Zodra gepubliceerd, worden alle momenteel zichtbare pagina's afgerond en zichtbaar voor bewoners. Deze actie kan niet ongedaan worden gemaakt.",notify_residents:"Bewoners op de hoogte stellen van de gemaakte updates",modal_confirm:"Publiceren",modal_cancel:"Annuleren",sidebar_mapping_title:"Indeling",current_version:"Huidige gepubliceerde versie: ",new_version:"Versie wordt gepubliceerd: "},debug:{label:"Debug",modal_title:"App Debugging",total_urls:"Totaal aantal URL's",total_successful:"Succesvol",total_failed:"Mislukt",full_url:"Volledige URL",status_code:"Statuscode",status_message:"Statusbericht",affected_tile:"Beรฏnvloede tegel",affected_content:"Beรฏnvloede inhoud",affected_cta:"Beรฏnvloede CTA"},share:{label:"Delen",modal_title:"Deel link voor een voorbeeldweergave",modal_description:"Er is een deelbare link gegenereerd voor jou. Kopieer deze en deel hem voor previews!",copy:"Kopiรซren",close:"Sluiten",copied:"Link gekopieerd naar klembord"},appversion:{create_new:"Nieuwe versie maken",duplicate:"Versie dupliceren"}},undo:"Ongedaan maken",redo:"Opnieuw",sidebar:{pages:"Pagina's",templates:{label:"Sjablonen",click_to_add_template:"Klik om een sjabloon toe te voegen",confirmation_title:"Bevestiging",confirmation_message:"Als je doorgaat, worden alle wijzigingen die je hebt gemaakt gewist."},confirmation_accept:"Bevestigen",confirmation_cancel:"Annuleren",image_upload:{modal_title:"Inhoud bewerken",cancel:"Annuleren",save:"Opslaan",upload_message:"<p>Sleep en plaats of <a href='#' id='browseLink'>blader</a></p>",upload_success_message:"The images have been published successfully."},icon_category:{general:"Technische diensten en ondersteuning",real_estate_rental:"Onroerend goed en verhuur",community_connection:"Gemeenschap & Verbinding",building_furnishing:"Bouw & Inrichting",services_hospitality:"Diensten en gastvrijheid",mobility_transport:"Mobiliteit & Transport",care_wellbeing:"Zorg & Welzijn",communication_media:"Communicatie & Media"},action_list:{page:"Pagina's",services:"Diensten",forms:"Formulieren",weblink:"Weblink",module:"Modules",content:"Inhoud",call_to_action:"Call to Action"}},default:{reception:"Receptie",mycare:"Mijn Zorg",myliving:"Mijn Wonen",myservice:"Mijn Dienst",location:"Locatie",map:"Kaart",myactivity:"Mijn Activiteit",calendar:"Kalender"},tile:{add_template_right:"Tegel rechts toevoegen",add_template_bottom:"Tegel hieronder toevoegen",delete_tile:"Tegel verwijderen",title:"Titel",add_menu_page:"Menuยญpagina toevoegen",add_content_page:"Inhoudsยญpagina toevoegen",forms:"Formulieren",modules:"Modules",existing_pages:"Bestaande pagina's",call_to_action:"Directe link",email:"E-mail",phone:"Telefoon",maps:"Kaarten",calendar:"Kalender",services:"Diensten",information_page:"Nieuwe Pagina",edit_content:"Inhoud Bewerken",save_button:"Bevestig",cancel_button:"Annuleer"},messages:{success:{published:"App succesvol gepubliceerd",page_created:"Pagina succesvol aangemaakt"},error:{page_linking:"Pagina kan niet aan zichzelf worden gekoppeld",select_tile:"Selecteer een tegel om door te gaan",empty_page_name:"Voer een paginanaam in",templates_on_menu_pages:"Sjablonen kunnen alleen aan menupagina's worden toegevoegd",no_active_page:"Geen actieve pagina",empty_version_name:"Versienaam is verplicht.",existing_version_name:"Er bestaat al een versie met deze naam.",long_version_name:"Versienaam mag niet langer zijn dan 50 tekens."}},Messages:"Berichten",Requests:"Verzoeken",NoMessagesYet:"Nog geen berichten"}});class ke{constructor(e,t,A){this.container=document.createElement("div"),this.message=e,this.title=t,this.toolboxService=new s,this.onConfirmCallback=A||(()=>{}),this.init()}init(){this.container.classList.add("popup-modal"),this.container.style.display="flex";const e=document.createElement("div");e.classList.add("popup");const t=document.createElement("div");t.classList.add("popup-header");const A=document.createElement("span");A.innerText=this.title;const n=document.createElement("button");n.classList.add("close"),n.innerHTML='\n            <svg xmlns="http://www.w3.org/2000/svg" width="14" height="14" viewBox="0 0 21 21">\n                <path id="Icon_material-close" data-name="Icon material-close" d="M28.5,9.615,26.385,7.5,18,15.885,9.615,7.5,7.5,9.615,15.885,18,7.5,26.385,9.615,28.5,18,20.115,26.385,28.5,28.5,26.385,20.115,18Z" transform="translate(-7.5 -7.5)" fill="#6a747f" opacity="0.54"></path>\n            </svg>\n        ',n.addEventListener("click",(()=>{this.close()})),t.appendChild(A),t.appendChild(n);const i=document.createElement("hr"),r=document.createElement("div");r.classList.add("popup-body"),r.id="confirmation_modal_message",r.innerText=this.message;const o=document.createElement("div");o.classList.add("popup-footer");const s=document.createElement("button");s.className="tb-btn tb-btn-outline",s.id="cancel_confirmation",s.innerText=Me.t("sidebar.confirmation_cancel"),s.addEventListener("click",(()=>{this.close()}));const a=document.createElement("button");a.className="tb-btn tb-btn-primary",a.id="confirm_action",a.innerText=Me.t("sidebar.confirmation_accept"),a.addEventListener("click",(e=>{e.preventDefault(),this.onConfirmCallback(),this.close()})),o.appendChild(a),o.appendChild(s),e.appendChild(t),e.appendChild(i),e.appendChild(r),e.appendChild(o),this.container.appendChild(e)}close(){this.container.remove()}render(e){e.appendChild(this.container)}}class Pe{constructor(e,t,A){this.isCurrentlySelected=!1,this.mediaFile=e,this.controller=t,this.type=this.controller.getType,this.infoId=this.controller.getInfoId,this.sectionId=this.controller.getSectionId,this.toolboxService=new s,this.imageUpload=A,this.container=this.createContainer(),this.initializeSelectionState(),this.initializeComponent()}initializeSelectionState(){if("info"!==this.type||!this.infoId)return this.isCurrentlySelected=!1,!1;try{const e=this.getExistingImages().some((e=>e.InfoImageId===`id-${this.mediaFile.MediaId}`));return this.isCurrentlySelected=e,e&&this.controller.addSelectedImage({Id:this.mediaFile.MediaId,Url:this.mediaFile.MediaUrl}),e}catch(e){return console.error("Error initializing existing images:",e),this.isCurrentlySelected=!1,!1}}isImageSelected(){return this.isCurrentlySelected}getExistingImages(){var e,t;const A=globalThis.currentPageId;if(!A)return[];const n=localStorage.getItem(`data-${A}`);if(!n)return[];const i=JSON.parse(n),r=null===(t=null===(e=null==i?void 0:i.PageInfoStructure)||void 0===e?void 0:e.InfoContent)||void 0===t?void 0:t.find((e=>e.InfoId===this.infoId));return(null==r?void 0:r.Images)||[]}createContainer(){const e=document.createElement("div");return e.className="file-item valid",e.id=this.mediaFile.MediaId,e}initializeComponent(){const e=this.createPreviewImage(),t=this.createImageCheckbox(),A=this.createActionColumn();t.style.display="none",this.container.appendChild(e),A.prepend(t),this.container.appendChild(A),"info"!==this.type&&this.setupItemClickEvent(t)}createPreviewImage(){const e=document.createElement("img");return e.src=this.mediaFile.MediaUrl,e.alt=this.mediaFile.MediaName,e.className="preview-image",e}createStatusIcon(){const e=document.createElement("span");return e.className="status-icon",Object.assign(e.style,{position:"absolute",top:"-11px",left:"-8px",width:"25px",height:"25px",zIndex:"4",display:"none"}),e}createActionColumn(){const e=document.createElement("div");return e.className="action-column",Object.assign(e.style,{display:"flex",flexDirection:"row",gap:"5px",alignItems:"center",width:"calc(100% + 10px)",zIndex:"3",position:"absolute",top:"-16px",left:"-5px"}),"info"===this.type&&e.appendChild(this.createImageCheckbox()),e.appendChild(this.createDeleteButton()),e}createImageCheckbox(){const e=document.createElement("span");return e.setAttribute("role","checkbox"),e.setAttribute("aria-label","Select image"),e.setAttribute("tabindex","0"),e.title="Select image",Object.assign(e.style,{fontSize:"25px",lineHeight:"0.8",backgroundColor:"rgba(255,255,255,0.95)",color:"#5068a8",cursor:"pointer"}),this.updateCheckboxVisual(e,this.isCurrentlySelected),e.addEventListener("click",(t=>{t.stopPropagation(),this.toggleImageSelection(e)})),e.addEventListener("keydown",(t=>{" "!==t.key&&"Enter"!==t.key||(t.preventDefault(),this.toggleImageSelection(e))})),e}createReplaceButton(){const e=document.createElement("span");return e.className="add-image",e.title="Replace image",Object.assign(e.style,{width:"33px",height:"33px",backgroundImage:"url('/Resources/UCGrapes/public/images/rotatenew.png')",backgroundSize:"contain",backgroundRepeat:"no-repeat",backgroundPosition:"center",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center"}),e.addEventListener("click",(e=>{e.stopPropagation()})),e}createDeleteButton(){const e=document.createElement("span");return e.className="delete-media fa-regular fa-trash-can",e.title="Delete image",Object.assign(e.style,{width:"33px",height:"33px",fontSize:"16px",color:"#5068a8",display:"flex",alignItems:"center",justifyContent:"center",cursor:"pointer",border:"1px solid #5068a8",marginLeft:"auto"}),e.addEventListener("click",(e=>{e.stopPropagation(),this.deleteEvent()})),e}updateCheckboxVisual(e,t){e.className=t?"select-media-checkbox fa-solid fa-square-check selected-checkbox":"select-media-checkbox fa-regular fa-square",e.setAttribute("aria-checked",String(t))}toggleImageSelection(e){const t=!this.isCurrentlySelected;this.isCurrentlySelected=t,this.updateCheckboxVisual(e,t),t?this.handleImageSelect():this.handleImageUnselect()}handleImageSelect(){this.controller.addSelectedImage({Id:this.mediaFile.MediaId,Url:this.mediaFile.MediaUrl}),"info"===this.type&&this.infoId&&this.updateStoredImageSelection(!0),this.dispatchSelectionEvent("selected")}handleImageUnselect(){this.controller.removeSelectedImage(this.mediaFile.MediaId),"info"===this.type&&this.infoId&&this.updateStoredImageSelection(!1),this.clearVisualSelection(),this.dispatchSelectionEvent("unselected")}updateStoredImageSelection(e){var t,A;try{const n=globalThis.currentPageId;if(!n)return;const i=localStorage.getItem(`data-${n}`);if(!i)return;const r=JSON.parse(i),o=null===(A=null===(t=null==r?void 0:r.PageInfoStructure)||void 0===t?void 0:t.InfoContent)||void 0===A?void 0:A.find((e=>e.InfoId===this.infoId));if(!o)return;o.Images||(o.Images=[]);const s=`id-${this.mediaFile.MediaId}`,a=o.Images.findIndex((e=>e.InfoImageId===s));e&&-1===a?o.Images.push({InfoImageId:s,InfoImageUrl:this.mediaFile.MediaUrl}):e||-1===a||o.Images.splice(a,1)}catch(e){console.error("Error updating stored image selection:",e)}}clearVisualSelection(){console.log("reached here"),this.container.classList.remove("selected","highlighted"),this.container.querySelectorAll(".select-media-checkbox").forEach((e=>{e.style.display="none"}))}dispatchSelectionEvent(e){const t=new CustomEvent("imageSelectionChanged",{detail:{mediaId:this.mediaFile.MediaId,mediaUrl:this.mediaFile.MediaUrl,action:e,isSelected:this.isCurrentlySelected}});this.container.dispatchEvent(t)}handleReplaceClick(){this.controller.clearSelectedImages(),this.imageUpload.displayImageEditor(this.mediaFile.MediaUrl),this.controller.addSelectedImage({Id:this.mediaFile.MediaId,Url:this.mediaFile.MediaUrl}),this.imageUpload.loadMediaFiles()}setupItemClickEvent(e){this.container.addEventListener("click",(()=>{this.handleItemClick(e)}))}handleItemClick(e){this.controller.clearSelectedImages(),this.imageUpload.displayImageEditor(this.mediaFile.MediaUrl),this.controller.addSelectedImage({Id:this.mediaFile.MediaId,Url:this.mediaFile.MediaUrl}),this.clearOtherSelections(),this.showSelectionStatus(e)}hideFileList(){this.fileListContainer=document.getElementById("fileList"),this.fileListContainer&&(this.fileListContainer.style.display="none")}clearOtherSelections(){document.querySelectorAll(".file-item").forEach((e=>{e.classList.remove("selected");const t=e.querySelector(".select-media-checkbox");t&&(t.style.display="none")}))}showSelectionStatus(e){Object.assign(e.style,{backgroundImage:"url('/Resources/UCGrapes/public/images/check.png')",backgroundSize:"contain",backgroundRepeat:"no-repeat",backgroundPosition:"center",display:"block"}),this.container.classList.add("selected")}deleteEvent(){new ke("Are you sure you want to delete this media file?","Delete media",this.handleDeleteConfirmation.bind(this)).render(document.body)}handleDeleteConfirmation(){return e=this,t=void 0,n=function*(){try{this.isCurrentlySelected&&this.handleImageUnselect(),yield this.toolboxService.deleteMedia(this.mediaFile.MediaId),this.removeFromDOM()}catch(e){console.error("Error deleting media:",e)}},new((A=void 0)||(A=Promise))((function(i,r){function o(e){try{a(n.next(e))}catch(e){r(e)}}function s(e){try{a(n.throw(e))}catch(e){r(e)}}function a(e){var t;e.done?i(e.value):(t=e.value,t instanceof A?t:new A((function(e){e(t)}))).then(o,s)}a((n=n.apply(e,t||[])).next())}));var e,t,A,n}removeFromDOM(){const e=document.getElementById(this.mediaFile.MediaId);null==e||e.remove()}getElement(){return this.container}render(e){e.appendChild(this.container)}unselectImage(){if(this.isCurrentlySelected){const e=this.container.querySelector(".select-media-checkbox");e?this.toggleImageSelection(e):this.handleImageUnselect()}}getSelectionState(){return this.isCurrentlySelected}selectImage(){if(!this.isCurrentlySelected){const e=this.container.querySelector(".select-media-checkbox");e?this.toggleImageSelection(e):this.handleImageSelect()}}}const Ne=e=>{let t="";for(let A=0;A<e;A++)t+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz".charAt(Math.floor(52*Math.random()));return t+(new Date).toISOString().replace(/[-:.TZ]/g,"")};function De(e){return t=this,A=void 0,i=function*(){const t=yield fetch(e),A=yield t.blob();return new Promise(((e,t)=>{const n=new FileReader;n.onloadend=()=>e(n.result),n.onerror=t,n.readAsDataURL(A)}))},new((n=void 0)||(n=Promise))((function(e,r){function o(e){try{a(i.next(e))}catch(e){r(e)}}function s(e){try{a(i.throw(e))}catch(e){r(e)}}function a(t){var A;t.done?e(t.value):(A=t.value,A instanceof n?A:new n((function(e){e(A)}))).then(o,s)}a((i=i.apply(t,A||[])).next())}));var t,A,n,i}function Oe(e,t){return e.length>t?e.slice(0,t)+"...":e}function _e(e){return e.replace(/\b\w/g,(e=>e.toUpperCase()))}function Ve(){return[{name:"Technical Services & Support",label:Me.t("sidebar.icon_category.general")},{name:"Real Estate & Rental",label:Me.t("sidebar.icon_category.real_estate_rental")},{name:"Community & Connection",label:Me.t("sidebar.icon_category.community_connection")},{name:"Building & Furnishing",label:Me.t("sidebar.icon_category.building_furnishing")},{name:"Services & Hospitality",label:Me.t("sidebar.icon_category.services_hospitality")},{name:"Mobility & Transport",label:Me.t("sidebar.icon_category.mobility_transport")},{name:"Care & Wellbeing",label:Me.t("sidebar.icon_category.care_wellbeing")},{name:"Communication & Media",label:Me.t("sidebar.icon_category.communication_media")}]}var $e=function(e,t,A,n){return new(A||(A=Promise))((function(i,r){function o(e){try{a(n.next(e))}catch(e){r(e)}}function s(e){try{a(n.throw(e))}catch(e){r(e)}}function a(e){var t;e.done?i(e.value):(t=e.value,t instanceof A?t:new A((function(e){e(t)}))).then(o,s)}a((n=n.apply(e,t||[])).next())}))};class je{constructor(e){this.fileListElement=null,this.isEditingMode=!1,this.controller=e,this.sectionId=e.getSectionId,this.modalContent=document.createElement("div"),this.init()}init(){this.modalContent.innerHTML="",this.modalContent.className="tb-modal-content",this.createModalHeader(),this.createUploadArea(),this.createModalActions(),this.createFileListElement(),this.loadExistingImageAndFiles()}createModalHeader(){const e=document.createElement("div");e.className="tb-modal-header";const t=document.createElement("h2");t.innerText=Me.t("sidebar.image_upload.modal_title");const A=document.createElement("span");A.className="close",A.innerHTML='\n      <svg xmlns="http://www.w3.org/2000/svg" width="21" height="21" viewBox="0 0 21 21">\n        <path id="Icon_material-close" data-name="Icon material-close" d="M28.5,9.615,26.385,7.5,18,15.885,9.615,7.5,7.5,9.615,15.885,18,7.5,26.385,9.615,28.5,18,20.115,26.385,28.5,28.5,26.385,20.115,18Z" transform="translate(-7.5 -7.5)" fill="#6a747f" opacity="0.54"></path>\n      </svg>\n    ',A.addEventListener("click",(e=>{e.preventDefault(),this.closeModal()})),e.appendChild(t),e.appendChild(A),this.modalContent.appendChild(e)}createUploadArea(){const e=document.createElement("div");e.className="upload-area",e.id="uploadArea",e.innerHTML=`\n      <svg xmlns="http://www.w3.org/2000/svg" width="40.999" height="28.865" viewBox="0 0 40.999 28.865">\n        <path id="Path_1040" data-name="Path 1040" d="M21.924,11.025a3.459,3.459,0,0,0-3.287,3.608,3.459,3.459,0,0,0,3.287,3.608,3.459,3.459,0,0,0,3.287-3.608A3.459,3.459,0,0,0,21.924,11.025ZM36.716,21.849l-11.5,14.432-8.218-9.02L8.044,39.89h41Z" transform="translate(-8.044 -11.025)" fill="#afadad"></path>\n      </svg>\n      <div class="upload-text">\n        ${Me.t("sidebar.image_upload.upload_message")}\n      </div>\n    `,this.setupDragAndDrop(e),this.modalContent.appendChild(e)}createFileListElement(){this.fileListElement=document.createElement("div"),this.fileListElement.className="file-list",this.fileListElement.id="fileList";const e=document.createElement("div");e.id="loading-media",e.className="loading-media",this.fileListElement.appendChild(e),this.modalContent.appendChild(this.fileListElement)}createModalActions(){const e=document.createElement("div");e.className="modal-actions",e.style.display="none";const t=document.createElement("button");t.className="tb-btn tb-btn-outline",t.id="cancel-modal",t.innerText=Me.t("sidebar.image_upload.cancel"),t.addEventListener("click",(e=>{e.preventDefault(),this.closeModal()}));const A=document.createElement("button");A.className="tb-btn tb-btn-primary",A.id="save-modal",A.innerText=Me.t("sidebar.image_upload.save"),A.addEventListener("click",(e=>$e(this,void 0,void 0,(function*(){e.preventDefault();try{yield this.controller.handleSave(this.opacityValue,this.sectionId),this.closeModal()}catch(e){console.error("Error saving images:",e)}})))),e.appendChild(t),e.appendChild(A),this.modalContent.appendChild(e)}updateModalActions(){const e=this.modalContent.querySelector(".modal-actions");e&&(e.style.display=this.controller.hasSelectedImages()?"flex":"none")}loadExistingImageAndFiles(){return $e(this,void 0,void 0,(function*(){const e=this.controller.getBackgroundImage();e&&this.displayImageEditor(e),yield this.loadMediaFiles()}))}loadMediaFiles(){return $e(this,void 0,void 0,(function*(){try{const e=yield this.controller.loadMediaFiles();if(this.fileListElement&&(this.fileListElement.innerHTML="",e.length>0)){e.forEach((e=>{new Pe(e,this.controller,this).render(this.fileListElement)}));const t=document.getElementById("loading-media");t&&(t.style.display="none")}}catch(e){console.error("Error loading media files:",e),this.fileListElement&&(this.fileListElement.innerHTML='<div class="error-message">Error loading media files. Please try again.</div>')}}))}displayImageEditor(e,t){return $e(this,void 0,void 0,(function*(){if("info"===this.controller.getType||"cta"===this.controller.getType)return;t||(t=yield this.controller.getFile(e));const A=decodeURIComponent(decodeURIComponent(e)),n={Id:Ne(12),Url:A};this.controller.addSelectedImage(n);const i=this.modalContent.querySelector(".upload-area");i&&(i.innerHTML="");const r=document.createElement("div");r.className="image-editor-container",Object.assign(r.style,{position:"relative",width:"100%",height:"400px",overflow:"hidden",border:"1px solid #ccc",backgroundImage:`url("${A}")`,backgroundRepeat:"no-repeat",backgroundSize:"100% 100%"});const o=document.createElement("div");o.id="position-frame",Object.assign(o.style,{position:"absolute",border:"2px solid #5068a8",backgroundColor:"rgba(80, 104, 168, 0.15)",cursor:"move"}),r.appendChild(o),i&&i.appendChild(r),this.setupPositionFrame(o,r),this.createOpacitySlider(i),this.updateModalActions(),this.isEditingMode=!0}))}setupPositionFrame(e,t){const A=globalThis.selectedComponent;let n=1,i=this.getTile(A);if(A){const r=A.getEl(),o=r.clientWidth,s=r.clientHeight;n=parseFloat((o/s).toFixed(2)),n>3&&(n=2.3);let a=o*n,l=s*n;const c=t.clientWidth;a>c&&(a=c,l=c/n),i&&i.Left&&i.Top&&(e.style.left=`${i.Left}`,e.style.top=`${i.Top}`),t.style.filter=`brightness(${(null==i?void 0:i.Opacity)?1-i.Opacity/100:1})`,e.style.width=`${a}px`,e.style.height=`${l}px`}this.addResizeHandles(e,t,n),this.addDragFunctionality(e,t,n)}getTile(e){let t;const A=this.controller.getInfoContent();if(A){const n=e.parent().getId(),i=null==A?void 0:A.Tiles;(null==i?void 0:i.length)&&(t=i.find((e=>e.Id===n)))}return t}addResizeHandles(e,t,A){["top-left","top-right","bottom-left","bottom-right"].forEach((n=>{const i=document.createElement("div");i.className=`resize-handle ${n}`,Object.assign(i.style,{position:"absolute",width:"10px",height:"10px",backgroundColor:"#5068a8",zIndex:"11",cursor:"nw-resize"}),n.includes("top")&&(i.style.top="-5px"),n.includes("bottom")&&(i.style.bottom="-5px"),n.includes("left")&&(i.style.left="-5px"),n.includes("right")&&(i.style.right="-5px"),e.appendChild(i),this.addResizeLogic(i,e,n,t,A)}))}addResizeLogic(e,t,A,n,i){e.addEventListener("mousedown",(e=>{e.preventDefault(),e.stopPropagation();const r=e.clientX,o=(e.clientY,t.offsetWidth),s=t.offsetHeight,a=t.offsetLeft,l=t.offsetTop,c=n.offsetWidth,d=(n.offsetHeight,o/s),u=e=>{const u=e.clientX-r;e.clientY;let h=o,p=s,g=a,f=l;"bottom-right"===A?(h=Math.min(o+u,c-a),p=h/d):"bottom-left"===A?(h=Math.min(o-u,a+o),g=Math.max(a+u,0),p=h/d):"top-right"===A?(h=Math.min(o+u,c-a),p=h/d,f=Math.max(l+(s-p),0)):"top-left"===A&&(h=Math.min(o-u,a+o),g=Math.max(a+u,0),p=h/d,f=Math.max(l+(s-p),0)),h=Math.max(h,20),p=Math.max(p,20),t.style.width=`${h}px`,t.style.height=`${p}px`,t.style.left=`${g}px`,t.style.top=`${f}px`,this.controller.captureCurrentPosition(t,n,i)},h=()=>{document.removeEventListener("mousemove",u),document.removeEventListener("mouseup",h),this.controller.captureCurrentPosition(t,n,i)};document.addEventListener("mousemove",u),document.addEventListener("mouseup",h)}))}addDragFunctionality(e,t,A){let n=!1,i=0,r=0;e.addEventListener("mousedown",(t=>{t.preventDefault(),t.stopPropagation(),n=!0,i=t.clientX-e.getBoundingClientRect().left,r=t.clientY-e.getBoundingClientRect().top,document.body.style.userSelect="none"})),document.addEventListener("mousemove",(o=>{if(n){o.preventDefault(),o.stopPropagation();const n=t.getBoundingClientRect();let s=o.clientX-i-n.left,a=o.clientY-r-n.top;s<0&&(s=0),s+e.offsetWidth>n.width&&(s=n.width-e.offsetWidth),a<0&&(a=0),a+e.offsetHeight>n.height&&(a=n.height-e.offsetHeight),e.style.left=`${s}px`,e.style.top=`${a}px`,this.controller.captureCurrentPosition(e,t,A)}})),document.addEventListener("mouseup",(i=>{n&&(i.preventDefault(),i.stopPropagation(),n=!1,document.body.style.userSelect="auto",this.controller.captureCurrentPosition(e,t,A))}))}createOpacitySlider(e){const t=globalThis.selectedComponent,A=document.createElement("div");A.className="modal-footer-slider";const n=this.getTile(t),i=document.createElement("input");Object.assign(i,{type:"range",min:"0",max:"100",step:"1",value:(null==n?void 0:n.Opacity)||"0"}),Object.assign(i.style,{width:"100%",marginLeft:"32px"});const r=document.createElement("span");r.innerText=`${i.value}%`,Object.assign(r.style,{fontSize:"14px",color:"#333"}),i.addEventListener("input",(()=>{const t=parseInt(i.value,10)/100;if(r.innerText=`${i.value}%`,!globalThis.selectedComponent)return;this.opacityValue=100*t;const A=e.querySelector(".image-editor-container");A&&Object.assign(A.style,{opacity:"1",filter:`brightness(${1-t})`})}));const o=document.createElement("div");Object.assign(o.style,{display:"flex",alignItems:"center",gap:"10px"}),o.appendChild(i),o.appendChild(r),A.appendChild(o),this.modalContent.appendChild(A),e&&e.appendChild(A)}setupDragAndDrop(e){const t=document.createElement("input");t.type="file",t.id="fileInput",t.multiple=!0,t.accept="image/jpeg, image/jpg, image/png",t.style.display="none",e.appendChild(t);const A=e.querySelector(".upload-text");A&&A.addEventListener("click",(e=>{e.stopPropagation(),this.checkIfIsEditingMode()||t.click()})),e.addEventListener("click",(n=>{if(n.target===e||n.target===A||n.target.closest("svg")||n.target.closest(".upload-text")){if(this.checkIfIsEditingMode())return;t.click()}})),t.addEventListener("change",(()=>$e(this,void 0,void 0,(function*(){if(t.files&&t.files.length>0){this.showUploadSpinner();const e=Date.now(),A=1e3;try{yield this.uploadImages(t.files);const n=Date.now()-e,i=Math.max(0,A-n);i>0&&(yield new Promise((e=>setTimeout(e,i)))),this.removeSpinner(),this.showSuccessMessage()}catch(e){console.error("Error uploading files:",e)}}})))),e.addEventListener("dragover",(t=>{t.preventDefault(),this.checkIfIsEditingMode()||e.classList.add("drag-over")})),e.addEventListener("dragleave",(t=>{t.preventDefault(),this.checkIfIsEditingMode()||e.classList.remove("drag-over")})),e.addEventListener("drop",(t=>$e(this,void 0,void 0,(function*(){var A;if(t.preventDefault(),!this.checkIfIsEditingMode()&&(e.classList.remove("drag-over"),(null===(A=t.dataTransfer)||void 0===A?void 0:A.files)&&t.dataTransfer.files.length>0)){this.showUploadSpinner();const e=Date.now(),A=1e3;try{yield this.uploadImages(t.dataTransfer.files);const n=Date.now()-e,i=Math.max(0,A-n);i>0&&(yield new Promise((e=>setTimeout(e,i)))),this.removeSpinner(),this.showSuccessMessage()}catch(e){console.error("Error uploading files:",e)}}}))))}uploadImages(e){return $e(this,void 0,void 0,(function*(){const t=yield this.controller.compressLargeFiles(e),A=this.controller.createFileList(t);yield this.controller.handleFilesUpload(A),yield this.loadMediaFiles()}))}showUploadSpinner(){const e=this.modalContent.querySelector(".upload-area");e&&(e.innerHTML='\n    <div class="upload-spinner" style="display: flex; flex-direction: column; align-items: center; justify-content: center;">\n      <div style="\n        width: 35px; \n        height: 35px; \n        border: 3px solid #e3e3e3; \n        border-top: 3px solid #5068a8; \n        border-radius: 50%; \n        animation: spin 0.8s linear infinite;\n      "></div>\n    </div>\n    <style>\n      @keyframes spin {\n        0% { transform: rotate(0deg); }\n        100% { transform: rotate(360deg); }\n      }\n    </style>\n  ')}removeSpinner(){const e=this.modalContent.querySelector(".upload-area");e&&(e.innerHTML=`\n    <svg xmlns="http://www.w3.org/2000/svg" width="40.999" height="28.865" viewBox="0 0 40.999 28.865">\n      <path id="Path_1040" data-name="Path 1040" d="M21.924,11.025a3.459,3.459,0,0,0-3.287,3.608,3.459,3.459,0,0,0,3.287,3.608,3.459,3.459,0,0,0,3.287-3.608A3.459,3.459,0,0,0,21.924,11.025ZM36.716,21.849l-11.5,14.432-8.218-9.02L8.044,39.89h41Z" transform="translate(-8.044 -11.025)" fill="#afadad"></path>\n    </svg>\n    <div class="upload-text">\n      ${Me.t("sidebar.image_upload.upload_message")}\n    </div>\n    <input type="file" id="fileInput" multiple="" accept="image/jpeg, image/jpg, image/png" style="display: none;">\n    `,this.isEditingMode=!1)}showSuccessMessage(){const e=this.modalContent.querySelector(".upload-area");if(e){const t=e.querySelector(".upload-text");if(t){const e=document.createElement("div");e.className="success-message",e.style.cssText="color: #4CAF50; font-size: 14px; margin-top: 10px;",e.innerText=Me.t("sidebar.image_upload.upload_success_message"),t.insertAdjacentElement("afterend",e),setTimeout((()=>{e&&e.parentNode&&e.remove()}),5e3)}}}checkIfIsEditingMode(){return!!this.isEditingMode}closeModal(){const e=this.modalContent.parentElement;e&&(e.style.display="none",e.remove())}render(e){e.appendChild(this.modalContent)}}const Ke=function(e,t){return e===t||e!=e&&t!=t},Re=function(e,t){for(var A=e.length;A--;)if(Ke(e[A][0],t))return A;return-1};var qe=Array.prototype.splice;function Ge(e){var t=-1,A=null==e?0:e.length;for(this.clear();++t<A;){var n=e[t];this.set(n[0],n[1])}}Ge.prototype.clear=function(){this.__data__=[],this.size=0},Ge.prototype.delete=function(e){var t=this.__data__,A=Re(t,e);return!(A<0||(A==t.length-1?t.pop():qe.call(t,A,1),--this.size,0))},Ge.prototype.get=function(e){var t=this.__data__,A=Re(t,e);return A<0?void 0:t[A][1]},Ge.prototype.has=function(e){return Re(this.__data__,e)>-1},Ge.prototype.set=function(e,t){var A=this.__data__,n=Re(A,e);return n<0?(++this.size,A.push([e,t])):A[n][1]=t,this};const We=Ge,Ze="object"==typeof global&&global&&global.Object===Object&&global;var ze="object"==typeof self&&self&&self.Object===Object&&self;const Je=Ze||ze||Function("return this")(),Xe=Je.Symbol;var Ye=Object.prototype,et=Ye.hasOwnProperty,tt=Ye.toString,At=Xe?Xe.toStringTag:void 0;var nt=Object.prototype.toString;var it=Xe?Xe.toStringTag:void 0;const rt=function(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":it&&it in Object(e)?function(e){var t=et.call(e,At),A=e[At];try{e[At]=void 0;var n=!0}catch(e){}var i=tt.call(e);return n&&(t?e[At]=A:delete e[At]),i}(e):function(e){return nt.call(e)}(e)},ot=function(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)},st=function(e){if(!ot(e))return!1;var t=rt(e);return"[object Function]"==t||"[object GeneratorFunction]"==t||"[object AsyncFunction]"==t||"[object Proxy]"==t},at=Je["__core-js_shared__"];var lt,ct=(lt=/[^.]+$/.exec(at&&at.keys&&at.keys.IE_PROTO||""))?"Symbol(src)_1."+lt:"";var dt=Function.prototype.toString;const ut=function(e){if(null!=e){try{return dt.call(e)}catch(e){}try{return e+""}catch(e){}}return""};var ht=/^\[object .+?Constructor\]$/,pt=Function.prototype,gt=Object.prototype,ft=pt.toString,mt=gt.hasOwnProperty,vt=RegExp("^"+ft.call(mt).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");const Bt=function(e){return!(!ot(e)||(t=e,ct&&ct in t))&&(st(e)?vt:ht).test(ut(e));var t},wt=function(e,t){var A=function(e,t){return null==e?void 0:e[t]}(e,t);return Bt(A)?A:void 0},yt=wt(Je,"Map"),Ct=wt(Object,"create");var bt=Object.prototype.hasOwnProperty;var It=Object.prototype.hasOwnProperty;function Et(e){var t=-1,A=null==e?0:e.length;for(this.clear();++t<A;){var n=e[t];this.set(n[0],n[1])}}Et.prototype.clear=function(){this.__data__=Ct?Ct(null):{},this.size=0},Et.prototype.delete=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t},Et.prototype.get=function(e){var t=this.__data__;if(Ct){var A=t[e];return"__lodash_hash_undefined__"===A?void 0:A}return bt.call(t,e)?t[e]:void 0},Et.prototype.has=function(e){var t=this.__data__;return Ct?void 0!==t[e]:It.call(t,e)},Et.prototype.set=function(e,t){var A=this.__data__;return this.size+=this.has(e)?0:1,A[e]=Ct&&void 0===t?"__lodash_hash_undefined__":t,this};const Qt=Et,Ut=function(e,t){var A,n,i=e.__data__;return("string"==(n=typeof(A=t))||"number"==n||"symbol"==n||"boolean"==n?"__proto__"!==A:null===A)?i["string"==typeof t?"string":"hash"]:i.map};function xt(e){var t=-1,A=null==e?0:e.length;for(this.clear();++t<A;){var n=e[t];this.set(n[0],n[1])}}xt.prototype.clear=function(){this.size=0,this.__data__={hash:new Qt,map:new(yt||We),string:new Qt}},xt.prototype.delete=function(e){var t=Ut(this,e).delete(e);return this.size-=t?1:0,t},xt.prototype.get=function(e){return Ut(this,e).get(e)},xt.prototype.has=function(e){return Ut(this,e).has(e)},xt.prototype.set=function(e,t){var A=Ut(this,e),n=A.size;return A.set(e,t),this.size+=A.size==n?0:1,this};const Ft=xt;function Tt(e){var t=this.__data__=new We(e);this.size=t.size}Tt.prototype.clear=function(){this.__data__=new We,this.size=0},Tt.prototype.delete=function(e){var t=this.__data__,A=t.delete(e);return this.size=t.size,A},Tt.prototype.get=function(e){return this.__data__.get(e)},Tt.prototype.has=function(e){return this.__data__.has(e)},Tt.prototype.set=function(e,t){var A=this.__data__;if(A instanceof We){var n=A.__data__;if(!yt||n.length<199)return n.push([e,t]),this.size=++A.size,this;A=this.__data__=new Ft(n)}return A.set(e,t),this.size=A.size,this};const Lt=Tt,St=function(){try{var e=wt(Object,"defineProperty");return e({},"",{}),e}catch(e){}}(),Ht=function(e,t,A){"__proto__"==t&&St?St(e,t,{configurable:!0,enumerable:!0,value:A,writable:!0}):e[t]=A},Mt=function(e,t,A){(void 0!==A&&!Ke(e[t],A)||void 0===A&&!(t in e))&&Ht(e,t,A)},kt=function(e,t,A){for(var n=-1,i=Object(e),r=A(e),o=r.length;o--;){var s=r[++n];if(!1===t(i[s],s,i))break}return e};var Pt="object"==typeof exports&&exports&&!exports.nodeType&&exports,Nt=Pt&&"object"==typeof module&&module&&!module.nodeType&&module,Dt=Nt&&Nt.exports===Pt?Je.Buffer:void 0,Ot=Dt?Dt.allocUnsafe:void 0;const _t=function(e,t){if(t)return e.slice();var A=e.length,n=Ot?Ot(A):new e.constructor(A);return e.copy(n),n},Vt=Je.Uint8Array,$t=function(e){var t=new e.constructor(e.byteLength);return new Vt(t).set(new Vt(e)),t},jt=function(e,t){var A=t?$t(e.buffer):e.buffer;return new e.constructor(A,e.byteOffset,e.length)},Kt=function(e,t){var A=-1,n=e.length;for(t||(t=Array(n));++A<n;)t[A]=e[A];return t};var Rt=Object.create;const qt=function(){function e(){}return function(t){if(!ot(t))return{};if(Rt)return Rt(t);e.prototype=t;var A=new e;return e.prototype=void 0,A}}(),Gt=function(e,t){return function(A){return e(t(A))}},Wt=Gt(Object.getPrototypeOf,Object);var Zt=Object.prototype;const zt=function(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||Zt)},Jt=function(e){return"function"!=typeof e.constructor||zt(e)?{}:qt(Wt(e))},Xt=function(e){return null!=e&&"object"==typeof e},Yt=function(e){return Xt(e)&&"[object Arguments]"==rt(e)};var eA=Object.prototype,tA=eA.hasOwnProperty,AA=eA.propertyIsEnumerable;const nA=Yt(function(){return arguments}())?Yt:function(e){return Xt(e)&&tA.call(e,"callee")&&!AA.call(e,"callee")},iA=Array.isArray,rA=function(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=9007199254740991},oA=function(e){return null!=e&&rA(e.length)&&!st(e)};var sA="object"==typeof exports&&exports&&!exports.nodeType&&exports,aA=sA&&"object"==typeof module&&module&&!module.nodeType&&module,lA=aA&&aA.exports===sA?Je.Buffer:void 0;const cA=(lA?lA.isBuffer:void 0)||function(){return!1};var dA=Function.prototype,uA=Object.prototype,hA=dA.toString,pA=uA.hasOwnProperty,gA=hA.call(Object);var fA={};fA["[object Float32Array]"]=fA["[object Float64Array]"]=fA["[object Int8Array]"]=fA["[object Int16Array]"]=fA["[object Int32Array]"]=fA["[object Uint8Array]"]=fA["[object Uint8ClampedArray]"]=fA["[object Uint16Array]"]=fA["[object Uint32Array]"]=!0,fA["[object Arguments]"]=fA["[object Array]"]=fA["[object ArrayBuffer]"]=fA["[object Boolean]"]=fA["[object DataView]"]=fA["[object Date]"]=fA["[object Error]"]=fA["[object Function]"]=fA["[object Map]"]=fA["[object Number]"]=fA["[object Object]"]=fA["[object RegExp]"]=fA["[object Set]"]=fA["[object String]"]=fA["[object WeakMap]"]=!1;const mA=function(e){return function(t){return e(t)}};var vA="object"==typeof exports&&exports&&!exports.nodeType&&exports,BA=vA&&"object"==typeof module&&module&&!module.nodeType&&module,wA=BA&&BA.exports===vA&&Ze.process;const yA=function(){try{return BA&&BA.require&&BA.require("util").types||wA&&wA.binding&&wA.binding("util")}catch(e){}}();var CA=yA&&yA.isTypedArray;const bA=CA?mA(CA):function(e){return Xt(e)&&rA(e.length)&&!!fA[rt(e)]},IA=function(e,t){if(("constructor"!==t||"function"!=typeof e[t])&&"__proto__"!=t)return e[t]};var EA=Object.prototype.hasOwnProperty;const QA=function(e,t,A){var n=e[t];EA.call(e,t)&&Ke(n,A)&&(void 0!==A||t in e)||Ht(e,t,A)},UA=function(e,t,A,n){var i=!A;A||(A={});for(var r=-1,o=t.length;++r<o;){var s=t[r],a=n?n(A[s],e[s],s,A,e):void 0;void 0===a&&(a=e[s]),i?Ht(A,s,a):QA(A,s,a)}return A};var xA=/^(?:0|[1-9]\d*)$/;const FA=function(e,t){var A=typeof e;return!!(t=null==t?9007199254740991:t)&&("number"==A||"symbol"!=A&&xA.test(e))&&e>-1&&e%1==0&&e<t};var TA=Object.prototype.hasOwnProperty;const LA=function(e,t){var A=iA(e),n=!A&&nA(e),i=!A&&!n&&cA(e),r=!A&&!n&&!i&&bA(e),o=A||n||i||r,s=o?function(e,t){for(var A=-1,n=Array(e);++A<e;)n[A]=t(A);return n}(e.length,String):[],a=s.length;for(var l in e)!t&&!TA.call(e,l)||o&&("length"==l||i&&("offset"==l||"parent"==l)||r&&("buffer"==l||"byteLength"==l||"byteOffset"==l)||FA(l,a))||s.push(l);return s};var SA=Object.prototype.hasOwnProperty;const HA=function(e){if(!ot(e))return function(e){var t=[];if(null!=e)for(var A in Object(e))t.push(A);return t}(e);var t=zt(e),A=[];for(var n in e)("constructor"!=n||!t&&SA.call(e,n))&&A.push(n);return A},MA=function(e){return oA(e)?LA(e,!0):HA(e)},kA=function(e,t,A,n,i,r,o){var s,a=IA(e,A),l=IA(t,A),c=o.get(l);if(c)Mt(e,A,c);else{var d=r?r(a,l,A+"",e,t,o):void 0,u=void 0===d;if(u){var h=iA(l),p=!h&&cA(l),g=!h&&!p&&bA(l);d=l,h||p||g?iA(a)?d=a:Xt(s=a)&&oA(s)?d=Kt(a):p?(u=!1,d=_t(l,!0)):g?(u=!1,d=jt(l,!0)):d=[]:function(e){if(!Xt(e)||"[object Object]"!=rt(e))return!1;var t=Wt(e);if(null===t)return!0;var A=pA.call(t,"constructor")&&t.constructor;return"function"==typeof A&&A instanceof A&&hA.call(A)==gA}(l)||nA(l)?(d=a,nA(a)?d=function(e){return UA(e,MA(e))}(a):ot(a)&&!st(a)||(d=Jt(l))):u=!1}u&&(o.set(l,d),i(d,l,n,r,o),o.delete(l)),Mt(e,A,d)}},PA=function e(t,A,n,i,r){t!==A&&kt(A,(function(o,s){if(r||(r=new Lt),ot(o))kA(t,A,s,n,e,i,r);else{var a=i?i(IA(t,s),o,s+"",t,A,r):void 0;void 0===a&&(a=o),Mt(t,s,a)}}),MA)},NA=function(e){return e};var DA=Math.max;const OA=St?function(e,t){return St(e,"toString",{configurable:!0,enumerable:!1,value:(A=t,function(){return A}),writable:!0});var A}:NA;var _A=Date.now;const VA=($A=OA,jA=0,KA=0,function(){var e=_A(),t=16-(e-KA);if(KA=e,t>0){if(++jA>=800)return arguments[0]}else jA=0;return $A.apply(void 0,arguments)});var $A,jA,KA;const RA=function(e,t){return VA(function(e,t,A){return t=DA(void 0===t?e.length-1:t,0),function(){for(var n=arguments,i=-1,r=DA(n.length-t,0),o=Array(r);++i<r;)o[i]=n[t+i];i=-1;for(var s=Array(t+1);++i<t;)s[i]=n[i];return s[t]=A(o),function(e,t,A){switch(A.length){case 0:return e.call(t);case 1:return e.call(t,A[0]);case 2:return e.call(t,A[0],A[1]);case 3:return e.call(t,A[0],A[1],A[2])}return e.apply(t,A)}(e,this,s)}}(e,t,NA),e+"")},qA=(GA=function(e,t,A){PA(e,t,A)},RA((function(e,t){var A=-1,n=t.length,i=n>1?t[n-1]:void 0,r=n>2?t[2]:void 0;for(i=GA.length>3&&"function"==typeof i?(n--,i):void 0,r&&function(e,t,A){if(!ot(A))return!1;var n=typeof t;return!!("number"==n?oA(A)&&FA(t,A.length):"string"==n&&t in A)&&Ke(A[t],e)}(t[0],t[1],r)&&(i=n<3?void 0:i,n=1),e=Object(e);++A<n;){var o=t[A];o&&GA(e,o,A)}return e})));var GA,WA=(e=>(e[e.TYPE=3]="TYPE",e[e.LEVEL=12]="LEVEL",e[e.ATTRIBUTE=13]="ATTRIBUTE",e[e.BLOT=14]="BLOT",e[e.INLINE=7]="INLINE",e[e.BLOCK=11]="BLOCK",e[e.BLOCK_BLOT=10]="BLOCK_BLOT",e[e.INLINE_BLOT=6]="INLINE_BLOT",e[e.BLOCK_ATTRIBUTE=9]="BLOCK_ATTRIBUTE",e[e.INLINE_ATTRIBUTE=5]="INLINE_ATTRIBUTE",e[e.ANY=15]="ANY",e))(WA||{});class ZA{constructor(e,t,A={}){this.attrName=e,this.keyName=t;const n=WA.TYPE&WA.ATTRIBUTE;this.scope=null!=A.scope?A.scope&WA.LEVEL|n:WA.ATTRIBUTE,null!=A.whitelist&&(this.whitelist=A.whitelist)}static keys(e){return Array.from(e.attributes).map((e=>e.name))}add(e,t){return!!this.canAdd(e,t)&&(e.setAttribute(this.keyName,t),!0)}canAdd(e,t){return null==this.whitelist||("string"==typeof t?this.whitelist.indexOf(t.replace(/["']/g,""))>-1:this.whitelist.indexOf(t)>-1)}remove(e){e.removeAttribute(this.keyName)}value(e){const t=e.getAttribute(this.keyName);return this.canAdd(e,t)&&t?t:""}}class zA extends Error{constructor(e){super(e="[Parchment] "+e),this.message=e,this.name=this.constructor.name}}const JA=class e{constructor(){this.attributes={},this.classes={},this.tags={},this.types={}}static find(e,t=!1){if(null==e)return null;if(this.blots.has(e))return this.blots.get(e)||null;if(t){let A=null;try{A=e.parentNode}catch{return null}return this.find(A,t)}return null}create(t,A,n){const i=this.query(A);if(null==i)throw new zA(`Unable to create ${A} blot`);const r=i,o=A instanceof Node||A.nodeType===Node.TEXT_NODE?A:r.create(n),s=new r(t,o,n);return e.blots.set(s.domNode,s),s}find(t,A=!1){return e.find(t,A)}query(e,t=WA.ANY){let A;return"string"==typeof e?A=this.types[e]||this.attributes[e]:e instanceof Text||e.nodeType===Node.TEXT_NODE?A=this.types.text:"number"==typeof e?e&WA.LEVEL&WA.BLOCK?A=this.types.block:e&WA.LEVEL&WA.INLINE&&(A=this.types.inline):e instanceof Element&&((e.getAttribute("class")||"").split(/\s+/).some((e=>(A=this.classes[e],!!A))),A=A||this.tags[e.tagName]),null==A?null:"scope"in A&&t&WA.LEVEL&A.scope&&t&WA.TYPE&A.scope?A:null}register(...e){return e.map((e=>{const t="blotName"in e,A="attrName"in e;if(!t&&!A)throw new zA("Invalid definition");if(t&&"abstract"===e.blotName)throw new zA("Cannot register abstract class");const n=t?e.blotName:A?e.attrName:void 0;return this.types[n]=e,A?"string"==typeof e.keyName&&(this.attributes[e.keyName]=e):t&&(e.className&&(this.classes[e.className]=e),e.tagName&&(Array.isArray(e.tagName)?e.tagName=e.tagName.map((e=>e.toUpperCase())):e.tagName=e.tagName.toUpperCase(),(Array.isArray(e.tagName)?e.tagName:[e.tagName]).forEach((t=>{(null==this.tags[t]||null==e.className)&&(this.tags[t]=e)})))),e}))}};JA.blots=new WeakMap;let XA=JA;function YA(e,t){return(e.getAttribute("class")||"").split(/\s+/).filter((e=>0===e.indexOf(`${t}-`)))}const en=class extends ZA{static keys(e){return(e.getAttribute("class")||"").split(/\s+/).map((e=>e.split("-").slice(0,-1).join("-")))}add(e,t){return!!this.canAdd(e,t)&&(this.remove(e),e.classList.add(`${this.keyName}-${t}`),!0)}remove(e){YA(e,this.keyName).forEach((t=>{e.classList.remove(t)})),0===e.classList.length&&e.removeAttribute("class")}value(e){const t=(YA(e,this.keyName)[0]||"").slice(this.keyName.length+1);return this.canAdd(e,t)?t:""}};function tn(e){const t=e.split("-"),A=t.slice(1).map((e=>e[0].toUpperCase()+e.slice(1))).join("");return t[0]+A}const An=class extends ZA{static keys(e){return(e.getAttribute("style")||"").split(";").map((e=>e.split(":")[0].trim()))}add(e,t){return!!this.canAdd(e,t)&&(e.style[tn(this.keyName)]=t,!0)}remove(e){e.style[tn(this.keyName)]="",e.getAttribute("style")||e.removeAttribute("style")}value(e){const t=e.style[tn(this.keyName)];return this.canAdd(e,t)?t:""}},nn=class{constructor(e){this.attributes={},this.domNode=e,this.build()}attribute(e,t){t?e.add(this.domNode,t)&&(null!=e.value(this.domNode)?this.attributes[e.attrName]=e:delete this.attributes[e.attrName]):(e.remove(this.domNode),delete this.attributes[e.attrName])}build(){this.attributes={};const e=XA.find(this.domNode);if(null==e)return;const t=ZA.keys(this.domNode),A=en.keys(this.domNode),n=An.keys(this.domNode);t.concat(A).concat(n).forEach((t=>{const A=e.scroll.query(t,WA.ATTRIBUTE);A instanceof ZA&&(this.attributes[A.attrName]=A)}))}copy(e){Object.keys(this.attributes).forEach((t=>{const A=this.attributes[t].value(this.domNode);e.format(t,A)}))}move(e){this.copy(e),Object.keys(this.attributes).forEach((e=>{this.attributes[e].remove(this.domNode)})),this.attributes={}}values(){return Object.keys(this.attributes).reduce(((e,t)=>(e[t]=this.attributes[t].value(this.domNode),e)),{})}},rn=class{constructor(e,t){this.scroll=e,this.domNode=t,XA.blots.set(t,this),this.prev=null,this.next=null}static create(e){if(null==this.tagName)throw new zA("Blot definition missing tagName");let t,A;return Array.isArray(this.tagName)?("string"==typeof e?(A=e.toUpperCase(),parseInt(A,10).toString()===A&&(A=parseInt(A,10))):"number"==typeof e&&(A=e),t="number"==typeof A?document.createElement(this.tagName[A-1]):A&&this.tagName.indexOf(A)>-1?document.createElement(A):document.createElement(this.tagName[0])):t=document.createElement(this.tagName),this.className&&t.classList.add(this.className),t}get statics(){return this.constructor}attach(){}clone(){const e=this.domNode.cloneNode(!1);return this.scroll.create(e)}detach(){null!=this.parent&&this.parent.removeChild(this),XA.blots.delete(this.domNode)}deleteAt(e,t){this.isolate(e,t).remove()}formatAt(e,t,A,n){const i=this.isolate(e,t);if(null!=this.scroll.query(A,WA.BLOT)&&n)i.wrap(A,n);else if(null!=this.scroll.query(A,WA.ATTRIBUTE)){const e=this.scroll.create(this.statics.scope);i.wrap(e),e.format(A,n)}}insertAt(e,t,A){const n=null==A?this.scroll.create("text",t):this.scroll.create(t,A),i=this.split(e);this.parent.insertBefore(n,i||void 0)}isolate(e,t){const A=this.split(e);if(null==A)throw new Error("Attempt to isolate at end");return A.split(t),A}length(){return 1}offset(e=this.parent){return null==this.parent||this===e?0:this.parent.children.offset(this)+this.parent.offset(e)}optimize(e){this.statics.requiredContainer&&!(this.parent instanceof this.statics.requiredContainer)&&this.wrap(this.statics.requiredContainer.blotName)}remove(){null!=this.domNode.parentNode&&this.domNode.parentNode.removeChild(this.domNode),this.detach()}replaceWith(e,t){const A="string"==typeof e?this.scroll.create(e,t):e;return null!=this.parent&&(this.parent.insertBefore(A,this.next||void 0),this.remove()),A}split(e,t){return 0===e?this:this.next}update(e,t){}wrap(e,t){const A="string"==typeof e?this.scroll.create(e,t):e;if(null!=this.parent&&this.parent.insertBefore(A,this.next||void 0),"function"!=typeof A.appendChild)throw new zA(`Cannot wrap ${e}`);return A.appendChild(this),A}};rn.blotName="abstract";let on=rn;const sn=class extends on{static value(e){return!0}index(e,t){return this.domNode===e||this.domNode.compareDocumentPosition(e)&Node.DOCUMENT_POSITION_CONTAINED_BY?Math.min(t,1):-1}position(e,t){let A=Array.from(this.parent.domNode.childNodes).indexOf(this.domNode);return e>0&&(A+=1),[this.parent.domNode,A]}value(){return{[this.statics.blotName]:this.statics.value(this.domNode)||!0}}};sn.scope=WA.INLINE_BLOT;const an=sn;class ln{constructor(){this.head=null,this.tail=null,this.length=0}append(...e){if(this.insertBefore(e[0],null),e.length>1){const t=e.slice(1);this.append(...t)}}at(e){const t=this.iterator();let A=t();for(;A&&e>0;)e-=1,A=t();return A}contains(e){const t=this.iterator();let A=t();for(;A;){if(A===e)return!0;A=t()}return!1}indexOf(e){const t=this.iterator();let A=t(),n=0;for(;A;){if(A===e)return n;n+=1,A=t()}return-1}insertBefore(e,t){null!=e&&(this.remove(e),e.next=t,null!=t?(e.prev=t.prev,null!=t.prev&&(t.prev.next=e),t.prev=e,t===this.head&&(this.head=e)):null!=this.tail?(this.tail.next=e,e.prev=this.tail,this.tail=e):(e.prev=null,this.head=this.tail=e),this.length+=1)}offset(e){let t=0,A=this.head;for(;null!=A;){if(A===e)return t;t+=A.length(),A=A.next}return-1}remove(e){this.contains(e)&&(null!=e.prev&&(e.prev.next=e.next),null!=e.next&&(e.next.prev=e.prev),e===this.head&&(this.head=e.next),e===this.tail&&(this.tail=e.prev),this.length-=1)}iterator(e=this.head){return()=>{const t=e;return null!=e&&(e=e.next),t}}find(e,t=!1){const A=this.iterator();let n=A();for(;n;){const i=n.length();if(e<i||t&&e===i&&(null==n.next||0!==n.next.length()))return[n,e];e-=i,n=A()}return[null,0]}forEach(e){const t=this.iterator();let A=t();for(;A;)e(A),A=t()}forEachAt(e,t,A){if(t<=0)return;const[n,i]=this.find(e);let r=e-i;const o=this.iterator(n);let s=o();for(;s&&r<e+t;){const n=s.length();e>r?A(s,e-r,Math.min(t,r+n-e)):A(s,0,Math.min(n,e+t-r)),r+=n,s=o()}}map(e){return this.reduce(((t,A)=>(t.push(e(A)),t)),[])}reduce(e,t){const A=this.iterator();let n=A();for(;n;)t=e(t,n),n=A();return t}}function cn(e,t){const A=t.find(e);if(A)return A;try{return t.create(e)}catch{const A=t.create(WA.INLINE);return Array.from(e.childNodes).forEach((e=>{A.domNode.appendChild(e)})),e.parentNode&&e.parentNode.replaceChild(A.domNode,e),A.attach(),A}}const dn=class e extends on{constructor(e,t){super(e,t),this.uiNode=null,this.build()}appendChild(e){this.insertBefore(e)}attach(){super.attach(),this.children.forEach((e=>{e.attach()}))}attachUI(t){null!=this.uiNode&&this.uiNode.remove(),this.uiNode=t,e.uiClass&&this.uiNode.classList.add(e.uiClass),this.uiNode.setAttribute("contenteditable","false"),this.domNode.insertBefore(this.uiNode,this.domNode.firstChild)}build(){this.children=new ln,Array.from(this.domNode.childNodes).filter((e=>e!==this.uiNode)).reverse().forEach((e=>{try{const t=cn(e,this.scroll);this.insertBefore(t,this.children.head||void 0)}catch(e){if(e instanceof zA)return;throw e}}))}deleteAt(e,t){if(0===e&&t===this.length())return this.remove();this.children.forEachAt(e,t,((e,t,A)=>{e.deleteAt(t,A)}))}descendant(t,A=0){const[n,i]=this.children.find(A);return null==t.blotName&&t(n)||null!=t.blotName&&n instanceof t?[n,i]:n instanceof e?n.descendant(t,i):[null,-1]}descendants(t,A=0,n=Number.MAX_VALUE){let i=[],r=n;return this.children.forEachAt(A,n,((A,n,o)=>{(null==t.blotName&&t(A)||null!=t.blotName&&A instanceof t)&&i.push(A),A instanceof e&&(i=i.concat(A.descendants(t,n,r))),r-=o})),i}detach(){this.children.forEach((e=>{e.detach()})),super.detach()}enforceAllowedChildren(){let t=!1;this.children.forEach((A=>{t||this.statics.allowedChildren.some((e=>A instanceof e))||(A.statics.scope===WA.BLOCK_BLOT?(null!=A.next&&this.splitAfter(A),null!=A.prev&&this.splitAfter(A.prev),A.parent.unwrap(),t=!0):A instanceof e?A.unwrap():A.remove())}))}formatAt(e,t,A,n){this.children.forEachAt(e,t,((e,t,i)=>{e.formatAt(t,i,A,n)}))}insertAt(e,t,A){const[n,i]=this.children.find(e);if(n)n.insertAt(i,t,A);else{const e=null==A?this.scroll.create("text",t):this.scroll.create(t,A);this.appendChild(e)}}insertBefore(e,t){null!=e.parent&&e.parent.children.remove(e);let A=null;this.children.insertBefore(e,t||null),e.parent=this,null!=t&&(A=t.domNode),(this.domNode.parentNode!==e.domNode||this.domNode.nextSibling!==A)&&this.domNode.insertBefore(e.domNode,A),e.attach()}length(){return this.children.reduce(((e,t)=>e+t.length()),0)}moveChildren(e,t){this.children.forEach((A=>{e.insertBefore(A,t)}))}optimize(e){if(super.optimize(e),this.enforceAllowedChildren(),null!=this.uiNode&&this.uiNode!==this.domNode.firstChild&&this.domNode.insertBefore(this.uiNode,this.domNode.firstChild),0===this.children.length)if(null!=this.statics.defaultChild){const e=this.scroll.create(this.statics.defaultChild.blotName);this.appendChild(e)}else this.remove()}path(t,A=!1){const[n,i]=this.children.find(t,A),r=[[this,t]];return n instanceof e?r.concat(n.path(i,A)):(null!=n&&r.push([n,i]),r)}removeChild(e){this.children.remove(e)}replaceWith(t,A){const n="string"==typeof t?this.scroll.create(t,A):t;return n instanceof e&&this.moveChildren(n),super.replaceWith(n)}split(e,t=!1){if(!t){if(0===e)return this;if(e===this.length())return this.next}const A=this.clone();return this.parent&&this.parent.insertBefore(A,this.next||void 0),this.children.forEachAt(e,this.length(),((e,n,i)=>{const r=e.split(n,t);null!=r&&A.appendChild(r)})),A}splitAfter(e){const t=this.clone();for(;null!=e.next;)t.appendChild(e.next);return this.parent&&this.parent.insertBefore(t,this.next||void 0),t}unwrap(){this.parent&&this.moveChildren(this.parent,this.next||void 0),this.remove()}update(e,t){const A=[],n=[];e.forEach((e=>{e.target===this.domNode&&"childList"===e.type&&(A.push(...e.addedNodes),n.push(...e.removedNodes))})),n.forEach((e=>{if(null!=e.parentNode&&"IFRAME"!==e.tagName&&document.body.compareDocumentPosition(e)&Node.DOCUMENT_POSITION_CONTAINED_BY)return;const t=this.scroll.find(e);null!=t&&(null==t.domNode.parentNode||t.domNode.parentNode===this.domNode)&&t.detach()})),A.filter((e=>e.parentNode===this.domNode&&e!==this.uiNode)).sort(((e,t)=>e===t?0:e.compareDocumentPosition(t)&Node.DOCUMENT_POSITION_FOLLOWING?1:-1)).forEach((e=>{let t=null;null!=e.nextSibling&&(t=this.scroll.find(e.nextSibling));const A=cn(e,this.scroll);(A.next!==t||null==A.next)&&(null!=A.parent&&A.parent.removeChild(this),this.insertBefore(A,t||void 0))})),this.enforceAllowedChildren()}};dn.uiClass="";const un=dn,hn=class e extends un{static create(e){return super.create(e)}static formats(t,A){const n=A.query(e.blotName);if(null==n||t.tagName!==n.tagName){if("string"==typeof this.tagName)return!0;if(Array.isArray(this.tagName))return t.tagName.toLowerCase()}}constructor(e,t){super(e,t),this.attributes=new nn(this.domNode)}format(t,A){if(t!==this.statics.blotName||A){const e=this.scroll.query(t,WA.INLINE);if(null==e)return;e instanceof ZA?this.attributes.attribute(e,A):A&&(t!==this.statics.blotName||this.formats()[t]!==A)&&this.replaceWith(t,A)}else this.children.forEach((t=>{t instanceof e||(t=t.wrap(e.blotName,!0)),this.attributes.copy(t)})),this.unwrap()}formats(){const e=this.attributes.values(),t=this.statics.formats(this.domNode,this.scroll);return null!=t&&(e[this.statics.blotName]=t),e}formatAt(e,t,A,n){null!=this.formats()[A]||this.scroll.query(A,WA.ATTRIBUTE)?this.isolate(e,t).format(A,n):super.formatAt(e,t,A,n)}optimize(t){super.optimize(t);const A=this.formats();if(0===Object.keys(A).length)return this.unwrap();const n=this.next;n instanceof e&&n.prev===this&&function(e,t){if(Object.keys(e).length!==Object.keys(t).length)return!1;for(const A in e)if(e[A]!==t[A])return!1;return!0}(A,n.formats())&&(n.moveChildren(this),n.remove())}replaceWith(e,t){const A=super.replaceWith(e,t);return this.attributes.copy(A),A}update(e,t){super.update(e,t),e.some((e=>e.target===this.domNode&&"attributes"===e.type))&&this.attributes.build()}wrap(t,A){const n=super.wrap(t,A);return n instanceof e&&this.attributes.move(n),n}};hn.allowedChildren=[hn,an],hn.blotName="inline",hn.scope=WA.INLINE_BLOT,hn.tagName="SPAN";const pn=hn,gn=class e extends un{static create(e){return super.create(e)}static formats(t,A){const n=A.query(e.blotName);if(null==n||t.tagName!==n.tagName){if("string"==typeof this.tagName)return!0;if(Array.isArray(this.tagName))return t.tagName.toLowerCase()}}constructor(e,t){super(e,t),this.attributes=new nn(this.domNode)}format(t,A){const n=this.scroll.query(t,WA.BLOCK);null!=n&&(n instanceof ZA?this.attributes.attribute(n,A):t!==this.statics.blotName||A?A&&(t!==this.statics.blotName||this.formats()[t]!==A)&&this.replaceWith(t,A):this.replaceWith(e.blotName))}formats(){const e=this.attributes.values(),t=this.statics.formats(this.domNode,this.scroll);return null!=t&&(e[this.statics.blotName]=t),e}formatAt(e,t,A,n){null!=this.scroll.query(A,WA.BLOCK)?this.format(A,n):super.formatAt(e,t,A,n)}insertAt(e,t,A){if(null==A||null!=this.scroll.query(t,WA.INLINE))super.insertAt(e,t,A);else{const n=this.split(e);if(null==n)throw new Error("Attempt to insertAt after block boundaries");{const e=this.scroll.create(t,A);n.parent.insertBefore(e,n)}}}replaceWith(e,t){const A=super.replaceWith(e,t);return this.attributes.copy(A),A}update(e,t){super.update(e,t),e.some((e=>e.target===this.domNode&&"attributes"===e.type))&&this.attributes.build()}};gn.blotName="block",gn.scope=WA.BLOCK_BLOT,gn.tagName="P",gn.allowedChildren=[pn,gn,an];const fn=gn,mn=class extends un{checkMerge(){return null!==this.next&&this.next.statics.blotName===this.statics.blotName}deleteAt(e,t){super.deleteAt(e,t),this.enforceAllowedChildren()}formatAt(e,t,A,n){super.formatAt(e,t,A,n),this.enforceAllowedChildren()}insertAt(e,t,A){super.insertAt(e,t,A),this.enforceAllowedChildren()}optimize(e){super.optimize(e),this.children.length>0&&null!=this.next&&this.checkMerge()&&(this.next.moveChildren(this),this.next.remove())}};mn.blotName="container",mn.scope=WA.BLOCK_BLOT;const vn=mn,Bn=class extends an{static formats(e,t){}format(e,t){super.formatAt(0,this.length(),e,t)}formatAt(e,t,A,n){0===e&&t===this.length()?this.format(A,n):super.formatAt(e,t,A,n)}formats(){return this.statics.formats(this.domNode,this.scroll)}},wn={attributes:!0,characterData:!0,characterDataOldValue:!0,childList:!0,subtree:!0},yn=class extends un{constructor(e,t){super(null,t),this.registry=e,this.scroll=this,this.build(),this.observer=new MutationObserver((e=>{this.update(e)})),this.observer.observe(this.domNode,wn),this.attach()}create(e,t){return this.registry.create(this,e,t)}find(e,t=!1){const A=this.registry.find(e,t);return A?A.scroll===this?A:t?this.find(A.scroll.domNode.parentNode,!0):null:null}query(e,t=WA.ANY){return this.registry.query(e,t)}register(...e){return this.registry.register(...e)}build(){null!=this.scroll&&super.build()}detach(){super.detach(),this.observer.disconnect()}deleteAt(e,t){this.update(),0===e&&t===this.length()?this.children.forEach((e=>{e.remove()})):super.deleteAt(e,t)}formatAt(e,t,A,n){this.update(),super.formatAt(e,t,A,n)}insertAt(e,t,A){this.update(),super.insertAt(e,t,A)}optimize(e=[],t={}){super.optimize(t);const A=t.mutationsMap||new WeakMap;let n=Array.from(this.observer.takeRecords());for(;n.length>0;)e.push(n.pop());const i=(e,t=!0)=>{null==e||e===this||null!=e.domNode.parentNode&&(A.has(e.domNode)||A.set(e.domNode,[]),t&&i(e.parent))},r=e=>{A.has(e.domNode)&&(e instanceof un&&e.children.forEach(r),A.delete(e.domNode),e.optimize(t))};let o=e;for(let t=0;o.length>0;t+=1){if(t>=100)throw new Error("[Parchment] Maximum optimize iterations reached");for(o.forEach((e=>{const t=this.find(e.target,!0);null!=t&&(t.domNode===e.target&&("childList"===e.type?(i(this.find(e.previousSibling,!1)),Array.from(e.addedNodes).forEach((e=>{const t=this.find(e,!1);i(t,!1),t instanceof un&&t.children.forEach((e=>{i(e,!1)}))}))):"attributes"===e.type&&i(t.prev)),i(t))})),this.children.forEach(r),o=Array.from(this.observer.takeRecords()),n=o.slice();n.length>0;)e.push(n.pop())}}update(e,t={}){e=e||this.observer.takeRecords();const A=new WeakMap;e.map((e=>{const t=this.find(e.target,!0);return null==t?null:A.has(t.domNode)?(A.get(t.domNode).push(e),null):(A.set(t.domNode,[e]),t)})).forEach((e=>{null!=e&&e!==this&&A.has(e.domNode)&&e.update(A.get(e.domNode)||[],t)})),t.mutationsMap=A,A.has(this.domNode)&&super.update(A.get(this.domNode),t),this.optimize(e,t)}};yn.blotName="scroll",yn.defaultChild=fn,yn.allowedChildren=[fn,vn],yn.scope=WA.BLOCK_BLOT,yn.tagName="DIV";const Cn=yn,bn=class e extends an{static create(e){return document.createTextNode(e)}static value(e){return e.data}constructor(e,t){super(e,t),this.text=this.statics.value(this.domNode)}deleteAt(e,t){this.domNode.data=this.text=this.text.slice(0,e)+this.text.slice(e+t)}index(e,t){return this.domNode===e?t:-1}insertAt(e,t,A){null==A?(this.text=this.text.slice(0,e)+t+this.text.slice(e),this.domNode.data=this.text):super.insertAt(e,t,A)}length(){return this.text.length}optimize(t){super.optimize(t),this.text=this.statics.value(this.domNode),0===this.text.length?this.remove():this.next instanceof e&&this.next.prev===this&&(this.insertAt(this.length(),this.next.value()),this.next.remove())}position(e,t=!1){return[this.domNode,e]}split(e,t=!1){if(!t){if(0===e)return this;if(e===this.length())return this.next}const A=this.scroll.create(this.domNode.splitText(e));return this.parent.insertBefore(A,this.next||void 0),this.text=this.statics.value(this.domNode),A}update(e,t){e.some((e=>"characterData"===e.type&&e.target===this.domNode))&&(this.text=this.statics.value(this.domNode))}value(){return this.text}};bn.blotName="text",bn.scope=WA.INLINE_BLOT;const In=bn;var En=A(2660);const Qn=Gt(Object.keys,Object);var Un=Object.prototype.hasOwnProperty;const xn=function(e){return oA(e)?LA(e):function(e){if(!zt(e))return Qn(e);var t=[];for(var A in Object(e))Un.call(e,A)&&"constructor"!=A&&t.push(A);return t}(e)},Fn=function(){return[]};var Tn=Object.prototype.propertyIsEnumerable,Ln=Object.getOwnPropertySymbols;const Sn=Ln?function(e){return null==e?[]:(e=Object(e),function(e,t){for(var A=-1,n=null==e?0:e.length,i=0,r=[];++A<n;){var o=e[A];t(o,A,e)&&(r[i++]=o)}return r}(Ln(e),(function(t){return Tn.call(e,t)})))}:Fn,Hn=function(e,t){for(var A=-1,n=t.length,i=e.length;++A<n;)e[i+A]=t[A];return e},Mn=Object.getOwnPropertySymbols?function(e){for(var t=[];e;)Hn(t,Sn(e)),e=Wt(e);return t}:Fn,kn=function(e,t,A){var n=t(e);return iA(e)?n:Hn(n,A(e))},Pn=function(e){return kn(e,xn,Sn)},Nn=function(e){return kn(e,MA,Mn)},Dn=wt(Je,"DataView"),On=wt(Je,"Promise"),_n=wt(Je,"Set"),Vn=wt(Je,"WeakMap");var $n="[object Map]",jn="[object Promise]",Kn="[object Set]",Rn="[object WeakMap]",qn="[object DataView]",Gn=ut(Dn),Wn=ut(yt),Zn=ut(On),zn=ut(_n),Jn=ut(Vn),Xn=rt;(Dn&&Xn(new Dn(new ArrayBuffer(1)))!=qn||yt&&Xn(new yt)!=$n||On&&Xn(On.resolve())!=jn||_n&&Xn(new _n)!=Kn||Vn&&Xn(new Vn)!=Rn)&&(Xn=function(e){var t=rt(e),A="[object Object]"==t?e.constructor:void 0,n=A?ut(A):"";if(n)switch(n){case Gn:return qn;case Wn:return $n;case Zn:return jn;case zn:return Kn;case Jn:return Rn}return t});const Yn=Xn;var ei=Object.prototype.hasOwnProperty;var ti=/\w*$/;var Ai=Xe?Xe.prototype:void 0,ni=Ai?Ai.valueOf:void 0;const ii=function(e,t,A){var n,i,r,o=e.constructor;switch(t){case"[object ArrayBuffer]":return $t(e);case"[object Boolean]":case"[object Date]":return new o(+e);case"[object DataView]":return function(e,t){var A=t?$t(e.buffer):e.buffer;return new e.constructor(A,e.byteOffset,e.byteLength)}(e,A);case"[object Float32Array]":case"[object Float64Array]":case"[object Int8Array]":case"[object Int16Array]":case"[object Int32Array]":case"[object Uint8Array]":case"[object Uint8ClampedArray]":case"[object Uint16Array]":case"[object Uint32Array]":return jt(e,A);case"[object Map]":case"[object Set]":return new o;case"[object Number]":case"[object String]":return new o(e);case"[object RegExp]":return(r=new(i=e).constructor(i.source,ti.exec(i))).lastIndex=i.lastIndex,r;case"[object Symbol]":return n=e,ni?Object(ni.call(n)):{}}};var ri=yA&&yA.isMap;const oi=ri?mA(ri):function(e){return Xt(e)&&"[object Map]"==Yn(e)};var si=yA&&yA.isSet;const ai=si?mA(si):function(e){return Xt(e)&&"[object Set]"==Yn(e)};var li="[object Arguments]",ci="[object Function]",di="[object Object]",ui={};ui[li]=ui["[object Array]"]=ui["[object ArrayBuffer]"]=ui["[object DataView]"]=ui["[object Boolean]"]=ui["[object Date]"]=ui["[object Float32Array]"]=ui["[object Float64Array]"]=ui["[object Int8Array]"]=ui["[object Int16Array]"]=ui["[object Int32Array]"]=ui["[object Map]"]=ui["[object Number]"]=ui[di]=ui["[object RegExp]"]=ui["[object Set]"]=ui["[object String]"]=ui["[object Symbol]"]=ui["[object Uint8Array]"]=ui["[object Uint8ClampedArray]"]=ui["[object Uint16Array]"]=ui["[object Uint32Array]"]=!0,ui["[object Error]"]=ui[ci]=ui["[object WeakMap]"]=!1;const hi=function e(t,A,n,i,r,o){var s,a=1&A,l=2&A,c=4&A;if(n&&(s=r?n(t,i,r,o):n(t)),void 0!==s)return s;if(!ot(t))return t;var d=iA(t);if(d){if(s=function(e){var t=e.length,A=new e.constructor(t);return t&&"string"==typeof e[0]&&ei.call(e,"index")&&(A.index=e.index,A.input=e.input),A}(t),!a)return Kt(t,s)}else{var u=Yn(t),h=u==ci||"[object GeneratorFunction]"==u;if(cA(t))return _t(t,a);if(u==di||u==li||h&&!r){if(s=l||h?{}:Jt(t),!a)return l?function(e,t){return UA(e,Mn(e),t)}(t,function(e,t){return e&&UA(t,MA(t),e)}(s,t)):function(e,t){return UA(e,Sn(e),t)}(t,function(e,t){return e&&UA(t,xn(t),e)}(s,t))}else{if(!ui[u])return r?t:{};s=ii(t,u,a)}}o||(o=new Lt);var p=o.get(t);if(p)return p;o.set(t,s),ai(t)?t.forEach((function(i){s.add(e(i,A,n,i,t,o))})):oi(t)&&t.forEach((function(i,r){s.set(r,e(i,A,n,r,t,o))}));var g=d?void 0:(c?l?Nn:Pn:l?MA:xn)(t);return function(e,t){for(var A=-1,n=null==e?0:e.length;++A<n&&!1!==t(e[A],A,e););}(g||t,(function(i,r){g&&(i=t[r=i]),QA(s,r,e(i,A,n,r,t,o))})),s},pi=function(e){return hi(e,5)};function gi(e){var t=-1,A=null==e?0:e.length;for(this.__data__=new Ft;++t<A;)this.add(e[t])}gi.prototype.add=gi.prototype.push=function(e){return this.__data__.set(e,"__lodash_hash_undefined__"),this},gi.prototype.has=function(e){return this.__data__.has(e)};const fi=gi,mi=function(e,t){for(var A=-1,n=null==e?0:e.length;++A<n;)if(t(e[A],A,e))return!0;return!1},vi=function(e,t,A,n,i,r){var o=1&A,s=e.length,a=t.length;if(s!=a&&!(o&&a>s))return!1;var l=r.get(e),c=r.get(t);if(l&&c)return l==t&&c==e;var d=-1,u=!0,h=2&A?new fi:void 0;for(r.set(e,t),r.set(t,e);++d<s;){var p=e[d],g=t[d];if(n)var f=o?n(g,p,d,t,e,r):n(p,g,d,e,t,r);if(void 0!==f){if(f)continue;u=!1;break}if(h){if(!mi(t,(function(e,t){if(o=t,!h.has(o)&&(p===e||i(p,e,A,n,r)))return h.push(t);var o}))){u=!1;break}}else if(p!==g&&!i(p,g,A,n,r)){u=!1;break}}return r.delete(e),r.delete(t),u},Bi=function(e){var t=-1,A=Array(e.size);return e.forEach((function(e,n){A[++t]=[n,e]})),A},wi=function(e){var t=-1,A=Array(e.size);return e.forEach((function(e){A[++t]=e})),A};var yi=Xe?Xe.prototype:void 0,Ci=yi?yi.valueOf:void 0;var bi=Object.prototype.hasOwnProperty;var Ii="[object Arguments]",Ei="[object Array]",Qi="[object Object]",Ui=Object.prototype.hasOwnProperty;const xi=function(e,t,A,n,i,r){var o=iA(e),s=iA(t),a=o?Ei:Yn(e),l=s?Ei:Yn(t),c=(a=a==Ii?Qi:a)==Qi,d=(l=l==Ii?Qi:l)==Qi,u=a==l;if(u&&cA(e)){if(!cA(t))return!1;o=!0,c=!1}if(u&&!c)return r||(r=new Lt),o||bA(e)?vi(e,t,A,n,i,r):function(e,t,A,n,i,r,o){switch(A){case"[object DataView]":if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case"[object ArrayBuffer]":return!(e.byteLength!=t.byteLength||!r(new Vt(e),new Vt(t)));case"[object Boolean]":case"[object Date]":case"[object Number]":return Ke(+e,+t);case"[object Error]":return e.name==t.name&&e.message==t.message;case"[object RegExp]":case"[object String]":return e==t+"";case"[object Map]":var s=Bi;case"[object Set]":var a=1&n;if(s||(s=wi),e.size!=t.size&&!a)return!1;var l=o.get(e);if(l)return l==t;n|=2,o.set(e,t);var c=vi(s(e),s(t),n,i,r,o);return o.delete(e),c;case"[object Symbol]":if(Ci)return Ci.call(e)==Ci.call(t)}return!1}(e,t,a,A,n,i,r);if(!(1&A)){var h=c&&Ui.call(e,"__wrapped__"),p=d&&Ui.call(t,"__wrapped__");if(h||p){var g=h?e.value():e,f=p?t.value():t;return r||(r=new Lt),i(g,f,A,n,r)}}return!!u&&(r||(r=new Lt),function(e,t,A,n,i,r){var o=1&A,s=Pn(e),a=s.length;if(a!=Pn(t).length&&!o)return!1;for(var l=a;l--;){var c=s[l];if(!(o?c in t:bi.call(t,c)))return!1}var d=r.get(e),u=r.get(t);if(d&&u)return d==t&&u==e;var h=!0;r.set(e,t),r.set(t,e);for(var p=o;++l<a;){var g=e[c=s[l]],f=t[c];if(n)var m=o?n(f,g,c,t,e,r):n(g,f,c,e,t,r);if(!(void 0===m?g===f||i(g,f,A,n,r):m)){h=!1;break}p||(p="constructor"==c)}if(h&&!p){var v=e.constructor,B=t.constructor;v==B||!("constructor"in e)||!("constructor"in t)||"function"==typeof v&&v instanceof v&&"function"==typeof B&&B instanceof B||(h=!1)}return r.delete(e),r.delete(t),h}(e,t,A,n,i,r))},Fi=function e(t,A,n,i,r){return t===A||(null==t||null==A||!Xt(t)&&!Xt(A)?t!=t&&A!=A:xi(t,A,n,i,e,r))},Ti=function(e,t){return Fi(e,t)};class Li extends Bn{static value(){}optimize(){(this.prev||this.next)&&this.remove()}length(){return 0}value(){return""}}Li.blotName="break",Li.tagName="BR";const Si=Li;class Hi extends In{}const Mi={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"};function ki(e){return e.replace(/[&<>"']/g,(e=>Mi[e]))}class Pi extends pn{static allowedChildren=[Pi,Si,Bn,Hi];static order=["cursor","inline","link","underline","strike","italic","bold","script","code"];static compare(e,t){const A=Pi.order.indexOf(e),n=Pi.order.indexOf(t);return A>=0||n>=0?A-n:e===t?0:e<t?-1:1}formatAt(e,t,A,n){if(Pi.compare(this.statics.blotName,A)<0&&this.scroll.query(A,WA.BLOT)){const i=this.isolate(e,t);n&&i.wrap(A,n)}else super.formatAt(e,t,A,n)}optimize(e){if(super.optimize(e),this.parent instanceof Pi&&Pi.compare(this.statics.blotName,this.parent.statics.blotName)>0){const e=this.parent.isolate(this.offset(),this.length());this.moveChildren(e),e.wrap(this)}}}const Ni=Pi;class Di extends fn{cache={};delta(){return null==this.cache.delta&&(this.cache.delta=_i(this)),this.cache.delta}deleteAt(e,t){super.deleteAt(e,t),this.cache={}}formatAt(e,t,A,n){t<=0||(this.scroll.query(A,WA.BLOCK)?e+t===this.length()&&this.format(A,n):super.formatAt(e,Math.min(t,this.length()-e-1),A,n),this.cache={})}insertAt(e,t,A){if(null!=A)return super.insertAt(e,t,A),void(this.cache={});if(0===t.length)return;const n=t.split("\n"),i=n.shift();i.length>0&&(e<this.length()-1||null==this.children.tail?super.insertAt(Math.min(e,this.length()-1),i):this.children.tail.insertAt(this.children.tail.length(),i),this.cache={});let r=this;n.reduce(((e,t)=>(r=r.split(e,!0),r.insertAt(0,t),t.length)),e+i.length)}insertBefore(e,t){const{head:A}=this.children;super.insertBefore(e,t),A instanceof Si&&A.remove(),this.cache={}}length(){return null==this.cache.length&&(this.cache.length=super.length()+1),this.cache.length}moveChildren(e,t){super.moveChildren(e,t),this.cache={}}optimize(e){super.optimize(e),this.cache={}}path(e){return super.path(e,!0)}removeChild(e){super.removeChild(e),this.cache={}}split(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(t&&(0===e||e>=this.length()-1)){const t=this.clone();return 0===e?(this.parent.insertBefore(t,this),this):(this.parent.insertBefore(t,this.next),t)}const A=super.split(e,t);return this.cache={},A}}Di.blotName="block",Di.tagName="P",Di.defaultChild=Si,Di.allowedChildren=[Si,Ni,Bn,Hi];class Oi extends Bn{attach(){super.attach(),this.attributes=new nn(this.domNode)}delta(){return(new En).insert(this.value(),{...this.formats(),...this.attributes.values()})}format(e,t){const A=this.scroll.query(e,WA.BLOCK_ATTRIBUTE);null!=A&&this.attributes.attribute(A,t)}formatAt(e,t,A,n){this.format(A,n)}insertAt(e,t,A){if(null!=A)return void super.insertAt(e,t,A);const n=t.split("\n"),i=n.pop(),r=n.map((e=>{const t=this.scroll.create(Di.blotName);return t.insertAt(0,e),t})),o=this.split(e);r.forEach((e=>{this.parent.insertBefore(e,o)})),i&&this.parent.insertBefore(this.scroll.create("text",i),o)}}function _i(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return e.descendants(an).reduce(((e,A)=>0===A.length()?e:e.insert(A.value(),Vi(A,{},t))),new En).insert("\n",Vi(e))}function Vi(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},A=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];return null==e?t:("formats"in e&&"function"==typeof e.formats&&(t={...t,...e.formats()},A&&delete t["code-token"]),null==e.parent||"scroll"===e.parent.statics.blotName||e.parent.statics.scope!==e.statics.scope?t:Vi(e.parent,t,A))}Oi.scope=WA.BLOCK_BLOT;class $i extends Bn{static blotName="cursor";static className="ql-cursor";static tagName="span";static CONTENTS="\ufeff";static value(){}constructor(e,t,A){super(e,t),this.selection=A,this.textNode=document.createTextNode($i.CONTENTS),this.domNode.appendChild(this.textNode),this.savedLength=0}detach(){null!=this.parent&&this.parent.removeChild(this)}format(e,t){if(0!==this.savedLength)return void super.format(e,t);let A=this,n=0;for(;null!=A&&A.statics.scope!==WA.BLOCK_BLOT;)n+=A.offset(A.parent),A=A.parent;null!=A&&(this.savedLength=$i.CONTENTS.length,A.optimize(),A.formatAt(n,$i.CONTENTS.length,e,t),this.savedLength=0)}index(e,t){return e===this.textNode?0:super.index(e,t)}length(){return this.savedLength}position(){return[this.textNode,this.textNode.data.length]}remove(){super.remove(),this.parent=null}restore(){if(this.selection.composing||null==this.parent)return null;const e=this.selection.getNativeRange();for(;null!=this.domNode.lastChild&&this.domNode.lastChild!==this.textNode;)this.domNode.parentNode.insertBefore(this.domNode.lastChild,this.domNode);const t=this.prev instanceof Hi?this.prev:null,A=t?t.length():0,n=this.next instanceof Hi?this.next:null,i=n?n.text:"",{textNode:r}=this,o=r.data.split($i.CONTENTS).join("");let s;if(r.data=$i.CONTENTS,t)s=t,(o||n)&&(t.insertAt(t.length(),o+i),n&&n.remove());else if(n)s=n,n.insertAt(0,o);else{const e=document.createTextNode(o);s=this.scroll.create(e),this.parent.insertBefore(s,this)}if(this.remove(),e){const i=(e,i)=>t&&e===t.domNode?i:e===r?A+i-1:n&&e===n.domNode?A+o.length+i:null,a=i(e.start.node,e.start.offset),l=i(e.end.node,e.end.offset);if(null!==a&&null!==l)return{startNode:s.domNode,startOffset:a,endNode:s.domNode,endOffset:l}}return null}update(e,t){if(e.some((e=>"characterData"===e.type&&e.target===this.textNode))){const e=this.restore();e&&(t.range=e)}}optimize(e){super.optimize(e);let{parent:t}=this;for(;t;){if("A"===t.domNode.tagName){this.savedLength=$i.CONTENTS.length,t.isolate(this.offset(t),this.length()).unwrap(),this.savedLength=0;break}t=t.parent}}value(){return""}}const ji=$i;var Ki=A(3697);const Ri=new WeakMap,qi=["error","warn","log","info"];let Gi="warn";function Wi(e){if(Gi&&qi.indexOf(e)<=qi.indexOf(Gi)){for(var t=arguments.length,A=new Array(t>1?t-1:0),n=1;n<t;n++)A[n-1]=arguments[n];console[e](...A)}}function Zi(e){return qi.reduce(((t,A)=>(t[A]=Wi.bind(console,A,e),t)),{})}Zi.level=e=>{Gi=e},Wi.level=Zi.level;const zi=Zi,Ji=zi("quill:events");["selectionchange","mousedown","mouseup","click"].forEach((e=>{document.addEventListener(e,(function(){for(var e=arguments.length,t=new Array(e),A=0;A<e;A++)t[A]=arguments[A];Array.from(document.querySelectorAll(".ql-container")).forEach((e=>{const A=Ri.get(e);A&&A.emitter&&A.emitter.handleDOM(...t)}))}))}));const Xi=class extends Ki{static events={EDITOR_CHANGE:"editor-change",SCROLL_BEFORE_UPDATE:"scroll-before-update",SCROLL_BLOT_MOUNT:"scroll-blot-mount",SCROLL_BLOT_UNMOUNT:"scroll-blot-unmount",SCROLL_OPTIMIZE:"scroll-optimize",SCROLL_UPDATE:"scroll-update",SCROLL_EMBED_UPDATE:"scroll-embed-update",SELECTION_CHANGE:"selection-change",TEXT_CHANGE:"text-change",COMPOSITION_BEFORE_START:"composition-before-start",COMPOSITION_START:"composition-start",COMPOSITION_BEFORE_END:"composition-before-end",COMPOSITION_END:"composition-end"};static sources={API:"api",SILENT:"silent",USER:"user"};constructor(){super(),this.domListeners={},this.on("error",Ji.error)}emit(){for(var e=arguments.length,t=new Array(e),A=0;A<e;A++)t[A]=arguments[A];return Ji.log.call(Ji,...t),super.emit(...t)}handleDOM(e){for(var t=arguments.length,A=new Array(t>1?t-1:0),n=1;n<t;n++)A[n-1]=arguments[n];(this.domListeners[e.type]||[]).forEach((t=>{let{node:n,handler:i}=t;(e.target===n||n.contains(e.target))&&i(e,...A)}))}listenDOM(e,t,A){this.domListeners[e]||(this.domListeners[e]=[]),this.domListeners[e].push({node:t,handler:A})}},Yi=zi("quill:selection");class er{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;this.index=e,this.length=t}}function tr(e,t){try{t.parentNode}catch(e){return!1}return e.contains(t)}const Ar=class{constructor(e,t){this.emitter=t,this.scroll=e,this.composing=!1,this.mouseDown=!1,this.root=this.scroll.domNode,this.cursor=this.scroll.create("cursor",this),this.savedRange=new er(0,0),this.lastRange=this.savedRange,this.lastNative=null,this.handleComposition(),this.handleDragging(),this.emitter.listenDOM("selectionchange",document,(()=>{this.mouseDown||this.composing||setTimeout(this.update.bind(this,Xi.sources.USER),1)})),this.emitter.on(Xi.events.SCROLL_BEFORE_UPDATE,(()=>{if(!this.hasFocus())return;const e=this.getNativeRange();null!=e&&e.start.node!==this.cursor.textNode&&this.emitter.once(Xi.events.SCROLL_UPDATE,((t,A)=>{try{this.root.contains(e.start.node)&&this.root.contains(e.end.node)&&this.setNativeRange(e.start.node,e.start.offset,e.end.node,e.end.offset);const n=A.some((e=>"characterData"===e.type||"childList"===e.type||"attributes"===e.type&&e.target===this.root));this.update(n?Xi.sources.SILENT:t)}catch(e){}}))})),this.emitter.on(Xi.events.SCROLL_OPTIMIZE,((e,t)=>{if(t.range){const{startNode:e,startOffset:A,endNode:n,endOffset:i}=t.range;this.setNativeRange(e,A,n,i),this.update(Xi.sources.SILENT)}})),this.update(Xi.sources.SILENT)}handleComposition(){this.emitter.on(Xi.events.COMPOSITION_BEFORE_START,(()=>{this.composing=!0})),this.emitter.on(Xi.events.COMPOSITION_END,(()=>{if(this.composing=!1,this.cursor.parent){const e=this.cursor.restore();if(!e)return;setTimeout((()=>{this.setNativeRange(e.startNode,e.startOffset,e.endNode,e.endOffset)}),1)}}))}handleDragging(){this.emitter.listenDOM("mousedown",document.body,(()=>{this.mouseDown=!0})),this.emitter.listenDOM("mouseup",document.body,(()=>{this.mouseDown=!1,this.update(Xi.sources.USER)}))}focus(){this.hasFocus()||(this.root.focus({preventScroll:!0}),this.setRange(this.savedRange))}format(e,t){this.scroll.update();const A=this.getNativeRange();if(null!=A&&A.native.collapsed&&!this.scroll.query(e,WA.BLOCK)){if(A.start.node!==this.cursor.textNode){const e=this.scroll.find(A.start.node,!1);if(null==e)return;if(e instanceof an){const t=e.split(A.start.offset);e.parent.insertBefore(this.cursor,t)}else e.insertBefore(this.cursor,A.start.node);this.cursor.attach()}this.cursor.format(e,t),this.scroll.optimize(),this.setNativeRange(this.cursor.textNode,this.cursor.textNode.data.length),this.update()}}getBounds(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;const A=this.scroll.length();let n;e=Math.min(e,A-1),t=Math.min(e+t,A-1)-e;let[i,r]=this.scroll.leaf(e);if(null==i)return null;if(t>0&&r===i.length()){const[t]=this.scroll.leaf(e+1);if(t){const[A]=this.scroll.line(e),[n]=this.scroll.line(e+1);A===n&&(i=t,r=0)}}[n,r]=i.position(r,!0);const o=document.createRange();if(t>0)return o.setStart(n,r),[i,r]=this.scroll.leaf(e+t),null==i?null:([n,r]=i.position(r,!0),o.setEnd(n,r),o.getBoundingClientRect());let s,a="left";if(n instanceof Text){if(!n.data.length)return null;r<n.data.length?(o.setStart(n,r),o.setEnd(n,r+1)):(o.setStart(n,r-1),o.setEnd(n,r),a="right"),s=o.getBoundingClientRect()}else{if(!(i.domNode instanceof Element))return null;s=i.domNode.getBoundingClientRect(),r>0&&(a="right")}return{bottom:s.top+s.height,height:s.height,left:s[a],right:s[a],top:s.top,width:0}}getNativeRange(){const e=document.getSelection();if(null==e||e.rangeCount<=0)return null;const t=e.getRangeAt(0);if(null==t)return null;const A=this.normalizeNative(t);return Yi.info("getNativeRange",A),A}getRange(){const e=this.scroll.domNode;if("isConnected"in e&&!e.isConnected)return[null,null];const t=this.getNativeRange();return null==t?[null,null]:[this.normalizedToRange(t),t]}hasFocus(){return document.activeElement===this.root||null!=document.activeElement&&tr(this.root,document.activeElement)}normalizedToRange(e){const t=[[e.start.node,e.start.offset]];e.native.collapsed||t.push([e.end.node,e.end.offset]);const A=t.map((e=>{const[t,A]=e,n=this.scroll.find(t,!0),i=n.offset(this.scroll);return 0===A?i:n instanceof an?i+n.index(t,A):i+n.length()})),n=Math.min(Math.max(...A),this.scroll.length()-1),i=Math.min(n,...A);return new er(i,n-i)}normalizeNative(e){if(!tr(this.root,e.startContainer)||!e.collapsed&&!tr(this.root,e.endContainer))return null;const t={start:{node:e.startContainer,offset:e.startOffset},end:{node:e.endContainer,offset:e.endOffset},native:e};return[t.start,t.end].forEach((e=>{let{node:t,offset:A}=e;for(;!(t instanceof Text)&&t.childNodes.length>0;)if(t.childNodes.length>A)t=t.childNodes[A],A=0;else{if(t.childNodes.length!==A)break;t=t.lastChild,A=t instanceof Text?t.data.length:t.childNodes.length>0?t.childNodes.length:t.childNodes.length+1}e.node=t,e.offset=A})),t}rangeToNative(e){const t=this.scroll.length(),A=(e,A)=>{e=Math.min(t-1,e);const[n,i]=this.scroll.leaf(e);return n?n.position(i,A):[null,-1]};return[...A(e.index,!1),...A(e.index+e.length,!0)]}setNativeRange(e,t){let A=arguments.length>2&&void 0!==arguments[2]?arguments[2]:e,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:t,i=arguments.length>4&&void 0!==arguments[4]&&arguments[4];if(Yi.info("setNativeRange",e,t,A,n),null!=e&&(null==this.root.parentNode||null==e.parentNode||null==A.parentNode))return;const r=document.getSelection();if(null!=r)if(null!=e){this.hasFocus()||this.root.focus({preventScroll:!0});const{native:o}=this.getNativeRange()||{};if(null==o||i||e!==o.startContainer||t!==o.startOffset||A!==o.endContainer||n!==o.endOffset){e instanceof Element&&"BR"===e.tagName&&(t=Array.from(e.parentNode.childNodes).indexOf(e),e=e.parentNode),A instanceof Element&&"BR"===A.tagName&&(n=Array.from(A.parentNode.childNodes).indexOf(A),A=A.parentNode);const i=document.createRange();i.setStart(e,t),i.setEnd(A,n),r.removeAllRanges(),r.addRange(i)}}else r.removeAllRanges(),this.root.blur()}setRange(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],A=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Xi.sources.API;if("string"==typeof t&&(A=t,t=!1),Yi.info("setRange",e),null!=e){const A=this.rangeToNative(e);this.setNativeRange(...A,t)}else this.setNativeRange(null);this.update(A)}update(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Xi.sources.USER;const t=this.lastRange,[A,n]=this.getRange();if(this.lastRange=A,this.lastNative=n,null!=this.lastRange&&(this.savedRange=this.lastRange),!Ti(t,this.lastRange)){if(!this.composing&&null!=n&&n.native.collapsed&&n.start.node!==this.cursor.textNode){const e=this.cursor.restore();e&&this.setNativeRange(e.startNode,e.startOffset,e.endNode,e.endOffset)}const A=[Xi.events.SELECTION_CHANGE,pi(this.lastRange),pi(t),e];this.emitter.emit(Xi.events.EDITOR_CHANGE,...A),e!==Xi.sources.SILENT&&this.emitter.emit(...A)}}},nr=/^[ -~]*$/;function ir(e,t,A){if(0===e.length){const[e]=sr(A.pop());return t<=0?`</li></${e}>`:`</li></${e}>${ir([],t-1,A)}`}const[{child:n,offset:i,length:r,indent:o,type:s},...a]=e,[l,c]=sr(s);if(o>t)return A.push(s),o===t+1?`<${l}><li${c}>${rr(n,i,r)}${ir(a,o,A)}`:`<${l}><li>${ir(e,t+1,A)}`;const d=A[A.length-1];if(o===t&&s===d)return`</li><li${c}>${rr(n,i,r)}${ir(a,o,A)}`;const[u]=sr(A.pop());return`</li></${u}>${ir(e,t-1,A)}`}function rr(e,t,A){let n=arguments.length>3&&void 0!==arguments[3]&&arguments[3];if("html"in e&&"function"==typeof e.html)return e.html(t,A);if(e instanceof Hi)return ki(e.value().slice(t,t+A)).replaceAll(" ","&nbsp;");if(e instanceof un){if("list-container"===e.statics.blotName){const n=[];return e.children.forEachAt(t,A,((e,t,A)=>{const i="formats"in e&&"function"==typeof e.formats?e.formats():{};n.push({child:e,offset:t,length:A,indent:i.indent||0,type:i.list})})),ir(n,-1,[])}const i=[];if(e.children.forEachAt(t,A,((e,t,A)=>{i.push(rr(e,t,A))})),n||"list"===e.statics.blotName)return i.join("");const{outerHTML:r,innerHTML:o}=e.domNode,[s,a]=r.split(`>${o}<`);return"<table"===s?`<table style="border: 1px solid #000;">${i.join("")}<${a}`:`${s}>${i.join("")}<${a}`}return e.domNode instanceof Element?e.domNode.outerHTML:""}function or(e,t){return Object.keys(t).reduce(((A,n)=>{if(null==e[n])return A;const i=t[n];return i===e[n]?A[n]=i:Array.isArray(i)?i.indexOf(e[n])<0?A[n]=i.concat([e[n]]):A[n]=i:A[n]=[i,e[n]],A}),{})}function sr(e){const t="ordered"===e?"ol":"ul";switch(e){case"checked":return[t,' data-list="checked"'];case"unchecked":return[t,' data-list="unchecked"'];default:return[t,""]}}function ar(e){return e.reduce(((e,t)=>{if("string"==typeof t.insert){const A=t.insert.replace(/\r\n/g,"\n").replace(/\r/g,"\n");return e.insert(A,t.attributes)}return e.push(t)}),new En)}function lr(e,t){let{index:A,length:n}=e;return new er(A+t,n)}const cr=class{constructor(e){this.scroll=e,this.delta=this.getDelta()}applyDelta(e){this.scroll.update();let t=this.scroll.length();this.scroll.batchStart();const A=ar(e),n=new En;return function(e){const t=[];return e.forEach((e=>{"string"==typeof e.insert?e.insert.split("\n").forEach(((A,n)=>{n&&t.push({insert:"\n",attributes:e.attributes}),A&&t.push({insert:A,attributes:e.attributes})})):t.push(e)})),t}(A.ops.slice()).reduce(((e,A)=>{const i=En.Op.length(A);let r=A.attributes||{},o=!1,s=!1;if(null!=A.insert){if(n.retain(i),"string"==typeof A.insert){const n=A.insert;s=!n.endsWith("\n")&&(t<=e||!!this.scroll.descendant(Oi,e)[0]),this.scroll.insertAt(e,n);const[i,o]=this.scroll.line(e);let a=qA({},Vi(i));if(i instanceof Di){const[e]=i.descendant(an,o);e&&(a=qA(a,Vi(e)))}r=En.AttributeMap.diff(a,r)||{}}else if("object"==typeof A.insert){const n=Object.keys(A.insert)[0];if(null==n)return e;const i=null!=this.scroll.query(n,WA.INLINE);if(i)(t<=e||this.scroll.descendant(Oi,e)[0])&&(s=!0);else if(e>0){const[t,A]=this.scroll.descendant(an,e-1);t instanceof Hi?"\n"!==t.value()[A]&&(o=!0):t instanceof Bn&&t.statics.scope===WA.INLINE_BLOT&&(o=!0)}if(this.scroll.insertAt(e,n,A.insert[n]),i){const[t]=this.scroll.descendant(an,e);if(t){const e=qA({},Vi(t));r=En.AttributeMap.diff(e,r)||{}}}}t+=i}else if(n.push(A),null!==A.retain&&"object"==typeof A.retain){const t=Object.keys(A.retain)[0];if(null==t)return e;this.scroll.updateEmbedAt(e,t,A.retain[t])}Object.keys(r).forEach((t=>{this.scroll.formatAt(e,i,t,r[t])}));const a=o?1:0,l=s?1:0;return t+=a+l,n.retain(a),n.delete(l),e+i+a+l}),0),n.reduce(((e,t)=>"number"==typeof t.delete?(this.scroll.deleteAt(e,t.delete),e):e+En.Op.length(t)),0),this.scroll.batchEnd(),this.scroll.optimize(),this.update(A)}deleteText(e,t){return this.scroll.deleteAt(e,t),this.update((new En).retain(e).delete(t))}formatLine(e,t){let A=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};this.scroll.update(),Object.keys(A).forEach((n=>{this.scroll.lines(e,Math.max(t,1)).forEach((e=>{e.format(n,A[n])}))})),this.scroll.optimize();const n=(new En).retain(e).retain(t,pi(A));return this.update(n)}formatText(e,t){let A=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Object.keys(A).forEach((n=>{this.scroll.formatAt(e,t,n,A[n])}));const n=(new En).retain(e).retain(t,pi(A));return this.update(n)}getContents(e,t){return this.delta.slice(e,e+t)}getDelta(){return this.scroll.lines().reduce(((e,t)=>e.concat(t.delta())),new En)}getFormat(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,A=[],n=[];0===t?this.scroll.path(e).forEach((e=>{const[t]=e;t instanceof Di?A.push(t):t instanceof an&&n.push(t)})):(A=this.scroll.lines(e,t),n=this.scroll.descendants(an,e,t));const[i,r]=[A,n].map((e=>{const t=e.shift();if(null==t)return{};let A=Vi(t);for(;Object.keys(A).length>0;){const t=e.shift();if(null==t)return A;A=or(Vi(t),A)}return A}));return{...i,...r}}getHTML(e,t){const[A,n]=this.scroll.line(e);if(A){const i=A.length();return A.length()>=n+t&&(0!==n||t!==i)?rr(A,n,t,!0):rr(this.scroll,e,t,!0)}return""}getText(e,t){return this.getContents(e,t).filter((e=>"string"==typeof e.insert)).map((e=>e.insert)).join("")}insertContents(e,t){const A=ar(t),n=(new En).retain(e).concat(A);return this.scroll.insertContents(e,A),this.update(n)}insertEmbed(e,t,A){return this.scroll.insertAt(e,t,A),this.update((new En).retain(e).insert({[t]:A}))}insertText(e,t){let A=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return t=t.replace(/\r\n/g,"\n").replace(/\r/g,"\n"),this.scroll.insertAt(e,t),Object.keys(A).forEach((n=>{this.scroll.formatAt(e,t.length,n,A[n])})),this.update((new En).retain(e).insert(t,pi(A)))}isBlank(){if(0===this.scroll.children.length)return!0;if(this.scroll.children.length>1)return!1;const e=this.scroll.children.head;if(e?.statics.blotName!==Di.blotName)return!1;const t=e;return!(t.children.length>1)&&t.children.head instanceof Si}removeFormat(e,t){const A=this.getText(e,t),[n,i]=this.scroll.line(e+t);let r=0,o=new En;null!=n&&(r=n.length()-i,o=n.delta().slice(i,i+r-1).insert("\n"));const s=this.getContents(e,t+r).diff((new En).insert(A).concat(o)),a=(new En).retain(e).concat(s);return this.applyDelta(a)}update(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],A=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0;const n=this.delta;if(1===t.length&&"characterData"===t[0].type&&t[0].target.data.match(nr)&&this.scroll.find(t[0].target)){const i=this.scroll.find(t[0].target),r=Vi(i),o=i.offset(this.scroll),s=t[0].oldValue.replace(ji.CONTENTS,""),a=(new En).insert(s),l=(new En).insert(i.value()),c=A&&{oldRange:lr(A.oldRange,-o),newRange:lr(A.newRange,-o)};e=(new En).retain(o).concat(a.diff(l,c)).reduce(((e,t)=>t.insert?e.insert(t.insert,r):e.push(t)),new En),this.delta=n.compose(e)}else this.delta=this.getDelta(),e&&Ti(n.compose(e),this.delta)||(e=n.diff(this.delta,A));return e}},dr=class{static DEFAULTS={};constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.quill=e,this.options=t}},ur="\ufeff",hr=class extends Bn{constructor(e,t){super(e,t),this.contentNode=document.createElement("span"),this.contentNode.setAttribute("contenteditable","false"),Array.from(this.domNode.childNodes).forEach((e=>{this.contentNode.appendChild(e)})),this.leftGuard=document.createTextNode(ur),this.rightGuard=document.createTextNode(ur),this.domNode.appendChild(this.leftGuard),this.domNode.appendChild(this.contentNode),this.domNode.appendChild(this.rightGuard)}index(e,t){return e===this.leftGuard?0:e===this.rightGuard?1:super.index(e,t)}restore(e){let t,A=null;const n=e.data.split(ur).join("");if(e===this.leftGuard)if(this.prev instanceof Hi){const e=this.prev.length();this.prev.insertAt(e,n),A={startNode:this.prev.domNode,startOffset:e+n.length}}else t=document.createTextNode(n),this.parent.insertBefore(this.scroll.create(t),this),A={startNode:t,startOffset:n.length};else e===this.rightGuard&&(this.next instanceof Hi?(this.next.insertAt(0,n),A={startNode:this.next.domNode,startOffset:n.length}):(t=document.createTextNode(n),this.parent.insertBefore(this.scroll.create(t),this.next),A={startNode:t,startOffset:n.length}));return e.data=ur,A}update(e,t){e.forEach((e=>{if("characterData"===e.type&&(e.target===this.leftGuard||e.target===this.rightGuard)){const A=this.restore(e.target);A&&(t.range=A)}}))}},pr=class{isComposing=!1;constructor(e,t){this.scroll=e,this.emitter=t,this.setupListeners()}setupListeners(){this.scroll.domNode.addEventListener("compositionstart",(e=>{this.isComposing||this.handleCompositionStart(e)})),this.scroll.domNode.addEventListener("compositionend",(e=>{this.isComposing&&queueMicrotask((()=>{this.handleCompositionEnd(e)}))}))}handleCompositionStart(e){const t=e.target instanceof Node?this.scroll.find(e.target,!0):null;!t||t instanceof hr||(this.emitter.emit(Xi.events.COMPOSITION_BEFORE_START,e),this.scroll.batchStart(),this.emitter.emit(Xi.events.COMPOSITION_START,e),this.isComposing=!0)}handleCompositionEnd(e){this.emitter.emit(Xi.events.COMPOSITION_BEFORE_END,e),this.scroll.batchEnd(),this.emitter.emit(Xi.events.COMPOSITION_END,e),this.isComposing=!1}};class gr{static DEFAULTS={modules:{}};static themes={default:gr};modules={};constructor(e,t){this.quill=e,this.options=t}init(){Object.keys(this.options.modules).forEach((e=>{null==this.modules[e]&&this.addModule(e)}))}addModule(e){const t=this.quill.constructor.import(`modules/${e}`);return this.modules[e]=new t(this.quill,this.options.modules[e]||{}),this.modules[e]}}const fr=gr,mr=e=>{const t=e.getBoundingClientRect(),A="offsetWidth"in e&&Math.abs(t.width)/e.offsetWidth||1,n="offsetHeight"in e&&Math.abs(t.height)/e.offsetHeight||1;return{top:t.top,right:t.left+e.clientWidth*A,bottom:t.top+e.clientHeight*n,left:t.left}},vr=e=>{const t=parseInt(e,10);return Number.isNaN(t)?0:t},Br=(e,t,A,n,i,r)=>e<A&&t>n?0:e<A?-(A-e+i):t>n?t-e>n-A?e+i-A:t-n+r:0,wr=["block","break","cursor","inline","scroll","text"],yr=zi("quill"),Cr=new XA;un.uiClass="ql-ui";class br{static DEFAULTS={bounds:null,modules:{clipboard:!0,keyboard:!0,history:!0,uploader:!0},placeholder:"",readOnly:!1,registry:Cr,theme:"default"};static events=Xi.events;static sources=Xi.sources;static version="2.0.3";static imports={delta:En,parchment:e,"core/module":dr,"core/theme":fr};static debug(e){!0===e&&(e="log"),zi.level(e)}static find(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return Ri.get(e)||Cr.find(e,t)}static import(e){return null==this.imports[e]&&yr.error(`Cannot import ${e}. Are you sure it was registered?`),this.imports[e]}static register(){if("string"!=typeof(arguments.length<=0?void 0:arguments[0])){const e=arguments.length<=0?void 0:arguments[0],t=!!(arguments.length<=1?void 0:arguments[1]),A="attrName"in e?e.attrName:e.blotName;"string"==typeof A?this.register(`formats/${A}`,e,t):Object.keys(e).forEach((A=>{this.register(A,e[A],t)}))}else{const e=arguments.length<=0?void 0:arguments[0],t=arguments.length<=1?void 0:arguments[1],A=!!(arguments.length<=2?void 0:arguments[2]);null==this.imports[e]||A||yr.warn(`Overwriting ${e} with`,t),this.imports[e]=t,(e.startsWith("blots/")||e.startsWith("formats/"))&&t&&"boolean"!=typeof t&&"abstract"!==t.blotName&&Cr.register(t),"function"==typeof t.register&&t.register(Cr)}}constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(this.options=function(e,t){const A=Ir(e);if(!A)throw new Error("Invalid Quill container");const n=!t.theme||t.theme===br.DEFAULTS.theme?fr:br.import(`themes/${t.theme}`);if(!n)throw new Error(`Invalid theme ${t.theme}. Did you register it?`);const{modules:i,...r}=br.DEFAULTS,{modules:o,...s}=n.DEFAULTS;let a=Er(t.modules);null!=a&&a.toolbar&&a.toolbar.constructor!==Object&&(a={...a,toolbar:{container:a.toolbar}});const l=qA({},Er(i),Er(o),a),c={...r,...Qr(s),...Qr(t)};let d=t.registry;return d?t.formats&&yr.warn('Ignoring "formats" option because "registry" is specified'):d=t.formats?((e,t,A)=>{const n=new XA;return wr.forEach((e=>{const A=t.query(e);A&&n.register(A)})),e.forEach((e=>{let i=t.query(e);i||A.error(`Cannot register "${e}" specified in "formats" config. Are you sure it was registered?`);let r=0;for(;i;)if(n.register(i),i="blotName"in i?i.requiredContainer??null:null,r+=1,r>100){A.error(`Cycle detected in registering blot requiredContainer: "${e}"`);break}})),n})(t.formats,c.registry,yr):c.registry,{...c,registry:d,container:A,theme:n,modules:Object.entries(l).reduce(((e,t)=>{let[A,n]=t;if(!n)return e;const i=br.import(`modules/${A}`);return null==i?(yr.error(`Cannot load ${A} module. Are you sure you registered it?`),e):{...e,[A]:qA({},i.DEFAULTS||{},n)}}),{}),bounds:Ir(c.bounds)}}(e,t),this.container=this.options.container,null==this.container)return void yr.error("Invalid Quill container",e);this.options.debug&&br.debug(this.options.debug);const A=this.container.innerHTML.trim();this.container.classList.add("ql-container"),this.container.innerHTML="",Ri.set(this.container,this),this.root=this.addContainer("ql-editor"),this.root.classList.add("ql-blank"),this.emitter=new Xi;const n=Cn.blotName,i=this.options.registry.query(n);if(!i||!("blotName"in i))throw new Error(`Cannot initialize Quill without "${n}" blot`);if(this.scroll=new i(this.options.registry,this.root,{emitter:this.emitter}),this.editor=new cr(this.scroll),this.selection=new Ar(this.scroll,this.emitter),this.composition=new pr(this.scroll,this.emitter),this.theme=new this.options.theme(this,this.options),this.keyboard=this.theme.addModule("keyboard"),this.clipboard=this.theme.addModule("clipboard"),this.history=this.theme.addModule("history"),this.uploader=this.theme.addModule("uploader"),this.theme.addModule("input"),this.theme.addModule("uiNode"),this.theme.init(),this.emitter.on(Xi.events.EDITOR_CHANGE,(e=>{e===Xi.events.TEXT_CHANGE&&this.root.classList.toggle("ql-blank",this.editor.isBlank())})),this.emitter.on(Xi.events.SCROLL_UPDATE,((e,t)=>{const A=this.selection.lastRange,[n]=this.selection.getRange(),i=A&&n?{oldRange:A,newRange:n}:void 0;Ur.call(this,(()=>this.editor.update(null,t,i)),e)})),this.emitter.on(Xi.events.SCROLL_EMBED_UPDATE,((e,t)=>{const A=this.selection.lastRange,[n]=this.selection.getRange(),i=A&&n?{oldRange:A,newRange:n}:void 0;Ur.call(this,(()=>{const A=(new En).retain(e.offset(this)).retain({[e.statics.blotName]:t});return this.editor.update(A,[],i)}),br.sources.USER)})),A){const e=this.clipboard.convert({html:`${A}<p><br></p>`,text:"\n"});this.setContents(e)}this.history.clear(),this.options.placeholder&&this.root.setAttribute("data-placeholder",this.options.placeholder),this.options.readOnly&&this.disable(),this.allowReadOnlyEdits=!1}addContainer(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if("string"==typeof e){const t=e;(e=document.createElement("div")).classList.add(t)}return this.container.insertBefore(e,t),e}blur(){this.selection.setRange(null)}deleteText(e,t,A){return[e,t,,A]=xr(e,t,A),Ur.call(this,(()=>this.editor.deleteText(e,t)),A,e,-1*t)}disable(){this.enable(!1)}editReadOnly(e){this.allowReadOnlyEdits=!0;const t=e();return this.allowReadOnlyEdits=!1,t}enable(){let e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this.scroll.enable(e),this.container.classList.toggle("ql-disabled",!e)}focus(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.selection.focus(),e.preventScroll||this.scrollSelectionIntoView()}format(e,t){let A=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Xi.sources.API;return Ur.call(this,(()=>{const A=this.getSelection(!0);let n=new En;if(null==A)return n;if(this.scroll.query(e,WA.BLOCK))n=this.editor.formatLine(A.index,A.length,{[e]:t});else{if(0===A.length)return this.selection.format(e,t),n;n=this.editor.formatText(A.index,A.length,{[e]:t})}return this.setSelection(A,Xi.sources.SILENT),n}),A)}formatLine(e,t,A,n,i){let r;return[e,t,r,i]=xr(e,t,A,n,i),Ur.call(this,(()=>this.editor.formatLine(e,t,r)),i,e,0)}formatText(e,t,A,n,i){let r;return[e,t,r,i]=xr(e,t,A,n,i),Ur.call(this,(()=>this.editor.formatText(e,t,r)),i,e,0)}getBounds(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,A=null;if(A="number"==typeof e?this.selection.getBounds(e,t):this.selection.getBounds(e.index,e.length),!A)return null;const n=this.container.getBoundingClientRect();return{bottom:A.bottom-n.top,height:A.height,left:A.left-n.left,right:A.right-n.left,top:A.top-n.top,width:A.width}}getContents(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.getLength()-e;return[e,t]=xr(e,t),this.editor.getContents(e,t)}getFormat(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.getSelection(!0),t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return"number"==typeof e?this.editor.getFormat(e,t):this.editor.getFormat(e.index,e.length)}getIndex(e){return e.offset(this.scroll)}getLength(){return this.scroll.length()}getLeaf(e){return this.scroll.leaf(e)}getLine(e){return this.scroll.line(e)}getLines(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Number.MAX_VALUE;return"number"!=typeof e?this.scroll.lines(e.index,e.length):this.scroll.lines(e,t)}getModule(e){return this.theme.modules[e]}getSelection(){return arguments.length>0&&void 0!==arguments[0]&&arguments[0]&&this.focus(),this.update(),this.selection.getRange()[0]}getSemanticHTML(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1?arguments[1]:void 0;return"number"==typeof e&&(t=t??this.getLength()-e),[e,t]=xr(e,t),this.editor.getHTML(e,t)}getText(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1?arguments[1]:void 0;return"number"==typeof e&&(t=t??this.getLength()-e),[e,t]=xr(e,t),this.editor.getText(e,t)}hasFocus(){return this.selection.hasFocus()}insertEmbed(e,t,A){let n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:br.sources.API;return Ur.call(this,(()=>this.editor.insertEmbed(e,t,A)),n,e)}insertText(e,t,A,n,i){let r;return[e,,r,i]=xr(e,0,A,n,i),Ur.call(this,(()=>this.editor.insertText(e,t,r)),i,e,t.length)}isEnabled(){return this.scroll.isEnabled()}off(){return this.emitter.off(...arguments)}on(){return this.emitter.on(...arguments)}once(){return this.emitter.once(...arguments)}removeFormat(e,t,A){return[e,t,,A]=xr(e,t,A),Ur.call(this,(()=>this.editor.removeFormat(e,t)),A,e)}scrollRectIntoView(e){((e,t)=>{const A=e.ownerDocument;let n=t,i=e;for(;i;){const e=i===A.body,t=e?{top:0,right:window.visualViewport?.width??A.documentElement.clientWidth,bottom:window.visualViewport?.height??A.documentElement.clientHeight,left:0}:mr(i),o=getComputedStyle(i),s=Br(n.left,n.right,t.left,t.right,vr(o.scrollPaddingLeft),vr(o.scrollPaddingRight)),a=Br(n.top,n.bottom,t.top,t.bottom,vr(o.scrollPaddingTop),vr(o.scrollPaddingBottom));if(s||a)if(e)A.defaultView?.scrollBy(s,a);else{const{scrollLeft:e,scrollTop:t}=i;a&&(i.scrollTop+=a),s&&(i.scrollLeft+=s);const A=i.scrollLeft-e,r=i.scrollTop-t;n={left:n.left-A,top:n.top-r,right:n.right-A,bottom:n.bottom-r}}i=e||"fixed"===o.position?null:(r=i).parentElement||r.getRootNode().host||null}var r})(this.root,e)}scrollIntoView(){console.warn("Quill#scrollIntoView() has been deprecated and will be removed in the near future. Please use Quill#scrollSelectionIntoView() instead."),this.scrollSelectionIntoView()}scrollSelectionIntoView(){const e=this.selection.lastRange,t=e&&this.selection.getBounds(e.index,e.length);t&&this.scrollRectIntoView(t)}setContents(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Xi.sources.API;return Ur.call(this,(()=>{e=new En(e);const t=this.getLength(),A=this.editor.deleteText(0,t),n=this.editor.insertContents(0,e),i=this.editor.deleteText(this.getLength()-1,1);return A.compose(n).compose(i)}),t)}setSelection(e,t,A){null==e?this.selection.setRange(null,t||br.sources.API):([e,t,,A]=xr(e,t,A),this.selection.setRange(new er(Math.max(0,e),t),A),A!==Xi.sources.SILENT&&this.scrollSelectionIntoView())}setText(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Xi.sources.API;const A=(new En).insert(e);return this.setContents(A,t)}update(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Xi.sources.USER;const t=this.scroll.update(e);return this.selection.update(e),t}updateContents(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Xi.sources.API;return Ur.call(this,(()=>(e=new En(e),this.editor.applyDelta(e))),t,!0)}}function Ir(e){return"string"==typeof e?document.querySelector(e):e}function Er(e){return Object.entries(e??{}).reduce(((e,t)=>{let[A,n]=t;return{...e,[A]:!0===n?{}:n}}),{})}function Qr(e){return Object.fromEntries(Object.entries(e).filter((e=>void 0!==e[1])))}function Ur(e,t,A,n){if(!this.isEnabled()&&t===Xi.sources.USER&&!this.allowReadOnlyEdits)return new En;let i=null==A?null:this.getSelection();const r=this.editor.delta,o=e();if(null!=i&&(!0===A&&(A=i.index),null==n?i=Fr(i,o,t):0!==n&&(i=Fr(i,A,n,t)),this.setSelection(i,Xi.sources.SILENT)),o.length()>0){const e=[Xi.events.TEXT_CHANGE,o,r,t];this.emitter.emit(Xi.events.EDITOR_CHANGE,...e),t!==Xi.sources.SILENT&&this.emitter.emit(...e)}return o}function xr(e,t,A,n,i){let r={};return"number"==typeof e.index&&"number"==typeof e.length?"number"!=typeof t?(i=n,n=A,A=t,t=e.length,e=e.index):(t=e.length,e=e.index):"number"!=typeof t&&(i=n,n=A,A=t,t=0),"object"==typeof A?(r=A,i=n):"string"==typeof A&&(null!=n?r[A]=n:i=A),[e,t,r,i=i||Xi.sources.API]}function Fr(e,t,A,n){const i="number"==typeof A?A:0;if(null==e)return null;let r,o;return t&&"function"==typeof t.transformPosition?[r,o]=[e.index,e.index+e.length].map((e=>t.transformPosition(e,n!==Xi.sources.USER))):[r,o]=[e.index,e.index+e.length].map((e=>e<t||e===t&&n===Xi.sources.USER?e:i>=0?e+i:Math.max(t,e+i))),new er(r,o-r)}const Tr=class extends vn{};function Lr(e){return e instanceof Di||e instanceof Oi}function Sr(e){return"function"==typeof e.updateContent}function Hr(e,t,A){A.reduce(((t,A)=>{const n=En.Op.length(A);let i=A.attributes||{};if(null!=A.insert)if("string"==typeof A.insert){const n=A.insert;e.insertAt(t,n);const[r]=e.descendant(an,t),o=Vi(r);i=En.AttributeMap.diff(o,i)||{}}else if("object"==typeof A.insert){const n=Object.keys(A.insert)[0];if(null==n)return t;if(e.insertAt(t,n,A.insert[n]),null!=e.scroll.query(n,WA.INLINE)){const[A]=e.descendant(an,t),n=Vi(A);i=En.AttributeMap.diff(n,i)||{}}}return Object.keys(i).forEach((A=>{e.formatAt(t,n,A,i[A])})),t+n}),t)}const Mr={scope:WA.BLOCK,whitelist:["right","center","justify"]},kr=new ZA("align","align",Mr),Pr=new en("align","ql-align",Mr),Nr=new An("align","text-align",Mr);class Dr extends An{value(e){let t=super.value(e);return t.startsWith("rgb(")?(t=t.replace(/^[^\d]+/,"").replace(/[^\d]+$/,""),`#${t.split(",").map((e=>`00${parseInt(e,10).toString(16)}`.slice(-2))).join("")}`):t}}const Or=new en("color","ql-color",{scope:WA.INLINE}),_r=new Dr("color","color",{scope:WA.INLINE}),Vr=new en("background","ql-bg",{scope:WA.INLINE}),$r=new Dr("background","background-color",{scope:WA.INLINE});class jr extends Tr{static create(e){const t=super.create(e);return t.setAttribute("spellcheck","false"),t}code(e,t){return this.children.map((e=>e.length()<=1?"":e.domNode.innerText)).join("\n").slice(e,e+t)}html(e,t){return`<pre>\n${ki(this.code(e,t))}\n</pre>`}}class Kr extends Di{static TAB="  ";static register(){br.register(jr)}}class Rr extends Ni{}Rr.blotName="code",Rr.tagName="CODE",Kr.blotName="code-block",Kr.className="ql-code-block",Kr.tagName="DIV",jr.blotName="code-block-container",jr.className="ql-code-block-container",jr.tagName="DIV",jr.allowedChildren=[Kr],Kr.allowedChildren=[Hi,Si,ji],Kr.requiredContainer=jr;const qr={scope:WA.BLOCK,whitelist:["rtl"]},Gr=new ZA("direction","dir",qr),Wr=new en("direction","ql-direction",qr),Zr=new An("direction","direction",qr),zr={scope:WA.INLINE,whitelist:["serif","monospace"]},Jr=new en("font","ql-font",zr),Xr=new class extends An{value(e){return super.value(e).replace(/["']/g,"")}}("font","font-family",zr),Yr=new en("size","ql-size",{scope:WA.INLINE,whitelist:["small","large","huge"]}),eo=new An("size","font-size",{scope:WA.INLINE,whitelist:["10px","18px","32px"]}),to=zi("quill:keyboard"),Ao=/Mac/i.test(navigator.platform)?"metaKey":"ctrlKey";class no extends dr{static match(e,t){return!["altKey","ctrlKey","metaKey","shiftKey"].some((A=>!!t[A]!==e[A]&&null!==t[A]))&&(t.key===e.key||t.key===e.which)}constructor(e,t){super(e,t),this.bindings={},Object.keys(this.options.bindings).forEach((e=>{this.options.bindings[e]&&this.addBinding(this.options.bindings[e])})),this.addBinding({key:"Enter",shiftKey:null},this.handleEnter),this.addBinding({key:"Enter",metaKey:null,ctrlKey:null,altKey:null},(()=>{})),/Firefox/i.test(navigator.userAgent)?(this.addBinding({key:"Backspace"},{collapsed:!0},this.handleBackspace),this.addBinding({key:"Delete"},{collapsed:!0},this.handleDelete)):(this.addBinding({key:"Backspace"},{collapsed:!0,prefix:/^.?$/},this.handleBackspace),this.addBinding({key:"Delete"},{collapsed:!0,suffix:/^.?$/},this.handleDelete)),this.addBinding({key:"Backspace"},{collapsed:!1},this.handleDeleteRange),this.addBinding({key:"Delete"},{collapsed:!1},this.handleDeleteRange),this.addBinding({key:"Backspace",altKey:null,ctrlKey:null,metaKey:null,shiftKey:null},{collapsed:!0,offset:0},this.handleBackspace),this.listen()}addBinding(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},A=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const n=function(e){if("string"==typeof e||"number"==typeof e)e={key:e};else{if("object"!=typeof e)return null;e=pi(e)}return e.shortKey&&(e[Ao]=e.shortKey,delete e.shortKey),e}(e);null!=n?("function"==typeof t&&(t={handler:t}),"function"==typeof A&&(A={handler:A}),(Array.isArray(n.key)?n.key:[n.key]).forEach((e=>{const i={...n,key:e,...t,...A};this.bindings[i.key]=this.bindings[i.key]||[],this.bindings[i.key].push(i)}))):to.warn("Attempted to add invalid keyboard binding",n)}listen(){this.quill.root.addEventListener("keydown",(e=>{if(e.defaultPrevented||e.isComposing)return;if(229===e.keyCode&&("Enter"===e.key||"Backspace"===e.key))return;const t=(this.bindings[e.key]||[]).concat(this.bindings[e.which]||[]).filter((t=>no.match(e,t)));if(0===t.length)return;const A=br.find(e.target,!0);if(A&&A.scroll!==this.quill.scroll)return;const n=this.quill.getSelection();if(null==n||!this.quill.hasFocus())return;const[i,r]=this.quill.getLine(n.index),[o,s]=this.quill.getLeaf(n.index),[a,l]=0===n.length?[o,s]:this.quill.getLeaf(n.index+n.length),c=o instanceof In?o.value().slice(0,s):"",d=a instanceof In?a.value().slice(l):"",u={collapsed:0===n.length,empty:0===n.length&&i.length()<=1,format:this.quill.getFormat(n),line:i,offset:r,prefix:c,suffix:d,event:e};t.some((e=>{if(null!=e.collapsed&&e.collapsed!==u.collapsed)return!1;if(null!=e.empty&&e.empty!==u.empty)return!1;if(null!=e.offset&&e.offset!==u.offset)return!1;if(Array.isArray(e.format)){if(e.format.every((e=>null==u.format[e])))return!1}else if("object"==typeof e.format&&!Object.keys(e.format).every((t=>!0===e.format[t]?null!=u.format[t]:!1===e.format[t]?null==u.format[t]:Ti(e.format[t],u.format[t]))))return!1;return!(null!=e.prefix&&!e.prefix.test(u.prefix)||null!=e.suffix&&!e.suffix.test(u.suffix)||!0===e.handler.call(this,n,u,e))}))&&e.preventDefault()}))}handleBackspace(e,t){const A=/[\uD800-\uDBFF][\uDC00-\uDFFF]$/.test(t.prefix)?2:1;if(0===e.index||this.quill.getLength()<=1)return;let n={};const[i]=this.quill.getLine(e.index);let r=(new En).retain(e.index-A).delete(A);if(0===t.offset){const[t]=this.quill.getLine(e.index-1);if(t&&!("block"===t.statics.blotName&&t.length()<=1)){const t=i.formats(),A=this.quill.getFormat(e.index-1,1);if(n=En.AttributeMap.diff(t,A)||{},Object.keys(n).length>0){const t=(new En).retain(e.index+i.length()-2).retain(1,n);r=r.compose(t)}}}this.quill.updateContents(r,br.sources.USER),this.quill.focus()}handleDelete(e,t){const A=/^[\uD800-\uDBFF][\uDC00-\uDFFF]/.test(t.suffix)?2:1;if(e.index>=this.quill.getLength()-A)return;let n={};const[i]=this.quill.getLine(e.index);let r=(new En).retain(e.index).delete(A);if(t.offset>=i.length()-1){const[t]=this.quill.getLine(e.index+1);if(t){const A=i.formats(),o=this.quill.getFormat(e.index,1);n=En.AttributeMap.diff(A,o)||{},Object.keys(n).length>0&&(r=r.retain(t.length()-1).retain(1,n))}}this.quill.updateContents(r,br.sources.USER),this.quill.focus()}handleDeleteRange(e){lo({range:e,quill:this.quill}),this.quill.focus()}handleEnter(e,t){const A=Object.keys(t.format).reduce(((e,A)=>(this.quill.scroll.query(A,WA.BLOCK)&&!Array.isArray(t.format[A])&&(e[A]=t.format[A]),e)),{}),n=(new En).retain(e.index).delete(e.length).insert("\n",A);this.quill.updateContents(n,br.sources.USER),this.quill.setSelection(e.index+1,br.sources.SILENT),this.quill.focus()}}const io={bindings:{bold:so("bold"),italic:so("italic"),underline:so("underline"),indent:{key:"Tab",format:["blockquote","indent","list"],handler(e,t){return!(!t.collapsed||0===t.offset)||(this.quill.format("indent","+1",br.sources.USER),!1)}},outdent:{key:"Tab",shiftKey:!0,format:["blockquote","indent","list"],handler(e,t){return!(!t.collapsed||0===t.offset)||(this.quill.format("indent","-1",br.sources.USER),!1)}},"outdent backspace":{key:"Backspace",collapsed:!0,shiftKey:null,metaKey:null,ctrlKey:null,altKey:null,format:["indent","list"],offset:0,handler(e,t){null!=t.format.indent?this.quill.format("indent","-1",br.sources.USER):null!=t.format.list&&this.quill.format("list",!1,br.sources.USER)}},"indent code-block":ro(!0),"outdent code-block":ro(!1),"remove tab":{key:"Tab",shiftKey:!0,collapsed:!0,prefix:/\t$/,handler(e){this.quill.deleteText(e.index-1,1,br.sources.USER)}},tab:{key:"Tab",handler(e,t){if(t.format.table)return!0;this.quill.history.cutoff();const A=(new En).retain(e.index).delete(e.length).insert("\t");return this.quill.updateContents(A,br.sources.USER),this.quill.history.cutoff(),this.quill.setSelection(e.index+1,br.sources.SILENT),!1}},"blockquote empty enter":{key:"Enter",collapsed:!0,format:["blockquote"],empty:!0,handler(){this.quill.format("blockquote",!1,br.sources.USER)}},"list empty enter":{key:"Enter",collapsed:!0,format:["list"],empty:!0,handler(e,t){const A={list:!1};t.format.indent&&(A.indent=!1),this.quill.formatLine(e.index,e.length,A,br.sources.USER)}},"checklist enter":{key:"Enter",collapsed:!0,format:{list:"checked"},handler(e){const[t,A]=this.quill.getLine(e.index),n={...t.formats(),list:"checked"},i=(new En).retain(e.index).insert("\n",n).retain(t.length()-A-1).retain(1,{list:"unchecked"});this.quill.updateContents(i,br.sources.USER),this.quill.setSelection(e.index+1,br.sources.SILENT),this.quill.scrollSelectionIntoView()}},"header enter":{key:"Enter",collapsed:!0,format:["header"],suffix:/^$/,handler(e,t){const[A,n]=this.quill.getLine(e.index),i=(new En).retain(e.index).insert("\n",t.format).retain(A.length()-n-1).retain(1,{header:null});this.quill.updateContents(i,br.sources.USER),this.quill.setSelection(e.index+1,br.sources.SILENT),this.quill.scrollSelectionIntoView()}},"table backspace":{key:"Backspace",format:["table"],collapsed:!0,offset:0,handler(){}},"table delete":{key:"Delete",format:["table"],collapsed:!0,suffix:/^$/,handler(){}},"table enter":{key:"Enter",shiftKey:null,format:["table"],handler(e){const t=this.quill.getModule("table");if(t){const[A,n,i,r]=t.getTable(e),o=function(e,t,A,n){return null==t.prev&&null==t.next?null==A.prev&&null==A.next?0===n?-1:1:null==A.prev?-1:1:null==t.prev?-1:null==t.next?1:null}(0,n,i,r);if(null==o)return;let s=A.offset();if(o<0){const t=(new En).retain(s).insert("\n");this.quill.updateContents(t,br.sources.USER),this.quill.setSelection(e.index+1,e.length,br.sources.SILENT)}else if(o>0){s+=A.length();const e=(new En).retain(s).insert("\n");this.quill.updateContents(e,br.sources.USER),this.quill.setSelection(s,br.sources.USER)}}}},"table tab":{key:"Tab",shiftKey:null,format:["table"],handler(e,t){const{event:A,line:n}=t,i=n.offset(this.quill.scroll);A.shiftKey?this.quill.setSelection(i-1,br.sources.USER):this.quill.setSelection(i+n.length(),br.sources.USER)}},"list autofill":{key:" ",shiftKey:null,collapsed:!0,format:{"code-block":!1,blockquote:!1,table:!1},prefix:/^\s*?(\d+\.|-|\*|\[ ?\]|\[x\])$/,handler(e,t){if(null==this.quill.scroll.query("list"))return!0;const{length:A}=t.prefix,[n,i]=this.quill.getLine(e.index);if(i>A)return!0;let r;switch(t.prefix.trim()){case"[]":case"[ ]":r="unchecked";break;case"[x]":r="checked";break;case"-":case"*":r="bullet";break;default:r="ordered"}this.quill.insertText(e.index," ",br.sources.USER),this.quill.history.cutoff();const o=(new En).retain(e.index-i).delete(A+1).retain(n.length()-2-i).retain(1,{list:r});return this.quill.updateContents(o,br.sources.USER),this.quill.history.cutoff(),this.quill.setSelection(e.index-A,br.sources.SILENT),!1}},"code exit":{key:"Enter",collapsed:!0,format:["code-block"],prefix:/^$/,suffix:/^\s*$/,handler(e){const[t,A]=this.quill.getLine(e.index);let n=2,i=t;for(;null!=i&&i.length()<=1&&i.formats()["code-block"];)if(i=i.prev,n-=1,n<=0){const n=(new En).retain(e.index+t.length()-A-2).retain(1,{"code-block":null}).delete(1);return this.quill.updateContents(n,br.sources.USER),this.quill.setSelection(e.index-1,br.sources.SILENT),!1}return!0}},"embed left":oo("ArrowLeft",!1),"embed left shift":oo("ArrowLeft",!0),"embed right":oo("ArrowRight",!1),"embed right shift":oo("ArrowRight",!0),"table down":ao(!1),"table up":ao(!0)}};function ro(e){return{key:"Tab",shiftKey:!e,format:{"code-block":!0},handler(t,A){let{event:n}=A;const i=this.quill.scroll.query("code-block"),{TAB:r}=i;if(0===t.length&&!n.shiftKey)return this.quill.insertText(t.index,r,br.sources.USER),void this.quill.setSelection(t.index+r.length,br.sources.SILENT);const o=0===t.length?this.quill.getLines(t.index,1):this.quill.getLines(t);let{index:s,length:a}=t;o.forEach(((t,A)=>{e?(t.insertAt(0,r),0===A?s+=r.length:a+=r.length):t.domNode.textContent.startsWith(r)&&(t.deleteAt(0,r.length),0===A?s-=r.length:a-=r.length)})),this.quill.update(br.sources.USER),this.quill.setSelection(s,a,br.sources.SILENT)}}}function oo(e,t){const A="ArrowLeft"===e?"prefix":"suffix";return{key:e,shiftKey:t,altKey:null,[A]:/^$/,handler(A){let{index:n}=A;"ArrowRight"===e&&(n+=A.length+1);const[i]=this.quill.getLeaf(n);return!(i instanceof Bn&&("ArrowLeft"===e?t?this.quill.setSelection(A.index-1,A.length+1,br.sources.USER):this.quill.setSelection(A.index-1,br.sources.USER):t?this.quill.setSelection(A.index,A.length+1,br.sources.USER):this.quill.setSelection(A.index+A.length+1,br.sources.USER),1))}}}function so(e){return{key:e[0],shortKey:!0,handler(t,A){this.quill.format(e,!A.format[e],br.sources.USER)}}}function ao(e){return{key:e?"ArrowUp":"ArrowDown",collapsed:!0,format:["table"],handler(t,A){const n=e?"prev":"next",i=A.line,r=i.parent[n];if(null!=r){if("table-row"===r.statics.blotName){let e=r.children.head,t=i;for(;null!=t.prev;)t=t.prev,e=e.next;const n=e.offset(this.quill.scroll)+Math.min(A.offset,e.length()-1);this.quill.setSelection(n,0,br.sources.USER)}}else{const t=i.table()[n];null!=t&&(e?this.quill.setSelection(t.offset(this.quill.scroll)+t.length()-1,0,br.sources.USER):this.quill.setSelection(t.offset(this.quill.scroll),0,br.sources.USER))}return!1}}}function lo(e){let{quill:t,range:A}=e;const n=t.getLines(A);let i={};if(n.length>1){const e=n[0].formats(),t=n[n.length-1].formats();i=En.AttributeMap.diff(t,e)||{}}t.deleteText(A,br.sources.USER),Object.keys(i).length>0&&t.formatLine(A.index,1,i,br.sources.USER),t.setSelection(A.index,br.sources.SILENT)}no.DEFAULTS=io;const co=/font-weight:\s*normal/,uo=["P","OL","UL"],ho=e=>e&&uo.includes(e.tagName),po=/\bmso-list:[^;]*ignore/i,go=/\bmso-list:[^;]*\bl(\d+)/i,fo=/\bmso-list:[^;]*\blevel(\d+)/i,mo=[function(e){"urn:schemas-microsoft-com:office:word"===e.documentElement.getAttribute("xmlns:w")&&(e=>{const t=Array.from(e.querySelectorAll("[style*=mso-list]")),A=[],n=[];t.forEach((e=>{(e.getAttribute("style")||"").match(po)?A.push(e):n.push(e)})),A.forEach((e=>e.parentNode?.removeChild(e)));const i=e.documentElement.innerHTML,r=n.map((e=>((e,t)=>{const A=e.getAttribute("style"),n=A?.match(go);if(!n)return null;const i=Number(n[1]),r=A?.match(fo),o=r?Number(r[1]):1,s=new RegExp(`@list l${i}:level${o}\\s*\\{[^\\}]*mso-level-number-format:\\s*([\\w-]+)`,"i"),a=t.match(s);return{id:i,indent:o,type:a&&"bullet"===a[1]?"bullet":"ordered",element:e}})(e,i))).filter((e=>e));for(;r.length;){const e=[];let t=r.shift();for(;t;)e.push(t),t=r.length&&r[0]?.element===t.element.nextElementSibling&&r[0].id===t.id?r.shift():null;const A=document.createElement("ul");e.forEach((e=>{const t=document.createElement("li");t.setAttribute("data-list",e.type),e.indent>1&&t.setAttribute("class","ql-indent-"+(e.indent-1)),t.innerHTML=e.element.innerHTML,A.appendChild(t)}));const n=e[0]?.element,{parentNode:i}=n??{};n&&i?.replaceChild(A,n),e.slice(1).forEach((e=>{let{element:t}=e;i?.removeChild(t)}))}})(e)},function(e){e.querySelector('[id^="docs-internal-guid-"]')&&((e=>{Array.from(e.querySelectorAll('b[style*="font-weight"]')).filter((e=>e.getAttribute("style")?.match(co))).forEach((t=>{const A=e.createDocumentFragment();A.append(...t.childNodes),t.parentNode?.replaceChild(A,t)}))})(e),(e=>{Array.from(e.querySelectorAll("br")).filter((e=>ho(e.previousElementSibling)&&ho(e.nextElementSibling))).forEach((e=>{e.parentNode?.removeChild(e)}))})(e))}],vo=zi("quill:clipboard"),Bo=[[Node.TEXT_NODE,function(e,t,A){let n=e.data;if("O:P"===e.parentElement?.tagName)return t.insert(n.trim());if(!Qo(e)){if(0===n.trim().length&&n.includes("\n")&&!function(e,t){return e.previousElementSibling&&e.nextElementSibling&&!Io(e.previousElementSibling,t)&&!Io(e.nextElementSibling,t)}(e,A))return t;n=n.replace(/[^\S\u00a0]/g," "),n=n.replace(/ {2,}/g," "),(null==e.previousSibling&&null!=e.parentElement&&Io(e.parentElement,A)||e.previousSibling instanceof Element&&Io(e.previousSibling,A))&&(n=n.replace(/^ /,"")),(null==e.nextSibling&&null!=e.parentElement&&Io(e.parentElement,A)||e.nextSibling instanceof Element&&Io(e.nextSibling,A))&&(n=n.replace(/ $/,"")),n=n.replaceAll("ย"," ")}return t.insert(n)}],[Node.TEXT_NODE,Fo],["br",function(e,t){return bo(t,"\n")||t.insert("\n"),t}],[Node.ELEMENT_NODE,Fo],[Node.ELEMENT_NODE,function(e,t,A){const n=A.query(e);if(null==n)return t;if(n.prototype instanceof Bn){const t={},i=n.value(e);if(null!=i)return t[n.blotName]=i,(new En).insert(t,n.formats(e,A))}else if(n.prototype instanceof fn&&!bo(t,"\n")&&t.insert("\n"),"blotName"in n&&"formats"in n&&"function"==typeof n.formats)return Co(t,n.blotName,n.formats(e,A),A);return t}],[Node.ELEMENT_NODE,function(e,t,A){const n=ZA.keys(e),i=en.keys(e),r=An.keys(e),o={};return n.concat(i).concat(r).forEach((t=>{let n=A.query(t,WA.ATTRIBUTE);null!=n&&(o[n.attrName]=n.value(e),o[n.attrName])||(n=wo[t],null==n||n.attrName!==t&&n.keyName!==t||(o[n.attrName]=n.value(e)||void 0),n=yo[t],null==n||n.attrName!==t&&n.keyName!==t||(n=yo[t],o[n.attrName]=n.value(e)||void 0))})),Object.entries(o).reduce(((e,t)=>{let[n,i]=t;return Co(e,n,i,A)}),t)}],[Node.ELEMENT_NODE,function(e,t,A){const n={},i=e.style||{};return"italic"===i.fontStyle&&(n.italic=!0),"underline"===i.textDecoration&&(n.underline=!0),"line-through"===i.textDecoration&&(n.strike=!0),(i.fontWeight?.startsWith("bold")||parseInt(i.fontWeight,10)>=700)&&(n.bold=!0),t=Object.entries(n).reduce(((e,t)=>{let[n,i]=t;return Co(e,n,i,A)}),t),parseFloat(i.textIndent||0)>0?(new En).insert("\t").concat(t):t}],["li",function(e,t,A){const n=A.query(e);if(null==n||"list"!==n.blotName||!bo(t,"\n"))return t;let i=-1,r=e.parentNode;for(;null!=r;)["OL","UL"].includes(r.tagName)&&(i+=1),r=r.parentNode;return i<=0?t:t.reduce(((e,t)=>t.insert?t.attributes&&"number"==typeof t.attributes.indent?e.push(t):e.insert(t.insert,{indent:i,...t.attributes||{}}):e),new En)}],["ol, ul",function(e,t,A){const n=e;let i="OL"===n.tagName?"ordered":"bullet";const r=n.getAttribute("data-checked");return r&&(i="true"===r?"checked":"unchecked"),Co(t,"list",i,A)}],["pre",function(e,t,A){const n=A.query("code-block");return Co(t,"code-block",!n||!("formats"in n)||"function"!=typeof n.formats||n.formats(e,A),A)}],["tr",function(e,t,A){const n="TABLE"===e.parentElement?.tagName?e.parentElement:e.parentElement?.parentElement;return null!=n?Co(t,"table",Array.from(n.querySelectorAll("tr")).indexOf(e)+1,A):t}],["b",xo("bold")],["i",xo("italic")],["strike",xo("strike")],["style",function(){return new En}]],wo=[kr,Gr].reduce(((e,t)=>(e[t.keyName]=t,e)),{}),yo=[Nr,$r,_r,Zr,Xr,eo].reduce(((e,t)=>(e[t.keyName]=t,e)),{});function Co(e,t,A,n){return n.query(t)?e.reduce(((e,n)=>{if(!n.insert)return e;if(n.attributes&&n.attributes[t])return e.push(n);const i=A?{[t]:A}:{};return e.insert(n.insert,{...i,...n.attributes})}),new En):e}function bo(e,t){let A="";for(let n=e.ops.length-1;n>=0&&A.length<t.length;--n){const t=e.ops[n];if("string"!=typeof t.insert)break;A=t.insert+A}return A.slice(-1*t.length)===t}function Io(e,t){if(!(e instanceof Element))return!1;const A=t.query(e);return!(A&&A.prototype instanceof Bn)&&["address","article","blockquote","canvas","dd","div","dl","dt","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","header","iframe","li","main","nav","ol","output","p","pre","section","table","td","tr","ul","video"].includes(e.tagName.toLowerCase())}const Eo=new WeakMap;function Qo(e){return null!=e&&(Eo.has(e)||("PRE"===e.tagName?Eo.set(e,!0):Eo.set(e,Qo(e.parentNode))),Eo.get(e))}function Uo(e,t,A,n,i){return t.nodeType===t.TEXT_NODE?n.reduce(((A,n)=>n(t,A,e)),new En):t.nodeType===t.ELEMENT_NODE?Array.from(t.childNodes||[]).reduce(((r,o)=>{let s=Uo(e,o,A,n,i);return o.nodeType===t.ELEMENT_NODE&&(s=A.reduce(((t,A)=>A(o,t,e)),s),s=(i.get(o)||[]).reduce(((t,A)=>A(o,t,e)),s)),r.concat(s)}),new En):new En}function xo(e){return(t,A,n)=>Co(A,e,!0,n)}function Fo(e,t,A){if(!bo(t,"\n")){if(Io(e,A)&&(e.childNodes.length>0||e instanceof HTMLParagraphElement))return t.insert("\n");if(t.length()>0&&e.nextSibling){let n=e.nextSibling;for(;null!=n;){if(Io(n,A))return t.insert("\n");const e=A.query(n);if(e&&e.prototype instanceof Oi)return t.insert("\n");n=n.firstChild}}}return t}function To(e,t){let A=t;for(let t=e.length-1;t>=0;t-=1){const n=e[t];e[t]={delta:A.transform(n.delta,!0),range:n.range&&Lo(n.range,A)},A=n.delta.transform(A),0===e[t].delta.length()&&e.splice(t,1)}}function Lo(e,t){if(!e)return e;const A=t.transformPosition(e.index);return{index:A,length:t.transformPosition(e.index+e.length)-A}}class So extends dr{constructor(e,t){super(e,t),e.root.addEventListener("drop",(t=>{t.preventDefault();let A=null;if(document.caretRangeFromPoint)A=document.caretRangeFromPoint(t.clientX,t.clientY);else if(document.caretPositionFromPoint){const e=document.caretPositionFromPoint(t.clientX,t.clientY);A=document.createRange(),A.setStart(e.offsetNode,e.offset),A.setEnd(e.offsetNode,e.offset)}const n=A&&e.selection.normalizeNative(A);if(n){const A=e.selection.normalizedToRange(n);t.dataTransfer?.files&&this.upload(A,t.dataTransfer.files)}}))}upload(e,t){const A=[];Array.from(t).forEach((e=>{e&&this.options.mimetypes?.includes(e.type)&&A.push(e)})),A.length>0&&this.options.handler.call(this,e,A)}}So.DEFAULTS={mimetypes:["image/png","image/jpeg"],handler(e,t){if(!this.quill.scroll.query("image"))return;const A=t.map((e=>new Promise((t=>{const A=new FileReader;A.onload=()=>{t(A.result)},A.readAsDataURL(e)}))));Promise.all(A).then((t=>{const A=t.reduce(((e,t)=>e.insert({image:t})),(new En).retain(e.index).delete(e.length));this.quill.updateContents(A,Xi.sources.USER),this.quill.setSelection(e.index+t.length,Xi.sources.SILENT)}))}};const Ho=So,Mo=["insertText","insertReplacementText"],ko=/Mac/i.test(navigator.platform);br.register({"blots/block":Di,"blots/block/embed":Oi,"blots/break":Si,"blots/container":Tr,"blots/cursor":ji,"blots/embed":hr,"blots/inline":Ni,"blots/scroll":class extends Cn{static blotName="scroll";static className="ql-editor";static tagName="DIV";static defaultChild=Di;static allowedChildren=[Di,Oi,Tr];constructor(e,t,A){let{emitter:n}=A;super(e,t),this.emitter=n,this.batch=!1,this.optimize(),this.enable(),this.domNode.addEventListener("dragstart",(e=>this.handleDragStart(e)))}batchStart(){Array.isArray(this.batch)||(this.batch=[])}batchEnd(){if(!this.batch)return;const e=this.batch;this.batch=!1,this.update(e)}emitMount(e){this.emitter.emit(Xi.events.SCROLL_BLOT_MOUNT,e)}emitUnmount(e){this.emitter.emit(Xi.events.SCROLL_BLOT_UNMOUNT,e)}emitEmbedUpdate(e,t){this.emitter.emit(Xi.events.SCROLL_EMBED_UPDATE,e,t)}deleteAt(e,t){const[A,n]=this.line(e),[i]=this.line(e+t);if(super.deleteAt(e,t),null!=i&&A!==i&&n>0){if(A instanceof Oi||i instanceof Oi)return void this.optimize();const e=i.children.head instanceof Si?null:i.children.head;A.moveChildren(i,e),A.remove()}this.optimize()}enable(){let e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this.domNode.setAttribute("contenteditable",e?"true":"false")}formatAt(e,t,A,n){super.formatAt(e,t,A,n),this.optimize()}insertAt(e,t,A){if(e>=this.length())if(null==A||null==this.scroll.query(t,WA.BLOCK)){const e=this.scroll.create(this.statics.defaultChild.blotName);this.appendChild(e),null==A&&t.endsWith("\n")?e.insertAt(0,t.slice(0,-1),A):e.insertAt(0,t,A)}else{const e=this.scroll.create(t,A);this.appendChild(e)}else super.insertAt(e,t,A);this.optimize()}insertBefore(e,t){if(e.statics.scope===WA.INLINE_BLOT){const A=this.scroll.create(this.statics.defaultChild.blotName);A.appendChild(e),super.insertBefore(A,t)}else super.insertBefore(e,t)}insertContents(e,t){const A=this.deltaToRenderBlocks(t.concat((new En).insert("\n"))),n=A.pop();if(null==n)return;this.batchStart();const i=A.shift();if(i){const t="block"===i.type&&(0===i.delta.length()||!this.descendant(Oi,e)[0]&&e<this.length()),A="block"===i.type?i.delta:(new En).insert({[i.key]:i.value});Hr(this,e,A);const n="block"===i.type?1:0,r=e+A.length()+n;t&&this.insertAt(r-1,"\n");const o=Vi(this.line(e)[0]),s=En.AttributeMap.diff(o,i.attributes)||{};Object.keys(s).forEach((e=>{this.formatAt(r-1,1,e,s[e])})),e=r}let[r,o]=this.children.find(e);A.length&&(r&&(r=r.split(o),o=0),A.forEach((e=>{if("block"===e.type)Hr(this.createBlock(e.attributes,r||void 0),0,e.delta);else{const t=this.create(e.key,e.value);this.insertBefore(t,r||void 0),Object.keys(e.attributes).forEach((A=>{t.format(A,e.attributes[A])}))}}))),"block"===n.type&&n.delta.length()&&Hr(this,r?r.offset(r.scroll)+o:this.length(),n.delta),this.batchEnd(),this.optimize()}isEnabled(){return"true"===this.domNode.getAttribute("contenteditable")}leaf(e){const t=this.path(e).pop();if(!t)return[null,-1];const[A,n]=t;return A instanceof an?[A,n]:[null,-1]}line(e){return e===this.length()?this.line(e-1):this.descendant(Lr,e)}lines(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Number.MAX_VALUE;const A=(e,t,n)=>{let i=[],r=n;return e.children.forEachAt(t,n,((e,t,n)=>{Lr(e)?i.push(e):e instanceof vn&&(i=i.concat(A(e,t,r))),r-=n})),i};return A(this,e,t)}optimize(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.batch||(super.optimize(e,t),e.length>0&&this.emitter.emit(Xi.events.SCROLL_OPTIMIZE,e,t))}path(e){return super.path(e).slice(1)}remove(){}update(e){if(this.batch)return void(Array.isArray(e)&&(this.batch=this.batch.concat(e)));let t=Xi.sources.USER;"string"==typeof e&&(t=e),Array.isArray(e)||(e=this.observer.takeRecords()),(e=e.filter((e=>{let{target:t}=e;const A=this.find(t,!0);return A&&!Sr(A)}))).length>0&&this.emitter.emit(Xi.events.SCROLL_BEFORE_UPDATE,t,e),super.update(e.concat([])),e.length>0&&this.emitter.emit(Xi.events.SCROLL_UPDATE,t,e)}updateEmbedAt(e,t,A){const[n]=this.descendant((e=>e instanceof Oi),e);n&&n.statics.blotName===t&&Sr(n)&&n.updateContent(A)}handleDragStart(e){e.preventDefault()}deltaToRenderBlocks(e){const t=[];let A=new En;return e.forEach((e=>{const n=e?.insert;if(n)if("string"==typeof n){const i=n.split("\n");i.slice(0,-1).forEach((n=>{A.insert(n,e.attributes),t.push({type:"block",delta:A,attributes:e.attributes??{}}),A=new En}));const r=i[i.length-1];r&&A.insert(r,e.attributes)}else{const i=Object.keys(n)[0];if(!i)return;this.query(i,WA.INLINE)?A.push(e):(A.length()&&t.push({type:"block",delta:A,attributes:{}}),A=new En,t.push({type:"blockEmbed",key:i,value:n[i],attributes:e.attributes??{}}))}})),A.length()&&t.push({type:"block",delta:A,attributes:{}}),t}createBlock(e,t){let A;const n={};Object.entries(e).forEach((e=>{let[t,i]=e;null!=this.query(t,WA.BLOCK&WA.BLOT)?A=t:n[t]=i}));const i=this.create(A||this.statics.defaultChild.blotName,A?e[A]:void 0);this.insertBefore(i,t||void 0);const r=i.length();return Object.entries(n).forEach((e=>{let[t,A]=e;i.formatAt(0,r,t,A)})),i}},"blots/text":Hi,"modules/clipboard":class extends dr{static DEFAULTS={matchers:[]};constructor(e,t){super(e,t),this.quill.root.addEventListener("copy",(e=>this.onCaptureCopy(e,!1))),this.quill.root.addEventListener("cut",(e=>this.onCaptureCopy(e,!0))),this.quill.root.addEventListener("paste",this.onCapturePaste.bind(this)),this.matchers=[],Bo.concat(this.options.matchers??[]).forEach((e=>{let[t,A]=e;this.addMatcher(t,A)}))}addMatcher(e,t){this.matchers.push([e,t])}convert(e){let{html:t,text:A}=e,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(n[Kr.blotName])return(new En).insert(A||"",{[Kr.blotName]:n[Kr.blotName]});if(!t)return(new En).insert(A||"",n);const i=this.convertHTML(t);return bo(i,"\n")&&(null==i.ops[i.ops.length-1].attributes||n.table)?i.compose((new En).retain(i.length()-1).delete(1)):i}normalizeHTML(e){(e=>{e.documentElement&&mo.forEach((t=>{t(e)}))})(e)}convertHTML(e){const t=(new DOMParser).parseFromString(e,"text/html");this.normalizeHTML(t);const A=t.body,n=new WeakMap,[i,r]=this.prepareMatching(A,n);return Uo(this.quill.scroll,A,i,r,n)}dangerouslyPasteHTML(e,t){let A=arguments.length>2&&void 0!==arguments[2]?arguments[2]:br.sources.API;if("string"==typeof e){const A=this.convert({html:e,text:""});this.quill.setContents(A,t),this.quill.setSelection(0,br.sources.SILENT)}else{const n=this.convert({html:t,text:""});this.quill.updateContents((new En).retain(e).concat(n),A),this.quill.setSelection(e+n.length(),br.sources.SILENT)}}onCaptureCopy(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(e.defaultPrevented)return;e.preventDefault();const[A]=this.quill.selection.getRange();if(null==A)return;const{html:n,text:i}=this.onCopy(A,t);e.clipboardData?.setData("text/plain",i),e.clipboardData?.setData("text/html",n),t&&lo({range:A,quill:this.quill})}normalizeURIList(e){return e.split(/\r?\n/).filter((e=>"#"!==e[0])).join("\n")}onCapturePaste(e){if(e.defaultPrevented||!this.quill.isEnabled())return;e.preventDefault();const t=this.quill.getSelection(!0);if(null==t)return;const A=e.clipboardData?.getData("text/html");let n=e.clipboardData?.getData("text/plain");if(!A&&!n){const t=e.clipboardData?.getData("text/uri-list");t&&(n=this.normalizeURIList(t))}const i=Array.from(e.clipboardData?.files||[]);if(!A&&i.length>0)this.quill.uploader.upload(t,i);else{if(A&&i.length>0){const e=(new DOMParser).parseFromString(A,"text/html");if(1===e.body.childElementCount&&"IMG"===e.body.firstElementChild?.tagName)return void this.quill.uploader.upload(t,i)}this.onPaste(t,{html:A,text:n})}}onCopy(e){const t=this.quill.getText(e);return{html:this.quill.getSemanticHTML(e),text:t}}onPaste(e,t){let{text:A,html:n}=t;const i=this.quill.getFormat(e.index),r=this.convert({text:A,html:n},i);vo.log("onPaste",r,{text:A,html:n});const o=(new En).retain(e.index).delete(e.length).concat(r);this.quill.updateContents(o,br.sources.USER),this.quill.setSelection(o.length()-e.length,br.sources.SILENT),this.quill.scrollSelectionIntoView()}prepareMatching(e,t){const A=[],n=[];return this.matchers.forEach((i=>{const[r,o]=i;switch(r){case Node.TEXT_NODE:n.push(o);break;case Node.ELEMENT_NODE:A.push(o);break;default:Array.from(e.querySelectorAll(r)).forEach((e=>{if(t.has(e)){const A=t.get(e);A?.push(o)}else t.set(e,[o])}))}})),[A,n]}},"modules/history":class extends dr{static DEFAULTS={delay:1e3,maxStack:100,userOnly:!1};lastRecorded=0;ignoreChange=!1;stack={undo:[],redo:[]};currentRange=null;constructor(e,t){super(e,t),this.quill.on(br.events.EDITOR_CHANGE,((e,t,A,n)=>{e===br.events.SELECTION_CHANGE?t&&n!==br.sources.SILENT&&(this.currentRange=t):e===br.events.TEXT_CHANGE&&(this.ignoreChange||(this.options.userOnly&&n!==br.sources.USER?this.transform(t):this.record(t,A)),this.currentRange=Lo(this.currentRange,t))})),this.quill.keyboard.addBinding({key:"z",shortKey:!0},this.undo.bind(this)),this.quill.keyboard.addBinding({key:["z","Z"],shortKey:!0,shiftKey:!0},this.redo.bind(this)),/Win/i.test(navigator.platform)&&this.quill.keyboard.addBinding({key:"y",shortKey:!0},this.redo.bind(this)),this.quill.root.addEventListener("beforeinput",(e=>{"historyUndo"===e.inputType?(this.undo(),e.preventDefault()):"historyRedo"===e.inputType&&(this.redo(),e.preventDefault())}))}change(e,t){if(0===this.stack[e].length)return;const A=this.stack[e].pop();if(!A)return;const n=this.quill.getContents(),i=A.delta.invert(n);this.stack[t].push({delta:i,range:Lo(A.range,i)}),this.lastRecorded=0,this.ignoreChange=!0,this.quill.updateContents(A.delta,br.sources.USER),this.ignoreChange=!1,this.restoreSelection(A)}clear(){this.stack={undo:[],redo:[]}}cutoff(){this.lastRecorded=0}record(e,t){if(0===e.ops.length)return;this.stack.redo=[];let A=e.invert(t),n=this.currentRange;const i=Date.now();if(this.lastRecorded+this.options.delay>i&&this.stack.undo.length>0){const e=this.stack.undo.pop();e&&(A=A.compose(e.delta),n=e.range)}else this.lastRecorded=i;0!==A.length()&&(this.stack.undo.push({delta:A,range:n}),this.stack.undo.length>this.options.maxStack&&this.stack.undo.shift())}redo(){this.change("redo","undo")}transform(e){To(this.stack.undo,e),To(this.stack.redo,e)}undo(){this.change("undo","redo")}restoreSelection(e){if(e.range)this.quill.setSelection(e.range,br.sources.USER);else{const t=function(e,t){const A=t.reduce(((e,t)=>e+(t.delete||0)),0);let n=t.length()-A;return function(e,t){const A=t.ops[t.ops.length-1];return null!=A&&(null!=A.insert?"string"==typeof A.insert&&A.insert.endsWith("\n"):null!=A.attributes&&Object.keys(A.attributes).some((t=>null!=e.query(t,WA.BLOCK))))}(e,t)&&(n-=1),n}(this.quill.scroll,e.delta);this.quill.setSelection(t,br.sources.USER)}}},"modules/keyboard":no,"modules/uploader":Ho,"modules/input":class extends dr{constructor(e,t){super(e,t),e.root.addEventListener("beforeinput",(e=>{this.handleBeforeInput(e)})),/Android/i.test(navigator.userAgent)||e.on(br.events.COMPOSITION_BEFORE_START,(()=>{this.handleCompositionStart()}))}deleteRange(e){lo({range:e,quill:this.quill})}replaceText(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";if(0===e.length)return!1;if(t){const A=this.quill.getFormat(e.index,1);this.deleteRange(e),this.quill.updateContents((new En).retain(e.index).insert(t,A),br.sources.USER)}else this.deleteRange(e);return this.quill.setSelection(e.index+t.length,0,br.sources.SILENT),!0}handleBeforeInput(e){if(this.quill.composition.isComposing||e.defaultPrevented||!Mo.includes(e.inputType))return;const t=e.getTargetRanges?e.getTargetRanges()[0]:null;if(!t||!0===t.collapsed)return;const A=function(e){return"string"==typeof e.data?e.data:e.dataTransfer?.types.includes("text/plain")?e.dataTransfer.getData("text/plain"):null}(e);if(null==A)return;const n=this.quill.selection.normalizeNative(t),i=n?this.quill.selection.normalizedToRange(n):null;i&&this.replaceText(i,A)&&e.preventDefault()}handleCompositionStart(){const e=this.quill.getSelection();e&&this.replaceText(e)}},"modules/uiNode":class extends dr{isListening=!1;selectionChangeDeadline=0;constructor(e,t){super(e,t),this.handleArrowKeys(),this.handleNavigationShortcuts()}handleArrowKeys(){this.quill.keyboard.addBinding({key:["ArrowLeft","ArrowRight"],offset:0,shiftKey:null,handler(e,t){let{line:A,event:n}=t;if(!(A instanceof un&&A.uiNode))return!0;const i="rtl"===getComputedStyle(A.domNode).direction;return!!(i&&"ArrowRight"!==n.key||!i&&"ArrowLeft"!==n.key)||(this.quill.setSelection(e.index-1,e.length+(n.shiftKey?1:0),br.sources.USER),!1)}})}handleNavigationShortcuts(){this.quill.root.addEventListener("keydown",(e=>{!e.defaultPrevented&&(e=>"ArrowLeft"===e.key||"ArrowRight"===e.key||"ArrowUp"===e.key||"ArrowDown"===e.key||"Home"===e.key||!(!ko||"a"!==e.key||!0!==e.ctrlKey))(e)&&this.ensureListeningToSelectionChange()}))}ensureListeningToSelectionChange(){this.selectionChangeDeadline=Date.now()+100,this.isListening||(this.isListening=!0,document.addEventListener("selectionchange",(()=>{this.isListening=!1,Date.now()<=this.selectionChangeDeadline&&this.handleSelectionChange()}),{once:!0}))}handleSelectionChange(){const e=document.getSelection();if(!e)return;const t=e.getRangeAt(0);if(!0!==t.collapsed||0!==t.startOffset)return;const A=this.quill.scroll.find(t.startContainer);if(!(A instanceof un&&A.uiNode))return;const n=document.createRange();n.setStartAfter(A.uiNode),n.setEndAfter(A.uiNode),e.removeAllRanges(),e.addRange(n)}}});const Po=br,No=new class extends en{add(e,t){let A=0;if("+1"===t||"-1"===t){const n=this.value(e)||0;A="+1"===t?n+1:n-1}else"number"==typeof t&&(A=t);return 0===A?(this.remove(e),!0):super.add(e,A.toString())}canAdd(e,t){return super.canAdd(e,t)||super.canAdd(e,parseInt(t,10))}value(e){return parseInt(super.value(e),10)||void 0}}("indent","ql-indent",{scope:WA.BLOCK,whitelist:[1,2,3,4,5,6,7,8]});class Do extends Tr{}Do.blotName="list-container",Do.tagName="OL";class Oo extends Di{static create(e){const t=super.create();return t.setAttribute("data-list",e),t}static formats(e){return e.getAttribute("data-list")||void 0}static register(){br.register(Do)}constructor(e,t){super(e,t);const A=t.ownerDocument.createElement("span"),n=A=>{if(!e.isEnabled())return;const n=this.statics.formats(t,e);"checked"===n?(this.format("list","unchecked"),A.preventDefault()):"unchecked"===n&&(this.format("list","checked"),A.preventDefault())};A.addEventListener("mousedown",n),A.addEventListener("touchstart",n),this.attachUI(A)}format(e,t){e===this.statics.blotName&&t?this.domNode.setAttribute("data-list",t):super.format(e,t)}}Oo.blotName="list",Oo.tagName="LI",Do.allowedChildren=[Oo],Oo.requiredContainer=Do;const _o=class extends Ni{static blotName="bold";static tagName=["STRONG","B"];static create(){return super.create()}static formats(){return!0}optimize(e){super.optimize(e),this.domNode.tagName!==this.statics.tagName[0]&&this.replaceWith(this.statics.blotName)}};class Vo extends Ni{static blotName="link";static tagName="A";static SANITIZED_URL="about:blank";static PROTOCOL_WHITELIST=["http","https","mailto","tel","sms"];static create(e){const t=super.create(e);return t.setAttribute("href",this.sanitize(e)),t.setAttribute("rel","noopener noreferrer"),t.setAttribute("target","_blank"),t}static formats(e){return e.getAttribute("href")}static sanitize(e){return $o(e,this.PROTOCOL_WHITELIST)?e:this.SANITIZED_URL}format(e,t){e===this.statics.blotName&&t?this.domNode.setAttribute("href",this.constructor.sanitize(t)):super.format(e,t)}}function $o(e,t){const A=document.createElement("a");A.href=e;const n=A.href.slice(0,A.href.indexOf(":"));return t.indexOf(n)>-1}const jo=["alt","height","width"],Ko=["height","width"],Ro=new en("code-token","hljs",{scope:WA.INLINE});class qo extends Ni{static formats(e,t){for(;null!=e&&e!==t.domNode;){if(e.classList&&e.classList.contains(Kr.className))return super.formats(e,t);e=e.parentNode}}constructor(e,t,A){super(e,t,A),Ro.add(this.domNode,A)}format(e,t){e!==qo.blotName?super.format(e,t):t?Ro.add(this.domNode,t):(Ro.remove(this.domNode),this.domNode.classList.remove(this.statics.className))}optimize(){super.optimize(...arguments),Ro.value(this.domNode)||this.unwrap()}}qo.blotName="code-token",qo.className="ql-token";class Go extends Kr{static create(e){const t=super.create(e);return"string"==typeof e&&t.setAttribute("data-language",e),t}static formats(e){return e.getAttribute("data-language")||"plain"}static register(){}format(e,t){e===this.statics.blotName&&t?this.domNode.setAttribute("data-language",t):super.format(e,t)}replaceWith(e,t){return this.formatAt(0,this.length(),qo.blotName,!1),super.replaceWith(e,t)}}class Wo extends jr{attach(){super.attach(),this.forceNext=!1,this.scroll.emitMount(this)}format(e,t){e===Go.blotName&&(this.forceNext=!0,this.children.forEach((A=>{A.format(e,t)})))}formatAt(e,t,A,n){A===Go.blotName&&(this.forceNext=!0),super.formatAt(e,t,A,n)}highlight(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(null==this.children.head)return;const A=`${Array.from(this.domNode.childNodes).filter((e=>e!==this.uiNode)).map((e=>e.textContent)).join("\n")}\n`,n=Go.formats(this.children.head.domNode);if(t||this.forceNext||this.cachedText!==A){if(A.trim().length>0||null==this.cachedText){const t=this.children.reduce(((e,t)=>e.concat(_i(t,!1))),new En),i=e(A,n);t.diff(i).reduce(((e,t)=>{let{retain:A,attributes:n}=t;return A?(n&&Object.keys(n).forEach((t=>{[Go.blotName,qo.blotName].includes(t)&&this.formatAt(e,A,t,n[t])})),e+A):e}),0)}this.cachedText=A,this.forceNext=!1}}html(e,t){const[A]=this.children.find(e);return`<pre data-language="${A?Go.formats(A.domNode):"plain"}">\n${ki(this.code(e,t))}\n</pre>`}optimize(e){if(super.optimize(e),null!=this.parent&&null!=this.children.head&&null!=this.uiNode){const e=Go.formats(this.children.head.domNode);e!==this.uiNode.value&&(this.uiNode.value=e)}}}Wo.allowedChildren=[Go],Go.requiredContainer=Wo,Go.allowedChildren=[qo,ji,Hi,Si];class Zo extends dr{static register(){br.register(qo,!0),br.register(Go,!0),br.register(Wo,!0)}constructor(e,t){if(super(e,t),null==this.options.hljs)throw new Error("Syntax module requires highlight.js. Please include the library on the page before Quill.");this.languages=this.options.languages.reduce(((e,t)=>{let{key:A}=t;return e[A]=!0,e}),{}),this.highlightBlot=this.highlightBlot.bind(this),this.initListener(),this.initTimer()}initListener(){this.quill.on(br.events.SCROLL_BLOT_MOUNT,(e=>{if(!(e instanceof Wo))return;const t=this.quill.root.ownerDocument.createElement("select");this.options.languages.forEach((e=>{let{key:A,label:n}=e;const i=t.ownerDocument.createElement("option");i.textContent=n,i.setAttribute("value",A),t.appendChild(i)})),t.addEventListener("change",(()=>{e.format(Go.blotName,t.value),this.quill.root.focus(),this.highlight(e,!0)})),null==e.uiNode&&(e.attachUI(t),e.children.head&&(t.value=Go.formats(e.children.head.domNode)))}))}initTimer(){let e=null;this.quill.on(br.events.SCROLL_OPTIMIZE,(()=>{e&&clearTimeout(e),e=setTimeout((()=>{this.highlight(),e=null}),this.options.interval)}))}highlight(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(this.quill.selection.composing)return;this.quill.update(br.sources.USER);const A=this.quill.getSelection();(null==e?this.quill.scroll.descendants(Wo):[e]).forEach((e=>{e.highlight(this.highlightBlot,t)})),this.quill.update(br.sources.SILENT),null!=A&&this.quill.setSelection(A,br.sources.SILENT)}highlightBlot(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"plain";if(t=this.languages[t]?t:"plain","plain"===t)return ki(e).split("\n").reduce(((e,A,n)=>(0!==n&&e.insert("\n",{[Kr.blotName]:t}),e.insert(A))),new En);const A=this.quill.root.ownerDocument.createElement("div");return A.classList.add(Kr.className),A.innerHTML=((e,t,A)=>{if("string"==typeof e.versionString){const n=e.versionString.split(".")[0];if(parseInt(n,10)>=11)return e.highlight(A,{language:t}).value}return e.highlight(t,A).value})(this.options.hljs,t,e),Uo(this.quill.scroll,A,[(e,t)=>{const A=Ro.value(e);return A?t.compose((new En).retain(t.length(),{[qo.blotName]:A})):t}],[(e,A)=>e.data.split("\n").reduce(((e,A,n)=>(0!==n&&e.insert("\n",{[Kr.blotName]:t}),e.insert(A))),A)],new WeakMap)}}Zo.DEFAULTS={hljs:window.hljs,interval:1e3,languages:[{key:"plain",label:"Plain"},{key:"bash",label:"Bash"},{key:"cpp",label:"C++"},{key:"cs",label:"C#"},{key:"css",label:"CSS"},{key:"diff",label:"Diff"},{key:"xml",label:"HTML/XML"},{key:"java",label:"Java"},{key:"javascript",label:"JavaScript"},{key:"markdown",label:"Markdown"},{key:"php",label:"PHP"},{key:"python",label:"Python"},{key:"ruby",label:"Ruby"},{key:"sql",label:"SQL"}]};class zo extends Di{static blotName="table";static tagName="TD";static create(e){const t=super.create();return e?t.setAttribute("data-row",e):t.setAttribute("data-row",es()),t}static formats(e){if(e.hasAttribute("data-row"))return e.getAttribute("data-row")}cellOffset(){return this.parent?this.parent.children.indexOf(this):-1}format(e,t){e===zo.blotName&&t?this.domNode.setAttribute("data-row",t):super.format(e,t)}row(){return this.parent}rowOffset(){return this.row()?this.row().rowOffset():-1}table(){return this.row()&&this.row().table()}}class Jo extends Tr{static blotName="table-row";static tagName="TR";checkMerge(){if(super.checkMerge()&&null!=this.next.children.head){const e=this.children.head.formats(),t=this.children.tail.formats(),A=this.next.children.head.formats(),n=this.next.children.tail.formats();return e.table===t.table&&e.table===A.table&&e.table===n.table}return!1}optimize(e){super.optimize(e),this.children.forEach((e=>{if(null==e.next)return;const t=e.formats(),A=e.next.formats();if(t.table!==A.table){const t=this.splitAfter(e);t&&t.optimize(),this.prev&&this.prev.optimize()}}))}rowOffset(){return this.parent?this.parent.children.indexOf(this):-1}table(){return this.parent&&this.parent.parent}}class Xo extends Tr{static blotName="table-body";static tagName="TBODY"}class Yo extends Tr{static blotName="table-container";static tagName="TABLE";balanceCells(){const e=this.descendants(Jo),t=e.reduce(((e,t)=>Math.max(t.children.length,e)),0);e.forEach((e=>{new Array(t-e.children.length).fill(0).forEach((()=>{let t;null!=e.children.head&&(t=zo.formats(e.children.head.domNode));const A=this.scroll.create(zo.blotName,t);e.appendChild(A),A.optimize()}))}))}cells(e){return this.rows().map((t=>t.children.at(e)))}deleteColumn(e){const[t]=this.descendant(Xo);null!=t&&null!=t.children.head&&t.children.forEach((t=>{const A=t.children.at(e);null!=A&&A.remove()}))}insertColumn(e){const[t]=this.descendant(Xo);null!=t&&null!=t.children.head&&t.children.forEach((t=>{const A=t.children.at(e),n=zo.formats(t.children.head.domNode),i=this.scroll.create(zo.blotName,n);t.insertBefore(i,A)}))}insertRow(e){const[t]=this.descendant(Xo);if(null==t||null==t.children.head)return;const A=es(),n=this.scroll.create(Jo.blotName);t.children.head.children.forEach((()=>{const e=this.scroll.create(zo.blotName,A);n.appendChild(e)}));const i=t.children.at(e);t.insertBefore(n,i)}rows(){const e=this.children.head;return null==e?[]:e.children.map((e=>e))}}function es(){return`row-${Math.random().toString(36).slice(2,6)}`}Yo.allowedChildren=[Xo],Xo.requiredContainer=Yo,Xo.allowedChildren=[Jo],Jo.requiredContainer=Xo,Jo.allowedChildren=[zo],zo.requiredContainer=Jo;const ts=zi("quill:toolbar");class As extends dr{constructor(e,t){if(super(e,t),Array.isArray(this.options.container)){const t=document.createElement("div");t.setAttribute("role","toolbar"),function(e,t){Array.isArray(t[0])||(t=[t]),t.forEach((t=>{const A=document.createElement("span");A.classList.add("ql-formats"),t.forEach((e=>{if("string"==typeof e)ns(A,e);else{const t=Object.keys(e)[0],n=e[t];Array.isArray(n)?function(e,t,A){const n=document.createElement("select");n.classList.add(`ql-${t}`),A.forEach((e=>{const t=document.createElement("option");!1!==e?t.setAttribute("value",String(e)):t.setAttribute("selected","selected"),n.appendChild(t)})),e.appendChild(n)}(A,t,n):ns(A,t,n)}})),e.appendChild(A)}))}(t,this.options.container),e.container?.parentNode?.insertBefore(t,e.container),this.container=t}else"string"==typeof this.options.container?this.container=document.querySelector(this.options.container):this.container=this.options.container;this.container instanceof HTMLElement?(this.container.classList.add("ql-toolbar"),this.controls=[],this.handlers={},this.options.handlers&&Object.keys(this.options.handlers).forEach((e=>{const t=this.options.handlers?.[e];t&&this.addHandler(e,t)})),Array.from(this.container.querySelectorAll("button, select")).forEach((e=>{this.attach(e)})),this.quill.on(br.events.EDITOR_CHANGE,(()=>{const[e]=this.quill.selection.getRange();this.update(e)}))):ts.error("Container required for toolbar",this.options)}addHandler(e,t){this.handlers[e]=t}attach(e){let t=Array.from(e.classList).find((e=>0===e.indexOf("ql-")));if(!t)return;if(t=t.slice(3),"BUTTON"===e.tagName&&e.setAttribute("type","button"),null==this.handlers[t]&&null==this.quill.scroll.query(t))return void ts.warn("ignoring attaching to nonexistent format",t,e);const A="SELECT"===e.tagName?"change":"click";e.addEventListener(A,(A=>{let n;if("SELECT"===e.tagName){if(e.selectedIndex<0)return;const t=e.options[e.selectedIndex];n=!t.hasAttribute("selected")&&(t.value||!1)}else n=!e.classList.contains("ql-active")&&(e.value||!e.hasAttribute("value")),A.preventDefault();this.quill.focus();const[i]=this.quill.selection.getRange();if(null!=this.handlers[t])this.handlers[t].call(this,n);else if(this.quill.scroll.query(t).prototype instanceof Bn){if(n=prompt(`Enter ${t}`),!n)return;this.quill.updateContents((new En).retain(i.index).delete(i.length).insert({[t]:n}),br.sources.USER)}else this.quill.format(t,n,br.sources.USER);this.update(i)})),this.controls.push([t,e])}update(e){const t=null==e?{}:this.quill.getFormat(e);this.controls.forEach((A=>{const[n,i]=A;if("SELECT"===i.tagName){let A=null;if(null==e)A=null;else if(null==t[n])A=i.querySelector("option[selected]");else if(!Array.isArray(t[n])){let e=t[n];"string"==typeof e&&(e=e.replace(/"/g,'\\"')),A=i.querySelector(`option[value="${e}"]`)}null==A?(i.value="",i.selectedIndex=-1):A.selected=!0}else if(null==e)i.classList.remove("ql-active"),i.setAttribute("aria-pressed","false");else if(i.hasAttribute("value")){const e=t[n],A=e===i.getAttribute("value")||null!=e&&e.toString()===i.getAttribute("value")||null==e&&!i.getAttribute("value");i.classList.toggle("ql-active",A),i.setAttribute("aria-pressed",A.toString())}else{const e=null!=t[n];i.classList.toggle("ql-active",e),i.setAttribute("aria-pressed",e.toString())}}))}}function ns(e,t,A){const n=document.createElement("button");n.setAttribute("type","button"),n.classList.add(`ql-${t}`),n.setAttribute("aria-pressed","false"),null!=A?(n.value=A,n.setAttribute("aria-label",`${t}: ${A}`)):n.setAttribute("aria-label",t),e.appendChild(n)}As.DEFAULTS={},As.DEFAULTS={container:null,handlers:{clean(){const e=this.quill.getSelection();if(null!=e)if(0===e.length){const e=this.quill.getFormat();Object.keys(e).forEach((e=>{null!=this.quill.scroll.query(e,WA.INLINE)&&this.quill.format(e,!1,br.sources.USER)}))}else this.quill.removeFormat(e.index,e.length,br.sources.USER)},direction(e){const{align:t}=this.quill.getFormat();"rtl"===e&&null==t?this.quill.format("align","right",br.sources.USER):e||"right"!==t||this.quill.format("align",!1,br.sources.USER),this.quill.format("direction",e,br.sources.USER)},indent(e){const t=this.quill.getSelection(),A=this.quill.getFormat(t),n=parseInt(A.indent||0,10);if("+1"===e||"-1"===e){let t="+1"===e?1:-1;"rtl"===A.direction&&(t*=-1),this.quill.format("indent",n+t,br.sources.USER)}},link(e){!0===e&&(e=prompt("Enter link URL:")),this.quill.format("link",e,br.sources.USER)},list(e){const t=this.quill.getSelection(),A=this.quill.getFormat(t);"check"===e?"checked"===A.list||"unchecked"===A.list?this.quill.format("list",!1,br.sources.USER):this.quill.format("list","unchecked",br.sources.USER):this.quill.format("list",e,br.sources.USER)}}};const is='<svg viewbox="0 0 18 18"><polyline class="ql-even ql-stroke" points="5 7 3 9 5 11"/><polyline class="ql-even ql-stroke" points="13 7 15 9 13 11"/><line class="ql-stroke" x1="10" x2="8" y1="5" y2="13"/></svg>',rs={align:{"":'<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="3" x2="15" y1="9" y2="9"/><line class="ql-stroke" x1="3" x2="13" y1="14" y2="14"/><line class="ql-stroke" x1="3" x2="9" y1="4" y2="4"/></svg>',center:'<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="15" x2="3" y1="9" y2="9"/><line class="ql-stroke" x1="14" x2="4" y1="14" y2="14"/><line class="ql-stroke" x1="12" x2="6" y1="4" y2="4"/></svg>',right:'<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="15" x2="3" y1="9" y2="9"/><line class="ql-stroke" x1="15" x2="5" y1="14" y2="14"/><line class="ql-stroke" x1="15" x2="9" y1="4" y2="4"/></svg>',justify:'<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="15" x2="3" y1="9" y2="9"/><line class="ql-stroke" x1="15" x2="3" y1="14" y2="14"/><line class="ql-stroke" x1="15" x2="3" y1="4" y2="4"/></svg>'},background:'<svg viewbox="0 0 18 18"><g class="ql-fill ql-color-label"><polygon points="6 6.868 6 6 5 6 5 7 5.942 7 6 6.868"/><rect height="1" width="1" x="4" y="4"/><polygon points="6.817 5 6 5 6 6 6.38 6 6.817 5"/><rect height="1" width="1" x="2" y="6"/><rect height="1" width="1" x="3" y="5"/><rect height="1" width="1" x="4" y="7"/><polygon points="4 11.439 4 11 3 11 3 12 3.755 12 4 11.439"/><rect height="1" width="1" x="2" y="12"/><rect height="1" width="1" x="2" y="9"/><rect height="1" width="1" x="2" y="15"/><polygon points="4.63 10 4 10 4 11 4.192 11 4.63 10"/><rect height="1" width="1" x="3" y="8"/><path d="M10.832,4.2L11,4.582V4H10.708A1.948,1.948,0,0,1,10.832,4.2Z"/><path d="M7,4.582L7.168,4.2A1.929,1.929,0,0,1,7.292,4H7V4.582Z"/><path d="M8,13H7.683l-0.351.8a1.933,1.933,0,0,1-.124.2H8V13Z"/><rect height="1" width="1" x="12" y="2"/><rect height="1" width="1" x="11" y="3"/><path d="M9,3H8V3.282A1.985,1.985,0,0,1,9,3Z"/><rect height="1" width="1" x="2" y="3"/><rect height="1" width="1" x="6" y="2"/><rect height="1" width="1" x="3" y="2"/><rect height="1" width="1" x="5" y="3"/><rect height="1" width="1" x="9" y="2"/><rect height="1" width="1" x="15" y="14"/><polygon points="13.447 10.174 13.469 10.225 13.472 10.232 13.808 11 14 11 14 10 13.37 10 13.447 10.174"/><rect height="1" width="1" x="13" y="7"/><rect height="1" width="1" x="15" y="5"/><rect height="1" width="1" x="14" y="6"/><rect height="1" width="1" x="15" y="8"/><rect height="1" width="1" x="14" y="9"/><path d="M3.775,14H3v1H4V14.314A1.97,1.97,0,0,1,3.775,14Z"/><rect height="1" width="1" x="14" y="3"/><polygon points="12 6.868 12 6 11.62 6 12 6.868"/><rect height="1" width="1" x="15" y="2"/><rect height="1" width="1" x="12" y="5"/><rect height="1" width="1" x="13" y="4"/><polygon points="12.933 9 13 9 13 8 12.495 8 12.933 9"/><rect height="1" width="1" x="9" y="14"/><rect height="1" width="1" x="8" y="15"/><path d="M6,14.926V15H7V14.316A1.993,1.993,0,0,1,6,14.926Z"/><rect height="1" width="1" x="5" y="15"/><path d="M10.668,13.8L10.317,13H10v1h0.792A1.947,1.947,0,0,1,10.668,13.8Z"/><rect height="1" width="1" x="11" y="15"/><path d="M14.332,12.2a1.99,1.99,0,0,1,.166.8H15V12H14.245Z"/><rect height="1" width="1" x="14" y="15"/><rect height="1" width="1" x="15" y="11"/></g><polyline class="ql-stroke" points="5.5 13 9 5 12.5 13"/><line class="ql-stroke" x1="11.63" x2="6.38" y1="11" y2="11"/></svg>',blockquote:'<svg viewbox="0 0 18 18"><rect class="ql-fill ql-stroke" height="3" width="3" x="4" y="5"/><rect class="ql-fill ql-stroke" height="3" width="3" x="11" y="5"/><path class="ql-even ql-fill ql-stroke" d="M7,8c0,4.031-3,5-3,5"/><path class="ql-even ql-fill ql-stroke" d="M14,8c0,4.031-3,5-3,5"/></svg>',bold:'<svg viewbox="0 0 18 18"><path class="ql-stroke" d="M5,4H9.5A2.5,2.5,0,0,1,12,6.5v0A2.5,2.5,0,0,1,9.5,9H5A0,0,0,0,1,5,9V4A0,0,0,0,1,5,4Z"/><path class="ql-stroke" d="M5,9h5.5A2.5,2.5,0,0,1,13,11.5v0A2.5,2.5,0,0,1,10.5,14H5a0,0,0,0,1,0,0V9A0,0,0,0,1,5,9Z"/></svg>',clean:'<svg class="" viewbox="0 0 18 18"><line class="ql-stroke" x1="5" x2="13" y1="3" y2="3"/><line class="ql-stroke" x1="6" x2="9.35" y1="12" y2="3"/><line class="ql-stroke" x1="11" x2="15" y1="11" y2="15"/><line class="ql-stroke" x1="15" x2="11" y1="11" y2="15"/><rect class="ql-fill" height="1" rx="0.5" ry="0.5" width="7" x="2" y="14"/></svg>',code:is,"code-block":is,color:'<svg viewbox="0 0 18 18"><line class="ql-color-label ql-stroke ql-transparent" x1="3" x2="15" y1="15" y2="15"/><polyline class="ql-stroke" points="5.5 11 9 3 12.5 11"/><line class="ql-stroke" x1="11.63" x2="6.38" y1="9" y2="9"/></svg>',direction:{"":'<svg viewbox="0 0 18 18"><polygon class="ql-stroke ql-fill" points="3 11 5 9 3 7 3 11"/><line class="ql-stroke ql-fill" x1="15" x2="11" y1="4" y2="4"/><path class="ql-fill" d="M11,3a3,3,0,0,0,0,6h1V3H11Z"/><rect class="ql-fill" height="11" width="1" x="11" y="4"/><rect class="ql-fill" height="11" width="1" x="13" y="4"/></svg>',rtl:'<svg viewbox="0 0 18 18"><polygon class="ql-stroke ql-fill" points="15 12 13 10 15 8 15 12"/><line class="ql-stroke ql-fill" x1="9" x2="5" y1="4" y2="4"/><path class="ql-fill" d="M5,3A3,3,0,0,0,5,9H6V3H5Z"/><rect class="ql-fill" height="11" width="1" x="5" y="4"/><rect class="ql-fill" height="11" width="1" x="7" y="4"/></svg>'},formula:'<svg viewbox="0 0 18 18"><path class="ql-fill" d="M11.759,2.482a2.561,2.561,0,0,0-3.53.607A7.656,7.656,0,0,0,6.8,6.2C6.109,9.188,5.275,14.677,4.15,14.927a1.545,1.545,0,0,0-1.3-.933A0.922,0.922,0,0,0,2,15.036S1.954,16,4.119,16s3.091-2.691,3.7-5.553c0.177-.826.36-1.726,0.554-2.6L8.775,6.2c0.381-1.421.807-2.521,1.306-2.676a1.014,1.014,0,0,0,1.02.56A0.966,0.966,0,0,0,11.759,2.482Z"/><rect class="ql-fill" height="1.6" rx="0.8" ry="0.8" width="5" x="5.15" y="6.2"/><path class="ql-fill" d="M13.663,12.027a1.662,1.662,0,0,1,.266-0.276q0.193,0.069.456,0.138a2.1,2.1,0,0,0,.535.069,1.075,1.075,0,0,0,.767-0.3,1.044,1.044,0,0,0,.314-0.8,0.84,0.84,0,0,0-.238-0.619,0.8,0.8,0,0,0-.594-0.239,1.154,1.154,0,0,0-.781.3,4.607,4.607,0,0,0-.781,1q-0.091.15-.218,0.346l-0.246.38c-0.068-.288-0.137-0.582-0.212-0.885-0.459-1.847-2.494-.984-2.941-0.8-0.482.2-.353,0.647-0.094,0.529a0.869,0.869,0,0,1,1.281.585c0.217,0.751.377,1.436,0.527,2.038a5.688,5.688,0,0,1-.362.467,2.69,2.69,0,0,1-.264.271q-0.221-.08-0.471-0.147a2.029,2.029,0,0,0-.522-0.066,1.079,1.079,0,0,0-.768.3A1.058,1.058,0,0,0,9,15.131a0.82,0.82,0,0,0,.832.852,1.134,1.134,0,0,0,.787-0.3,5.11,5.11,0,0,0,.776-0.993q0.141-.219.215-0.34c0.046-.076.122-0.194,0.223-0.346a2.786,2.786,0,0,0,.918,1.726,2.582,2.582,0,0,0,2.376-.185c0.317-.181.212-0.565,0-0.494A0.807,0.807,0,0,1,14.176,15a5.159,5.159,0,0,1-.913-2.446l0,0Q13.487,12.24,13.663,12.027Z"/></svg>',header:{1:'<svg viewBox="0 0 18 18"><path class="ql-fill" d="M10,4V14a1,1,0,0,1-2,0V10H3v4a1,1,0,0,1-2,0V4A1,1,0,0,1,3,4V8H8V4a1,1,0,0,1,2,0Zm6.06787,9.209H14.98975V7.59863a.54085.54085,0,0,0-.605-.60547h-.62744a1.01119,1.01119,0,0,0-.748.29688L11.645,8.56641a.5435.5435,0,0,0-.022.8584l.28613.30762a.53861.53861,0,0,0,.84717.0332l.09912-.08789a1.2137,1.2137,0,0,0,.2417-.35254h.02246s-.01123.30859-.01123.60547V13.209H12.041a.54085.54085,0,0,0-.605.60547v.43945a.54085.54085,0,0,0,.605.60547h4.02686a.54085.54085,0,0,0,.605-.60547v-.43945A.54085.54085,0,0,0,16.06787,13.209Z"/></svg>',2:'<svg viewBox="0 0 18 18"><path class="ql-fill" d="M16.73975,13.81445v.43945a.54085.54085,0,0,1-.605.60547H11.855a.58392.58392,0,0,1-.64893-.60547V14.0127c0-2.90527,3.39941-3.42187,3.39941-4.55469a.77675.77675,0,0,0-.84717-.78125,1.17684,1.17684,0,0,0-.83594.38477c-.2749.26367-.561.374-.85791.13184l-.4292-.34082c-.30811-.24219-.38525-.51758-.1543-.81445a2.97155,2.97155,0,0,1,2.45361-1.17676,2.45393,2.45393,0,0,1,2.68408,2.40918c0,2.45312-3.1792,2.92676-3.27832,3.93848h2.79443A.54085.54085,0,0,1,16.73975,13.81445ZM9,3A.99974.99974,0,0,0,8,4V8H3V4A1,1,0,0,0,1,4V14a1,1,0,0,0,2,0V10H8v4a1,1,0,0,0,2,0V4A.99974.99974,0,0,0,9,3Z"/></svg>',3:'<svg viewBox="0 0 18 18"><path class="ql-fill" d="M16.65186,12.30664a2.6742,2.6742,0,0,1-2.915,2.68457,3.96592,3.96592,0,0,1-2.25537-.6709.56007.56007,0,0,1-.13232-.83594L11.64648,13c.209-.34082.48389-.36328.82471-.1543a2.32654,2.32654,0,0,0,1.12256.33008c.71484,0,1.12207-.35156,1.12207-.78125,0-.61523-.61621-.86816-1.46338-.86816H13.2085a.65159.65159,0,0,1-.68213-.41895l-.05518-.10937a.67114.67114,0,0,1,.14307-.78125l.71533-.86914a8.55289,8.55289,0,0,1,.68213-.7373V8.58887a3.93913,3.93913,0,0,1-.748.05469H11.9873a.54085.54085,0,0,1-.605-.60547V7.59863a.54085.54085,0,0,1,.605-.60547h3.75146a.53773.53773,0,0,1,.60547.59375v.17676a1.03723,1.03723,0,0,1-.27539.748L14.74854,10.0293A2.31132,2.31132,0,0,1,16.65186,12.30664ZM9,3A.99974.99974,0,0,0,8,4V8H3V4A1,1,0,0,0,1,4V14a1,1,0,0,0,2,0V10H8v4a1,1,0,0,0,2,0V4A.99974.99974,0,0,0,9,3Z"/></svg>',4:'<svg viewBox="0 0 18 18"><path class="ql-fill" d="M10,4V14a1,1,0,0,1-2,0V10H3v4a1,1,0,0,1-2,0V4A1,1,0,0,1,3,4V8H8V4a1,1,0,0,1,2,0Zm7.05371,7.96582v.38477c0,.39648-.165.60547-.46191.60547h-.47314v1.29785a.54085.54085,0,0,1-.605.60547h-.69336a.54085.54085,0,0,1-.605-.60547V12.95605H11.333a.5412.5412,0,0,1-.60547-.60547v-.15332a1.199,1.199,0,0,1,.22021-.748l2.56348-4.05957a.7819.7819,0,0,1,.72607-.39648h1.27637a.54085.54085,0,0,1,.605.60547v3.7627h.33008A.54055.54055,0,0,1,17.05371,11.96582ZM14.28125,8.7207h-.022a4.18969,4.18969,0,0,1-.38525.81348l-1.188,1.80469v.02246h1.5293V9.60059A7.04058,7.04058,0,0,1,14.28125,8.7207Z"/></svg>',5:'<svg viewBox="0 0 18 18"><path class="ql-fill" d="M16.74023,12.18555a2.75131,2.75131,0,0,1-2.91553,2.80566,3.908,3.908,0,0,1-2.25537-.68164.54809.54809,0,0,1-.13184-.8252L11.73438,13c.209-.34082.48389-.36328.8252-.1543a2.23757,2.23757,0,0,0,1.1001.33008,1.01827,1.01827,0,0,0,1.1001-.96777c0-.61621-.53906-.97949-1.25439-.97949a2.15554,2.15554,0,0,0-.64893.09961,1.15209,1.15209,0,0,1-.814.01074l-.12109-.04395a.64116.64116,0,0,1-.45117-.71484l.231-3.00391a.56666.56666,0,0,1,.62744-.583H15.541a.54085.54085,0,0,1,.605.60547v.43945a.54085.54085,0,0,1-.605.60547H13.41748l-.04395.72559a1.29306,1.29306,0,0,1-.04395.30859h.022a2.39776,2.39776,0,0,1,.57227-.07715A2.53266,2.53266,0,0,1,16.74023,12.18555ZM9,3A.99974.99974,0,0,0,8,4V8H3V4A1,1,0,0,0,1,4V14a1,1,0,0,0,2,0V10H8v4a1,1,0,0,0,2,0V4A.99974.99974,0,0,0,9,3Z"/></svg>',6:'<svg viewBox="0 0 18 18"><path class="ql-fill" d="M14.51758,9.64453a1.85627,1.85627,0,0,0-1.24316.38477H13.252a1.73532,1.73532,0,0,1,1.72754-1.4082,2.66491,2.66491,0,0,1,.5498.06641c.35254.05469.57227.01074.70508-.40723l.16406-.5166a.53393.53393,0,0,0-.373-.75977,4.83723,4.83723,0,0,0-1.17773-.14258c-2.43164,0-3.7627,2.17773-3.7627,4.43359,0,2.47559,1.60645,3.69629,3.19043,3.69629A2.70585,2.70585,0,0,0,16.96,12.19727,2.43861,2.43861,0,0,0,14.51758,9.64453Zm-.23047,3.58691c-.67187,0-1.22168-.81445-1.22168-1.45215,0-.47363.30762-.583.72559-.583.96875,0,1.27734.59375,1.27734,1.12207A.82182.82182,0,0,1,14.28711,13.23145ZM10,4V14a1,1,0,0,1-2,0V10H3v4a1,1,0,0,1-2,0V4A1,1,0,0,1,3,4V8H8V4a1,1,0,0,1,2,0Z"/></svg>'},italic:'<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="7" x2="13" y1="4" y2="4"/><line class="ql-stroke" x1="5" x2="11" y1="14" y2="14"/><line class="ql-stroke" x1="8" x2="10" y1="14" y2="4"/></svg>',image:'<svg viewbox="0 0 18 18"><rect class="ql-stroke" height="10" width="12" x="3" y="4"/><circle class="ql-fill" cx="6" cy="7" r="1"/><polyline class="ql-even ql-fill" points="5 12 5 11 7 9 8 10 11 7 13 9 13 12 5 12"/></svg>',indent:{"+1":'<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="3" x2="15" y1="14" y2="14"/><line class="ql-stroke" x1="3" x2="15" y1="4" y2="4"/><line class="ql-stroke" x1="9" x2="15" y1="9" y2="9"/><polyline class="ql-fill ql-stroke" points="3 7 3 11 5 9 3 7"/></svg>',"-1":'<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="3" x2="15" y1="14" y2="14"/><line class="ql-stroke" x1="3" x2="15" y1="4" y2="4"/><line class="ql-stroke" x1="9" x2="15" y1="9" y2="9"/><polyline class="ql-stroke" points="5 7 5 11 3 9 5 7"/></svg>'},link:'<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="7" x2="11" y1="7" y2="11"/><path class="ql-even ql-stroke" d="M8.9,4.577a3.476,3.476,0,0,1,.36,4.679A3.476,3.476,0,0,1,4.577,8.9C3.185,7.5,2.035,6.4,4.217,4.217S7.5,3.185,8.9,4.577Z"/><path class="ql-even ql-stroke" d="M13.423,9.1a3.476,3.476,0,0,0-4.679-.36,3.476,3.476,0,0,0,.36,4.679c1.392,1.392,2.5,2.542,4.679.36S14.815,10.5,13.423,9.1Z"/></svg>',list:{bullet:'<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="6" x2="15" y1="4" y2="4"/><line class="ql-stroke" x1="6" x2="15" y1="9" y2="9"/><line class="ql-stroke" x1="6" x2="15" y1="14" y2="14"/><line class="ql-stroke" x1="3" x2="3" y1="4" y2="4"/><line class="ql-stroke" x1="3" x2="3" y1="9" y2="9"/><line class="ql-stroke" x1="3" x2="3" y1="14" y2="14"/></svg>',check:'<svg class="" viewbox="0 0 18 18"><line class="ql-stroke" x1="9" x2="15" y1="4" y2="4"/><polyline class="ql-stroke" points="3 4 4 5 6 3"/><line class="ql-stroke" x1="9" x2="15" y1="14" y2="14"/><polyline class="ql-stroke" points="3 14 4 15 6 13"/><line class="ql-stroke" x1="9" x2="15" y1="9" y2="9"/><polyline class="ql-stroke" points="3 9 4 10 6 8"/></svg>',ordered:'<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="7" x2="15" y1="4" y2="4"/><line class="ql-stroke" x1="7" x2="15" y1="9" y2="9"/><line class="ql-stroke" x1="7" x2="15" y1="14" y2="14"/><line class="ql-stroke ql-thin" x1="2.5" x2="4.5" y1="5.5" y2="5.5"/><path class="ql-fill" d="M3.5,6A0.5,0.5,0,0,1,3,5.5V3.085l-0.276.138A0.5,0.5,0,0,1,2.053,3c-0.124-.247-0.023-0.324.224-0.447l1-.5A0.5,0.5,0,0,1,4,2.5v3A0.5,0.5,0,0,1,3.5,6Z"/><path class="ql-stroke ql-thin" d="M4.5,10.5h-2c0-.234,1.85-1.076,1.85-2.234A0.959,0.959,0,0,0,2.5,8.156"/><path class="ql-stroke ql-thin" d="M2.5,14.846a0.959,0.959,0,0,0,1.85-.109A0.7,0.7,0,0,0,3.75,14a0.688,0.688,0,0,0,.6-0.736,0.959,0.959,0,0,0-1.85-.109"/></svg>'},script:{sub:'<svg viewbox="0 0 18 18"><path class="ql-fill" d="M15.5,15H13.861a3.858,3.858,0,0,0,1.914-2.975,1.8,1.8,0,0,0-1.6-1.751A1.921,1.921,0,0,0,12.021,11.7a0.50013,0.50013,0,1,0,.957.291h0a0.914,0.914,0,0,1,1.053-.725,0.81,0.81,0,0,1,.744.762c0,1.076-1.16971,1.86982-1.93971,2.43082A1.45639,1.45639,0,0,0,12,15.5a0.5,0.5,0,0,0,.5.5h3A0.5,0.5,0,0,0,15.5,15Z"/><path class="ql-fill" d="M9.65,5.241a1,1,0,0,0-1.409.108L6,7.964,3.759,5.349A1,1,0,0,0,2.192,6.59178Q2.21541,6.6213,2.241,6.649L4.684,9.5,2.241,12.35A1,1,0,0,0,3.71,13.70722q0.02557-.02768.049-0.05722L6,11.036,8.241,13.65a1,1,0,1,0,1.567-1.24277Q9.78459,12.3777,9.759,12.35L7.316,9.5,9.759,6.651A1,1,0,0,0,9.65,5.241Z"/></svg>',super:'<svg viewbox="0 0 18 18"><path class="ql-fill" d="M15.5,7H13.861a4.015,4.015,0,0,0,1.914-2.975,1.8,1.8,0,0,0-1.6-1.751A1.922,1.922,0,0,0,12.021,3.7a0.5,0.5,0,1,0,.957.291,0.917,0.917,0,0,1,1.053-.725,0.81,0.81,0,0,1,.744.762c0,1.077-1.164,1.925-1.934,2.486A1.423,1.423,0,0,0,12,7.5a0.5,0.5,0,0,0,.5.5h3A0.5,0.5,0,0,0,15.5,7Z"/><path class="ql-fill" d="M9.651,5.241a1,1,0,0,0-1.41.108L6,7.964,3.759,5.349a1,1,0,1,0-1.519,1.3L4.683,9.5,2.241,12.35a1,1,0,1,0,1.519,1.3L6,11.036,8.241,13.65a1,1,0,0,0,1.519-1.3L7.317,9.5,9.759,6.651A1,1,0,0,0,9.651,5.241Z"/></svg>'},strike:'<svg viewbox="0 0 18 18"><line class="ql-stroke ql-thin" x1="15.5" x2="2.5" y1="8.5" y2="9.5"/><path class="ql-fill" d="M9.007,8C6.542,7.791,6,7.519,6,6.5,6,5.792,7.283,5,9,5c1.571,0,2.765.679,2.969,1.309a1,1,0,0,0,1.9-.617C13.356,4.106,11.354,3,9,3,6.2,3,4,4.538,4,6.5a3.2,3.2,0,0,0,.5,1.843Z"/><path class="ql-fill" d="M8.984,10C11.457,10.208,12,10.479,12,11.5c0,0.708-1.283,1.5-3,1.5-1.571,0-2.765-.679-2.969-1.309a1,1,0,1,0-1.9.617C4.644,13.894,6.646,15,9,15c2.8,0,5-1.538,5-3.5a3.2,3.2,0,0,0-.5-1.843Z"/></svg>',table:'<svg viewbox="0 0 18 18"><rect class="ql-stroke" height="12" width="12" x="3" y="3"/><rect class="ql-fill" height="2" width="3" x="5" y="5"/><rect class="ql-fill" height="2" width="4" x="9" y="5"/><g class="ql-fill ql-transparent"><rect height="2" width="3" x="5" y="8"/><rect height="2" width="4" x="9" y="8"/><rect height="2" width="3" x="5" y="11"/><rect height="2" width="4" x="9" y="11"/></g></svg>',underline:'<svg viewbox="0 0 18 18"><path class="ql-stroke" d="M5,3V9a4.012,4.012,0,0,0,4,4H9a4.012,4.012,0,0,0,4-4V3"/><rect class="ql-fill" height="1" rx="0.5" ry="0.5" width="12" x="3" y="15"/></svg>',video:'<svg viewbox="0 0 18 18"><rect class="ql-stroke" height="12" width="12" x="3" y="3"/><rect class="ql-fill" height="12" width="1" x="5" y="3"/><rect class="ql-fill" height="12" width="1" x="12" y="3"/><rect class="ql-fill" height="2" width="8" x="5" y="8"/><rect class="ql-fill" height="1" width="3" x="3" y="5"/><rect class="ql-fill" height="1" width="3" x="3" y="7"/><rect class="ql-fill" height="1" width="3" x="3" y="10"/><rect class="ql-fill" height="1" width="3" x="3" y="12"/><rect class="ql-fill" height="1" width="3" x="12" y="5"/><rect class="ql-fill" height="1" width="3" x="12" y="7"/><rect class="ql-fill" height="1" width="3" x="12" y="10"/><rect class="ql-fill" height="1" width="3" x="12" y="12"/></svg>'};let os=0;function ss(e,t){e.setAttribute(t,`${!("true"===e.getAttribute(t))}`)}const as=class{constructor(e){this.select=e,this.container=document.createElement("span"),this.buildPicker(),this.select.style.display="none",this.select.parentNode.insertBefore(this.container,this.select),this.label.addEventListener("mousedown",(()=>{this.togglePicker()})),this.label.addEventListener("keydown",(e=>{switch(e.key){case"Enter":this.togglePicker();break;case"Escape":this.escape(),e.preventDefault()}})),this.select.addEventListener("change",this.update.bind(this))}togglePicker(){this.container.classList.toggle("ql-expanded"),ss(this.label,"aria-expanded"),ss(this.options,"aria-hidden")}buildItem(e){const t=document.createElement("span");t.tabIndex="0",t.setAttribute("role","button"),t.classList.add("ql-picker-item");const A=e.getAttribute("value");return A&&t.setAttribute("data-value",A),e.textContent&&t.setAttribute("data-label",e.textContent),t.addEventListener("click",(()=>{this.selectItem(t,!0)})),t.addEventListener("keydown",(e=>{switch(e.key){case"Enter":this.selectItem(t,!0),e.preventDefault();break;case"Escape":this.escape(),e.preventDefault()}})),t}buildLabel(){const e=document.createElement("span");return e.classList.add("ql-picker-label"),e.innerHTML='<svg viewbox="0 0 18 18"><polygon class="ql-stroke" points="7 11 9 13 11 11 7 11"/><polygon class="ql-stroke" points="7 7 9 5 11 7 7 7"/></svg>',e.tabIndex="0",e.setAttribute("role","button"),e.setAttribute("aria-expanded","false"),this.container.appendChild(e),e}buildOptions(){const e=document.createElement("span");e.classList.add("ql-picker-options"),e.setAttribute("aria-hidden","true"),e.tabIndex="-1",e.id=`ql-picker-options-${os}`,os+=1,this.label.setAttribute("aria-controls",e.id),this.options=e,Array.from(this.select.options).forEach((t=>{const A=this.buildItem(t);e.appendChild(A),!0===t.selected&&this.selectItem(A)})),this.container.appendChild(e)}buildPicker(){Array.from(this.select.attributes).forEach((e=>{this.container.setAttribute(e.name,e.value)})),this.container.classList.add("ql-picker"),this.label=this.buildLabel(),this.buildOptions()}escape(){this.close(),setTimeout((()=>this.label.focus()),1)}close(){this.container.classList.remove("ql-expanded"),this.label.setAttribute("aria-expanded","false"),this.options.setAttribute("aria-hidden","true")}selectItem(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const A=this.container.querySelector(".ql-selected");e!==A&&(null!=A&&A.classList.remove("ql-selected"),null!=e&&(e.classList.add("ql-selected"),this.select.selectedIndex=Array.from(e.parentNode.children).indexOf(e),e.hasAttribute("data-value")?this.label.setAttribute("data-value",e.getAttribute("data-value")):this.label.removeAttribute("data-value"),e.hasAttribute("data-label")?this.label.setAttribute("data-label",e.getAttribute("data-label")):this.label.removeAttribute("data-label"),t&&(this.select.dispatchEvent(new Event("change")),this.close())))}update(){let e;if(this.select.selectedIndex>-1){const t=this.container.querySelector(".ql-picker-options").children[this.select.selectedIndex];e=this.select.options[this.select.selectedIndex],this.selectItem(t)}else this.selectItem(null);const t=null!=e&&e!==this.select.querySelector("option[selected]");this.label.classList.toggle("ql-active",t)}},ls=class extends as{constructor(e,t){super(e),this.label.innerHTML=t,this.container.classList.add("ql-color-picker"),Array.from(this.container.querySelectorAll(".ql-picker-item")).slice(0,7).forEach((e=>{e.classList.add("ql-primary")}))}buildItem(e){const t=super.buildItem(e);return t.style.backgroundColor=e.getAttribute("value")||"",t}selectItem(e,t){super.selectItem(e,t);const A=this.label.querySelector(".ql-color-label"),n=e&&e.getAttribute("data-value")||"";A&&("line"===A.tagName?A.style.stroke=n:A.style.fill=n)}},cs=class extends as{constructor(e,t){super(e),this.container.classList.add("ql-icon-picker"),Array.from(this.container.querySelectorAll(".ql-picker-item")).forEach((e=>{e.innerHTML=t[e.getAttribute("data-value")||""]})),this.defaultItem=this.container.querySelector(".ql-selected"),this.selectItem(this.defaultItem)}selectItem(e,t){super.selectItem(e,t);const A=e||this.defaultItem;if(null!=A){if(this.label.innerHTML===A.innerHTML)return;this.label.innerHTML=A.innerHTML}}},ds=class{constructor(e,t){this.quill=e,this.boundsContainer=t||document.body,this.root=e.addContainer("ql-tooltip"),this.root.innerHTML=this.constructor.TEMPLATE,(e=>{const{overflowY:t}=getComputedStyle(e,null);return"visible"!==t&&"clip"!==t})(this.quill.root)&&this.quill.root.addEventListener("scroll",(()=>{this.root.style.marginTop=-1*this.quill.root.scrollTop+"px"})),this.hide()}hide(){this.root.classList.add("ql-hidden")}position(e){const t=e.left+e.width/2-this.root.offsetWidth/2,A=e.bottom+this.quill.root.scrollTop;this.root.style.left=`${t}px`,this.root.style.top=`${A}px`,this.root.classList.remove("ql-flip");const n=this.boundsContainer.getBoundingClientRect(),i=this.root.getBoundingClientRect();let r=0;if(i.right>n.right&&(r=n.right-i.right,this.root.style.left=`${t+r}px`),i.left<n.left&&(r=n.left-i.left,this.root.style.left=`${t+r}px`),i.bottom>n.bottom){const t=i.bottom-i.top,n=e.bottom-e.top+t;this.root.style.top=A-n+"px",this.root.classList.add("ql-flip")}return r}show(){this.root.classList.remove("ql-editing"),this.root.classList.remove("ql-hidden")}},us=[!1,"center","right","justify"],hs=["#000000","#e60000","#ff9900","#ffff00","#008a00","#0066cc","#9933ff","#ffffff","#facccc","#ffebcc","#ffffcc","#cce8cc","#cce0f5","#ebd6ff","#bbbbbb","#f06666","#ffc266","#ffff66","#66b966","#66a3e0","#c285ff","#888888","#a10000","#b26b00","#b2b200","#006100","#0047b2","#6b24b2","#444444","#5c0000","#663d00","#666600","#003700","#002966","#3d1466"],ps=[!1,"serif","monospace"],gs=["1","2","3",!1],fs=["small",!1,"large","huge"];class ms extends fr{constructor(e,t){super(e,t);const A=t=>{document.body.contains(e.root)?(null==this.tooltip||this.tooltip.root.contains(t.target)||document.activeElement===this.tooltip.textbox||this.quill.hasFocus()||this.tooltip.hide(),null!=this.pickers&&this.pickers.forEach((e=>{e.container.contains(t.target)||e.close()}))):document.body.removeEventListener("click",A)};e.emitter.listenDOM("click",document.body,A)}addModule(e){const t=super.addModule(e);return"toolbar"===e&&this.extendToolbar(t),t}buildButtons(e,t){Array.from(e).forEach((e=>{(e.getAttribute("class")||"").split(/\s+/).forEach((A=>{if(A.startsWith("ql-")&&(A=A.slice(3),null!=t[A]))if("direction"===A)e.innerHTML=t[A][""]+t[A].rtl;else if("string"==typeof t[A])e.innerHTML=t[A];else{const n=e.value||"";null!=n&&t[A][n]&&(e.innerHTML=t[A][n])}}))}))}buildPickers(e,t){this.pickers=Array.from(e).map((e=>{if(e.classList.contains("ql-align")&&(null==e.querySelector("option")&&Bs(e,us),"object"==typeof t.align))return new cs(e,t.align);if(e.classList.contains("ql-background")||e.classList.contains("ql-color")){const A=e.classList.contains("ql-background")?"background":"color";return null==e.querySelector("option")&&Bs(e,hs,"background"===A?"#ffffff":"#000000"),new ls(e,t[A])}return null==e.querySelector("option")&&(e.classList.contains("ql-font")?Bs(e,ps):e.classList.contains("ql-header")?Bs(e,gs):e.classList.contains("ql-size")&&Bs(e,fs)),new as(e)})),this.quill.on(Xi.events.EDITOR_CHANGE,(()=>{this.pickers.forEach((e=>{e.update()}))}))}}ms.DEFAULTS=qA({},fr.DEFAULTS,{modules:{toolbar:{handlers:{formula(){this.quill.theme.tooltip.edit("formula")},image(){let e=this.container.querySelector("input.ql-image[type=file]");null==e&&(e=document.createElement("input"),e.setAttribute("type","file"),e.setAttribute("accept",this.quill.uploader.options.mimetypes.join(", ")),e.classList.add("ql-image"),e.addEventListener("change",(()=>{const t=this.quill.getSelection(!0);this.quill.uploader.upload(t,e.files),e.value=""})),this.container.appendChild(e)),e.click()},video(){this.quill.theme.tooltip.edit("video")}}}}});class vs extends ds{constructor(e,t){super(e,t),this.textbox=this.root.querySelector('input[type="text"]'),this.listen()}listen(){this.textbox.addEventListener("keydown",(e=>{"Enter"===e.key?(this.save(),e.preventDefault()):"Escape"===e.key&&(this.cancel(),e.preventDefault())}))}cancel(){this.hide(),this.restoreFocus()}edit(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"link",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(this.root.classList.remove("ql-hidden"),this.root.classList.add("ql-editing"),null==this.textbox)return;null!=t?this.textbox.value=t:e!==this.root.getAttribute("data-mode")&&(this.textbox.value="");const A=this.quill.getBounds(this.quill.selection.savedRange);null!=A&&this.position(A),this.textbox.select(),this.textbox.setAttribute("placeholder",this.textbox.getAttribute(`data-${e}`)||""),this.root.setAttribute("data-mode",e)}restoreFocus(){this.quill.focus({preventScroll:!0})}save(){let{value:e}=this.textbox;switch(this.root.getAttribute("data-mode")){case"link":{const{scrollTop:t}=this.quill.root;this.linkRange?(this.quill.formatText(this.linkRange,"link",e,Xi.sources.USER),delete this.linkRange):(this.restoreFocus(),this.quill.format("link",e,Xi.sources.USER)),this.quill.root.scrollTop=t;break}case"video":e=function(e){let t=e.match(/^(?:(https?):\/\/)?(?:(?:www|m)\.)?youtube\.com\/watch.*v=([a-zA-Z0-9_-]+)/)||e.match(/^(?:(https?):\/\/)?(?:(?:www|m)\.)?youtu\.be\/([a-zA-Z0-9_-]+)/);return t?`${t[1]||"https"}://www.youtube.com/embed/${t[2]}?showinfo=0`:(t=e.match(/^(?:(https?):\/\/)?(?:www\.)?vimeo\.com\/(\d+)/))?`${t[1]||"https"}://player.vimeo.com/video/${t[2]}/`:e}(e);case"formula":{if(!e)break;const t=this.quill.getSelection(!0);if(null!=t){const A=t.index+t.length;this.quill.insertEmbed(A,this.root.getAttribute("data-mode"),e,Xi.sources.USER),"formula"===this.root.getAttribute("data-mode")&&this.quill.insertText(A+1," ",Xi.sources.USER),this.quill.setSelection(A+2,Xi.sources.USER)}break}}this.textbox.value="",this.hide()}}function Bs(e,t){let A=arguments.length>2&&void 0!==arguments[2]&&arguments[2];t.forEach((t=>{const n=document.createElement("option");t===A?n.setAttribute("selected","selected"):n.setAttribute("value",String(t)),e.appendChild(n)}))}const ws=[["bold","italic","link"],[{header:1},{header:2},"blockquote"]];class ys extends vs{static TEMPLATE=['<span class="ql-tooltip-arrow"></span>','<div class="ql-tooltip-editor">','<input type="text" data-formula="e=mc^2" data-link="https://quilljs.com" data-video="Embed URL">','<a class="ql-close"></a>',"</div>"].join("");constructor(e,t){super(e,t),this.quill.on(Xi.events.EDITOR_CHANGE,((e,t,A,n)=>{if(e===Xi.events.SELECTION_CHANGE)if(null!=t&&t.length>0&&n===Xi.sources.USER){this.show(),this.root.style.left="0px",this.root.style.width="",this.root.style.width=`${this.root.offsetWidth}px`;const e=this.quill.getLines(t.index,t.length);if(1===e.length){const e=this.quill.getBounds(t);null!=e&&this.position(e)}else{const A=e[e.length-1],n=this.quill.getIndex(A),i=Math.min(A.length()-1,t.index+t.length-n),r=this.quill.getBounds(new er(n,i));null!=r&&this.position(r)}}else document.activeElement!==this.textbox&&this.quill.hasFocus()&&this.hide()}))}listen(){super.listen(),this.root.querySelector(".ql-close").addEventListener("click",(()=>{this.root.classList.remove("ql-editing")})),this.quill.on(Xi.events.SCROLL_OPTIMIZE,(()=>{setTimeout((()=>{if(this.root.classList.contains("ql-hidden"))return;const e=this.quill.getSelection();if(null!=e){const t=this.quill.getBounds(e);null!=t&&this.position(t)}}),1)}))}cancel(){this.show()}position(e){const t=super.position(e),A=this.root.querySelector(".ql-tooltip-arrow");return A.style.marginLeft="",0!==t&&(A.style.marginLeft=-1*t-A.offsetWidth/2+"px"),t}}class Cs extends ms{constructor(e,t){null!=t.modules.toolbar&&null==t.modules.toolbar.container&&(t.modules.toolbar.container=ws),super(e,t),this.quill.container.classList.add("ql-bubble")}extendToolbar(e){this.tooltip=new ys(this.quill,this.options.bounds),null!=e.container&&(this.tooltip.root.appendChild(e.container),this.buildButtons(e.container.querySelectorAll("button"),rs),this.buildPickers(e.container.querySelectorAll("select"),rs))}}Cs.DEFAULTS=qA({},ms.DEFAULTS,{modules:{toolbar:{handlers:{link(e){e?this.quill.theme.tooltip.edit():this.quill.format("link",!1,br.sources.USER)}}}}});const bs=[[{header:["1","2","3",!1]}],["bold","italic","underline","link"],[{list:"ordered"},{list:"bullet"}],["clean"]];class Is extends vs{static TEMPLATE=['<a class="ql-preview" rel="noopener noreferrer" target="_blank" href="about:blank"></a>','<input type="text" data-formula="e=mc^2" data-link="https://quilljs.com" data-video="Embed URL">','<a class="ql-action"></a>','<a class="ql-remove"></a>'].join("");preview=this.root.querySelector("a.ql-preview");listen(){super.listen(),this.root.querySelector("a.ql-action").addEventListener("click",(e=>{this.root.classList.contains("ql-editing")?this.save():this.edit("link",this.preview.textContent),e.preventDefault()})),this.root.querySelector("a.ql-remove").addEventListener("click",(e=>{if(null!=this.linkRange){const e=this.linkRange;this.restoreFocus(),this.quill.formatText(e,"link",!1,Xi.sources.USER),delete this.linkRange}e.preventDefault(),this.hide()})),this.quill.on(Xi.events.SELECTION_CHANGE,((e,t,A)=>{if(null!=e){if(0===e.length&&A===Xi.sources.USER){const[t,A]=this.quill.scroll.descendant(Vo,e.index);if(null!=t){this.linkRange=new er(e.index-A,t.length());const n=Vo.formats(t.domNode);this.preview.textContent=n,this.preview.setAttribute("href",n),this.show();const i=this.quill.getBounds(this.linkRange);return void(null!=i&&this.position(i))}}else delete this.linkRange;this.hide()}}))}show(){super.show(),this.root.removeAttribute("data-mode")}}class Es extends ms{constructor(e,t){null!=t.modules.toolbar&&null==t.modules.toolbar.container&&(t.modules.toolbar.container=bs),super(e,t),this.quill.container.classList.add("ql-snow")}extendToolbar(e){null!=e.container&&(e.container.classList.add("ql-snow"),this.buildButtons(e.container.querySelectorAll("button"),rs),this.buildPickers(e.container.querySelectorAll("select"),rs),this.tooltip=new Is(this.quill,this.options.bounds),e.container.querySelector(".ql-link")&&this.quill.keyboard.addBinding({key:"k",shortKey:!0},((t,A)=>{e.handlers.link.call(e,!A.format.link)})))}}Es.DEFAULTS=qA({},ms.DEFAULTS,{modules:{toolbar:{handlers:{link(e){if(e){const e=this.quill.getSelection();if(null==e||0===e.length)return;let t=this.quill.getText(e);/^\S+@\S+\.\S+$/.test(t)&&0!==t.indexOf("mailto:")&&(t=`mailto:${t}`);const{tooltip:A}=this.quill.theme;A.edit("link",t)}else this.quill.format("link",!1,br.sources.USER)}}}}});const Qs=Es;Po.register({"attributors/attribute/direction":Gr,"attributors/class/align":Pr,"attributors/class/background":Vr,"attributors/class/color":Or,"attributors/class/direction":Wr,"attributors/class/font":Jr,"attributors/class/size":Yr,"attributors/style/align":Nr,"attributors/style/background":$r,"attributors/style/color":_r,"attributors/style/direction":Zr,"attributors/style/font":Xr,"attributors/style/size":eo},!0),Po.register({"formats/align":Pr,"formats/direction":Wr,"formats/indent":No,"formats/background":$r,"formats/color":_r,"formats/font":Jr,"formats/size":Yr,"formats/blockquote":class extends Di{static blotName="blockquote";static tagName="blockquote"},"formats/code-block":Kr,"formats/header":class extends Di{static blotName="header";static tagName=["H1","H2","H3","H4","H5","H6"];static formats(e){return this.tagName.indexOf(e.tagName)+1}},"formats/list":Oo,"formats/bold":_o,"formats/code":Rr,"formats/italic":class extends _o{static blotName="italic";static tagName=["EM","I"]},"formats/link":Vo,"formats/script":class extends Ni{static blotName="script";static tagName=["SUB","SUP"];static create(e){return"super"===e?document.createElement("sup"):"sub"===e?document.createElement("sub"):super.create(e)}static formats(e){return"SUB"===e.tagName?"sub":"SUP"===e.tagName?"super":void 0}},"formats/strike":class extends _o{static blotName="strike";static tagName=["S","STRIKE"]},"formats/underline":class extends Ni{static blotName="underline";static tagName="U"},"formats/formula":class extends hr{static blotName="formula";static className="ql-formula";static tagName="SPAN";static create(e){if(null==window.katex)throw new Error("Formula module requires KaTeX.");const t=super.create(e);return"string"==typeof e&&(window.katex.render(e,t,{throwOnError:!1,errorColor:"#f00"}),t.setAttribute("data-value",e)),t}static value(e){return e.getAttribute("data-value")}html(){const{formula:e}=this.value();return`<span>${e}</span>`}},"formats/image":class extends Bn{static blotName="image";static tagName="IMG";static create(e){const t=super.create(e);return"string"==typeof e&&t.setAttribute("src",this.sanitize(e)),t}static formats(e){return jo.reduce(((t,A)=>(e.hasAttribute(A)&&(t[A]=e.getAttribute(A)),t)),{})}static match(e){return/\.(jpe?g|gif|png)$/.test(e)||/^data:image\/.+;base64/.test(e)}static sanitize(e){return $o(e,["http","https","data"])?e:"//:0"}static value(e){return e.getAttribute("src")}format(e,t){jo.indexOf(e)>-1?t?this.domNode.setAttribute(e,t):this.domNode.removeAttribute(e):super.format(e,t)}},"formats/video":class extends Oi{static blotName="video";static className="ql-video";static tagName="IFRAME";static create(e){const t=super.create(e);return t.setAttribute("frameborder","0"),t.setAttribute("allowfullscreen","true"),t.setAttribute("src",this.sanitize(e)),t}static formats(e){return Ko.reduce(((t,A)=>(e.hasAttribute(A)&&(t[A]=e.getAttribute(A)),t)),{})}static sanitize(e){return Vo.sanitize(e)}static value(e){return e.getAttribute("src")}format(e,t){Ko.indexOf(e)>-1?t?this.domNode.setAttribute(e,t):this.domNode.removeAttribute(e):super.format(e,t)}html(){const{video:e}=this.value();return`<a href="${e}">${e}</a>`}},"modules/syntax":Zo,"modules/table":class extends dr{static register(){br.register(zo),br.register(Jo),br.register(Xo),br.register(Yo)}constructor(){super(...arguments),this.listenBalanceCells()}balanceTables(){this.quill.scroll.descendants(Yo).forEach((e=>{e.balanceCells()}))}deleteColumn(){const[e,,t]=this.getTable();null!=t&&(e.deleteColumn(t.cellOffset()),this.quill.update(br.sources.USER))}deleteRow(){const[,e]=this.getTable();null!=e&&(e.remove(),this.quill.update(br.sources.USER))}deleteTable(){const[e]=this.getTable();if(null==e)return;const t=e.offset();e.remove(),this.quill.update(br.sources.USER),this.quill.setSelection(t,br.sources.SILENT)}getTable(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.quill.getSelection();if(null==e)return[null,null,null,-1];const[t,A]=this.quill.getLine(e.index);if(null==t||t.statics.blotName!==zo.blotName)return[null,null,null,-1];const n=t.parent;return[n.parent.parent,n,t,A]}insertColumn(e){const t=this.quill.getSelection();if(!t)return;const[A,n,i]=this.getTable(t);if(null==i)return;const r=i.cellOffset();A.insertColumn(r+e),this.quill.update(br.sources.USER);let o=n.rowOffset();0===e&&(o+=1),this.quill.setSelection(t.index+o,t.length,br.sources.SILENT)}insertColumnLeft(){this.insertColumn(0)}insertColumnRight(){this.insertColumn(1)}insertRow(e){const t=this.quill.getSelection();if(!t)return;const[A,n,i]=this.getTable(t);if(null==i)return;const r=n.rowOffset();A.insertRow(r+e),this.quill.update(br.sources.USER),e>0?this.quill.setSelection(t,br.sources.SILENT):this.quill.setSelection(t.index+n.children.length,t.length,br.sources.SILENT)}insertRowAbove(){this.insertRow(0)}insertRowBelow(){this.insertRow(1)}insertTable(e,t){const A=this.quill.getSelection();if(null==A)return;const n=new Array(e).fill(0).reduce((e=>{const A=new Array(t).fill("\n").join("");return e.insert(A,{table:es()})}),(new En).retain(A.index));this.quill.updateContents(n,br.sources.USER),this.quill.setSelection(A.index,br.sources.SILENT),this.balanceTables()}listenBalanceCells(){this.quill.on(br.events.SCROLL_OPTIMIZE,(e=>{e.some((e=>!!["TD","TR","TBODY","TABLE"].includes(e.target.tagName)&&(this.quill.once(br.events.TEXT_CHANGE,((e,t,A)=>{A===br.sources.USER&&this.balanceTables()})),!0)))}))}},"modules/toolbar":As,"themes/bubble":Cs,"themes/snow":Qs,"ui/icons":rs,"ui/picker":as,"ui/icon-picker":cs,"ui/color-picker":ls,"ui/tooltip":ds},!0);const Us=Po;class xs{constructor(e,t){this.containerId=t,this.paletteContainer=this.createPaletteContainer(t),this.populateColorPalette(e)}render(e){e.appendChild(this.paletteContainer)}refresh(e){const t=document.getElementById(this.containerId);t?t.replaceWith(this.paletteContainer):e.appendChild(this.paletteContainer)}createPaletteContainer(e){const t=document.createElement("div");return t.className="color-palette",t.id=e,t}populateColorPalette(e){Object.entries(e).forEach((([e,t])=>{const A=this.createColorItem(e,t);this.paletteContainer.appendChild(A)}))}createColorItem(e,t){const A=document.createElement("div");A.className="color-item";const n=this.createRadioInput(e,t),i=this.createColorLabel(e,t);return A.appendChild(n),A.appendChild(i),A.addEventListener("click",(A=>this.handleColorSelection(A,t,e,n))),A}createRadioInput(e,t){const A=document.createElement("input");return A.type="radio",A.id=`color-${e}`,A.name="theme-color",A.value=t,A}createColorLabel(e,t){const A=document.createElement("label");return A.htmlFor=`color-${e}`,A.className="color-box",A.setAttribute("data-tile-bgcolor",t),A.style.backgroundColor=t,A}handleColorSelection(e,t,A,n){e.preventDefault();const i=this.getSelectedComponent();if(!i)return;const r=i.parent(),o=r.parent(),s=this.getPageData(),a=this.getTileAttributes(s,o,r,i);if(null==a?void 0:a.BGImageUrl)return;const l=i.getStyle()["background-color"],c=l===t?"transparent":t,d=l===t?"transparent":A;this.updateComponentStyle(i,c),this.updateTileData(s,o,r,i,d),n.checked=i.getStyle()["background-color"]===t}getSelectedComponent(){return globalThis.selectedComponent}getPageData(){return globalThis.pageData}getTileAttributes(e,t,A,n){var i;if("Information"===e.PageType){const e=globalThis.infoContentMapper.getInfoContent(n.parent().parent().getId());return null===(i=null==e?void 0:e.Tiles)||void 0===i?void 0:i.find((e=>e.Id===n.parent().getId()))}return globalThis.tileMapper.getTile(t.getId(),A.getId())}updateComponentStyle(e,t){e.addStyle({"background-color":t}),e.getEl().style.backgroundColor=t}updateTileData(e,t,A,n,i){"Information"===e.PageType?(new hl).updateInfoTileAttributes(t.getId(),A.getId(),"BGColor",i):globalThis.tileMapper.updateTile(n.parent().getId(),"BGColor",i)}}class Fs{constructor(e){this.pageId=e}contentRow(e){return JSON.parse(localStorage.getItem(`data-${this.pageId}`)||"{}"),{ContentType:e.ContentType,ContentValue:e.Content}}moveContentRow(e,t){var A;const n=JSON.parse(localStorage.getItem(`data-${this.pageId}`)||"{}");if(!(null===(A=null==n?void 0:n.PageContentStructure)||void 0===A?void 0:A.Content))return;const i=n.PageContentStructure.Content,r=i.findIndex((t=>t.ContentId===e));if(-1===r||t<0||t>=i.length)return;const[o]=i.splice(r,1);i.splice(t,0,o),localStorage.setItem(`data-${this.pageId}`,JSON.stringify(n))}moveInfoContentRow(e,t){var A;const n=JSON.parse(localStorage.getItem(`data-${this.pageId}`)||"{}");if(!(null===(A=null==n?void 0:n.PageInfoStructure)||void 0===A?void 0:A.InfoContent))return;const i=n.PageInfoStructure.InfoContent,r=i.findIndex((t=>t.InfoId===e));if(-1===r||t<0||t>=i.length)return;const[o]=i.splice(r,1);i.splice(t,0,o),localStorage.setItem(`data-${this.pageId}`,JSON.stringify(n))}updateContentDescription(e,t){var A;const n=JSON.parse(localStorage.getItem(`data-${this.pageId}`)||"{}");if(!(null===(A=null==n?void 0:n.PageContentStructure)||void 0===A?void 0:A.Content))return!1;const i=n.PageContentStructure.Content.find((t=>t.ContentId===e));return!!i&&(i.ContentValue=t,localStorage.setItem(`data-${this.pageId}`,JSON.stringify(n)),!0)}updateContentImage(e,t){var A;const n=JSON.parse(localStorage.getItem(`data-${this.pageId}`)||"{}");if(!(null===(A=null==n?void 0:n.PageContentStructure)||void 0===A?void 0:A.Content))return!1;const i=n.PageContentStructure.Content.find((t=>t.ContentId===e));return!!i&&(i.ContentValue=t,localStorage.setItem(`data-${this.pageId}`,JSON.stringify(n)),!0)}moveCta(e,t){var A;const n=JSON.parse(localStorage.getItem(`data-${this.pageId}`)||"{}");if(!(null===(A=null==n?void 0:n.PageContentStructure)||void 0===A?void 0:A.Cta))return;const i=n.PageContentStructure.Cta,r=i.findIndex((t=>t.CtaId===e));if(-1===r||t<0||t>=i.length)return;const[o]=i.splice(r,1);i.splice(t,0,o),localStorage.setItem(`data-${this.pageId}`,JSON.stringify(n))}addContentCta(e){var t;const A=JSON.parse(localStorage.getItem(`data-${this.pageId}`)||"{}"),n={CtaId:e.CtaId,CtaType:e.CtaType,CtaLabel:e.CtaLabel,CtaAction:e.CtaAction,CtaColor:e.CtaColor,CtaBGColor:e.CtaBGColor,CtaButtonType:e.CtaButtonType,CtaButtonImgUrl:e.CtaButtonImgUrl||""};A.PageContentStructure.Cta||(A.PageContentStructure.Cta=[]),null===(t=null==A?void 0:A.PageContentStructure)||void 0===t||t.Cta.push(n),localStorage.setItem(`data-${this.pageId}`,JSON.stringify(A))}removeContentCta(e){const t=JSON.parse(localStorage.getItem(`data-${this.pageId}`)||"{}");if(t&&t.PageContentStructure&&t.PageContentStructure.Cta){const A=t.PageContentStructure.Cta.findIndex((t=>t.CtaId===e));if(-1!==A&&t.PageContentStructure.Cta[A])return t.PageContentStructure.Cta.splice(A,1),localStorage.setItem(`data-${this.pageId}`,JSON.stringify(t)),!0}}updateContentCtaBGColor(e,t){const A=JSON.parse(localStorage.getItem(`data-${this.pageId}`)||"{}");if(A&&A.PageContentStructure&&A.PageContentStructure.Cta){const n=A.PageContentStructure.Cta.findIndex((t=>t.CtaId===e));if(-1!==n&&A.PageContentStructure.Cta[n])return A.PageContentStructure.Cta[n].CtaBGColor=t,localStorage.setItem(`data-${this.pageId}`,JSON.stringify(A)),!0}}updateContentCtaColor(e,t){const A=JSON.parse(localStorage.getItem(`data-${this.pageId}`)||"{}");if(A&&A.PageContentStructure&&A.PageContentStructure.Cta){const n=A.PageContentStructure.Cta.findIndex((t=>t.CtaId===e));if(-1!==n&&A.PageContentStructure.Cta[n])return A.PageContentStructure.Cta[n].CtaColor=t,localStorage.setItem(`data-${this.pageId}`,JSON.stringify(A)),!0}}updateContentButtonType(e,t,A){const n=JSON.parse(localStorage.getItem(`data-${this.pageId}`)||"{}");if(n&&n.PageContentStructure&&n.PageContentStructure.Cta){const i=n.PageContentStructure.Cta.findIndex((t=>t.CtaId===e));if(-1!==i&&n.PageContentStructure.Cta[i])return n.PageContentStructure.Cta[i].CtaButtonType=t,A&&(n.PageContentStructure.Cta[i].CtaButtonImgUrl=A),localStorage.setItem(`data-${this.pageId}`,JSON.stringify(n)),!0}}updateContentCtaLabel(e,t){const A=JSON.parse(localStorage.getItem(`data-${this.pageId}`)||"{}");if(A&&A.PageContentStructure&&A.PageContentStructure.Cta){const n=A.PageContentStructure.Cta.findIndex((t=>t.CtaId===e));if(-1!==n&&A.PageContentStructure.Cta[n])return A.PageContentStructure.Cta[n].CtaLabel=t,localStorage.setItem(`data-${this.pageId}`,JSON.stringify(A)),!0}}getContentCta(e){const t=JSON.parse(localStorage.getItem(`data-${this.pageId}`)||"{}");if(t&&t.PageContentStructure&&t.PageContentStructure.Cta)return t.PageContentStructure.Cta.find((t=>t.CtaId===e))}}class Ts{constructor(e){this.type=e,this.container=document.createElement("div"),this.init()}init(){this.container.className="text-color-palette text-colors",this.container.id="text-color-palette",Object.entries({color1:"#ffffff",color2:"#333333"}).forEach((([e,t])=>{const A=document.createElement("div");A.className="color-item";const n=document.createElement("input");n.type="radio",n.id=`text-color-${e}`,n.name="text-color",n.value=t;const i=document.createElement("label");i.className="color-box",i.setAttribute("for",`text-color-${e}`),i.style.backgroundColor=t,i.setAttribute("data-tile-color",t),A.appendChild(n),A.appendChild(i),this.container.appendChild(A),A.onclick=e=>{e.preventDefault();const A=globalThis.selectedComponent;A&&("tile"===this.type?this.tileStyle(A,t):"cta"===this.type&&this.ctaStyle(A,t),n.checked=!0)}}))}tileStyle(e,t){var A;const n=e.find(".tile-icon")[0];if(n){const e=n&&n.view.el.querySelector("svg");e&&(null===(A=e.querySelector("path"))||void 0===A||A.setAttribute("fill",t))}e.addStyle({color:t}),"Information"===globalThis.pageData.PageType?(new hl).updateInfoTileAttributes(e.parent().parent().getId(),e.parent().getId(),"Color",t):globalThis.tileMapper.updateTile(e.parent().getId(),"Color",t)}ctaStyle(e,t){const A=e.find(".img-button-icon > svg > path")[0];A&&A.addAttributes({fill:t});const n=e.find(".label")[0];n&&n.addStyle({color:t});const i=e.find(".fa.fa-angle-right")[0];i&&i.addStyle({color:t});const r=e.find(".cta-button > svg > path")[0];r&&(r.addAttributes({fill:t}),n.addStyle({color:"#333333"}));const o=globalThis.currentPageId;"Information"===globalThis.pageData.PageType?(new hl).updateInfoCtaAttributes(e.getId(),"CtaColor",t):new Fs(o).updateContentCtaColor(e.getId(),t)}render(e){const t=e.querySelector("#text-color-palette");t&&t.remove(),e.appendChild(this.container)}}class Ls{constructor(e,t){this.selectedComponent=e,this.ctaAttributes=t,this.themeManager=new Os,this.pageData=globalThis.pageData}setctaAttributes(){this.waitForButtonLayoutContainer((()=>{this.checkButtonLayouts(),this.ctaColorAttributes(),this.ctaActionDisplay(),this.ctaLabelColor()}))}waitForButtonLayoutContainer(e){const t=setInterval((()=>{const A=null===document||void 0===document?void 0:document.querySelector(".cta-button-layout-container"),n=null===document||void 0===document?void 0:document.querySelector("#content-page-section");A&&n&&(clearInterval(t),e())}),100)}checkButtonLayouts(){this.ctaAttributes&&document.querySelectorAll(".cta-button-layout").forEach((e=>{"FullWidth"===this.ctaAttributes.CtaButtonType&&"plain-button-layout"===e.id||"Icon"===this.ctaAttributes.CtaButtonType&&"icon-button-layout"===e.id||"Image"===this.ctaAttributes.CtaButtonType&&"image-button-layout"===e.id?e.style.border="2px solid #5068a8":"Round"===this.ctaAttributes.CtaButtonType&&"round-button-layout"===e.id?(e.style.border="2px solid #5068a8",e.style.borderRadius="50%"):e.style.border=""}))}ctaColorAttributes(){var e;const t=document.querySelector("#content-page-section"),A=null==t?void 0:t.querySelectorAll(".color-item > input");let n=this.themeManager.getThemeCtaColor(null===(e=this.ctaAttributes)||void 0===e?void 0:e.CtaBGColor);null==A||A.forEach((e=>{e.value===n&&(e.checked=!0)}))}ctaActionDisplay(){var e,t;const A=document.querySelector("#content-page-section"),n=null===(e=this.ctaAttributes)||void 0===e?void 0:e.CtaLabel;new vl(n,this.ctaAttributes,"label","cta").render(A);const i=null===(t=this.ctaAttributes)||void 0===t?void 0:t.CtaAction;new vl(i,this.ctaAttributes,"action","cta").render(A)}ctaLabelColor(){var e;const t=document.querySelector("#content-page-section");new Ts("cta").render(t);const A=null===(e=this.ctaAttributes)||void 0===e?void 0:e.CtaColor,n=null==t?void 0:t.querySelector("#text-color-palette"),i=null==n?void 0:n.querySelectorAll("input");null==i||i.forEach((e=>{e.value===A?e.checked=!0:e.checked=!1}))}}const Ss=[{name:"Phone",svg:'\n    <svg xmlns="http://www.w3.org/2000/svg" width="19.808" height="19.812" viewBox="0 0 19.808 19.812">\n      <path id="call" d="M2.2.02,1.95.071a2.48,2.48,0,0,0-1.221.7A2.322,2.322,0,0,0,.053,2.026,13.425,13.425,0,0,0,.266,5.569,17.316,17.316,0,0,0,14.342,19.575a12.173,12.173,0,0,0,3.618.172,2.647,2.647,0,0,0,1.789-1.809,10.185,10.185,0,0,0,.062-2.042,7.575,7.575,0,0,0-.077-2.066,2.62,2.62,0,0,0-1.724-1.74,7.3,7.3,0,0,0-2.081-.077c-2.061,0-2.008,0-2.529.252a2.813,2.813,0,0,0-1.124,1.024c-.2.258-.261.272-.55.127A12.338,12.338,0,0,1,7.368,9.66,8.971,8.971,0,0,1,6.312,7.827c0-.093.064-.157.468-.467A3.726,3.726,0,0,0,7.2,6.983a2.892,2.892,0,0,0,.518-.929l.094-.287V3.916c0-1.849,0-1.851-.078-2.1A2.353,2.353,0,0,0,7.315,1a2.66,2.66,0,0,0-1.3-.908,7.434,7.434,0,0,0-2-.081Q3.107,0,2.2.02M5.787,1.5a1.284,1.284,0,0,1,.586.63c.069.185.072.232.072,1.786,0,1.743,0,1.768-.193,2.044a2.546,2.546,0,0,1-.425.4,2.006,2.006,0,0,0-.721.765A1.565,1.565,0,0,0,5.034,8.4a6.732,6.732,0,0,0,.305.627,13.669,13.669,0,0,0,5.5,5.481,6.4,6.4,0,0,0,.628.305,1.7,1.7,0,0,0,.888.047A1.884,1.884,0,0,0,13.475,14a2.546,2.546,0,0,1,.4-.425c.276-.19.3-.192,2.044-.192,1.554,0,1.6,0,1.786.071a1.284,1.284,0,0,1,.63.586l.091.185V17.6l-.1.191a1.344,1.344,0,0,1-.574.563,7.2,7.2,0,0,1-2.436-.029,16.083,16.083,0,0,1-4.569-1.284A16.041,16.041,0,0,1,2.822,9.147a15.657,15.657,0,0,1-1.4-5.653,3.444,3.444,0,0,1,.069-1.429,1.213,1.213,0,0,1,.727-.632A13.987,13.987,0,0,1,3.982,1.4L5.6,1.405l.185.091" transform="translate(-0.002 -0.01)" fill="#404040" fill-rule="evenodd"/>\n    </svg>\n    '},{name:"Email",svg:'\n    <svg xmlns="http://www.w3.org/2000/svg" width="21.445" height="17.456" viewBox="0 0 21.445 17.456">\n      <path id="letter" d="M2.667.023,2.391.078a3,3,0,0,0-.975.454A2.868,2.868,0,0,0,.41,1.9l-.1.286V15.321l.1.286A2.9,2.9,0,0,0,1.977,17.3a2.994,2.994,0,0,0,.423.134c.141.031,2.5.039,8.746.031,8.2-.011,8.56-.014,8.736-.079a2.857,2.857,0,0,0,1.791-1.827l.085-.276V2.225l-.085-.275A2.8,2.8,0,0,0,20.25.291c-.6-.3.307-.271-9.1-.277-4.623,0-8.439,0-8.479.009M19.582,1.636a1.322,1.322,0,0,1,.612.669,1.4,1.4,0,0,1,.066.632l-.01.427L15.91,6.131C11.2,9.133,11.345,9.05,10.915,9a1.626,1.626,0,0,1-.417-.131c-.119-.058-2.12-1.32-4.447-2.8l-4.23-2.7-.01-.427a1.41,1.41,0,0,1,.065-.63,1.407,1.407,0,0,1,.5-.617c.3-.186-.132-.178,8.715-.17l8.276.007.215.109M5.708,7.619C7.839,8.976,9.7,10.144,9.835,10.214a2.81,2.81,0,0,0,2.356.036c.1-.048,1.956-1.215,4.118-2.594Q18.277,6.4,20.254,5.15c.008,0,.015,2.217.015,4.928v4.928l-.08.212a1.332,1.332,0,0,1-.7.7L19.273,16H2.8l-.212-.079a1.332,1.332,0,0,1-.7-.7l-.08-.212V10.078c0-2.711.007-4.928.016-4.928s1.759,1.111,3.89,2.469" transform="translate(-0.313 -0.013)" fill="#404040" fill-rule="evenodd"/>\n    </svg>\n    '},{name:"Link",svg:'\n    <svg xmlns="http://www.w3.org/2000/svg" width="22" height="28" viewBox="0 0 9.552 9.552">\n        <path id="Path_1213" data-name="Path 1213" d="M11.064,4A2.485,2.485,0,0,0,9.3,4.734l-.585.585A2.488,2.488,0,0,0,7.98,7.084a2.45,2.45,0,0,0,.174.908L8.8,7.346a1.706,1.706,0,0,1,.473-1.468l.585-.585a1.7,1.7,0,0,1,1.206-.5,1.675,1.675,0,0,1,1.194.5,1.7,1.7,0,0,1,0,2.4l-.585.585a1.7,1.7,0,0,1-1.206.5,1.456,1.456,0,0,1-.261-.025L9.559,9.4a2.45,2.45,0,0,0,.908.174,2.486,2.486,0,0,0,1.766-.734l.585-.585a2.488,2.488,0,0,0,.734-1.766A2.506,2.506,0,0,0,11.064,4Zm-.983,2.9L6.9,10.082l.572.572L10.654,7.47Zm-3,1.082a2.485,2.485,0,0,0-1.766.734L4.734,9.3A2.488,2.488,0,0,0,4,11.064a2.506,2.506,0,0,0,2.487,2.487,2.486,2.486,0,0,0,1.766-.734l.585-.585a2.488,2.488,0,0,0,.734-1.766A2.45,2.45,0,0,0,9.4,9.559l-.647.647a1.706,1.706,0,0,1-.473,1.468l-.585.585a1.7,1.7,0,0,1-1.206.5,1.675,1.675,0,0,1-1.194-.5,1.7,1.7,0,0,1,0-2.4l.585-.585a1.7,1.7,0,0,1,1.206-.5,1.457,1.457,0,0,1,.261.025l.647-.647A2.45,2.45,0,0,0,7.084,7.98Z" transform="translate(-4 -4)" fill="#404040"/>\n    </svg>\n    '},{name:"Form",svg:'\n    <svg id="igqdh" data-gjs-type="svg" xmlns="http://www.w3.org/2000/svg" width="22" height="24"\n        viewBox="0 0 13 16">\n        <path id="Path_1209" data-gjs-type="svg-in" data-name="Path 1209"\n            d="M9.828,4A1.823,1.823,0,0,0,8,5.8V18.2A1.823,1.823,0,0,0,9.828,20h9.344A1.823,1.823,0,0,0,21,18.2V9.8a.6.6,0,0,0-.179-.424l-.006-.006L15.54,4.176A.614.614,0,0,0,15.109,4Zm0,1.2H14.5V8.6a1.823,1.823,0,0,0,1.828,1.8h3.453v7.8a.6.6,0,0,1-.609.6H9.828a.6.6,0,0,1-.609-.6V5.8A.6.6,0,0,1,9.828,5.2Zm5.891.848L18.92,9.2H16.328a.6.6,0,0,1-.609-.6Z"\n            transform="translate(-8 -4)" fill=""></path>\n    </svg>\n    '},{name:"Map",svg:'\n    <svg fill="#404040" width="25.909" height="25.909" viewBox="0 0 36 36" version="1.1"  preserveAspectRatio="xMidYMid meet" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">\n        <path class="clr-i-outline clr-i-outline-path-1" d="M18,6.72a5.73,5.73,0,1,0,5.73,5.73A5.73,5.73,0,0,0,18,6.72Zm0,9.46a3.73,3.73,0,1,1,3.73-3.73A3.73,3.73,0,0,1,18,16.17Z"></path><path class="clr-i-outline clr-i-outline-path-2" d="M18,2A11.79,11.79,0,0,0,6.22,13.73c0,4.67,2.62,8.58,4.54,11.43l.35.52a99.61,99.61,0,0,0,6.14,8l.76.89.76-.89a99.82,99.82,0,0,0,6.14-8l.35-.53c1.91-2.85,4.53-6.75,4.53-11.42A11.79,11.79,0,0,0,18,2ZM23.59,24l-.36.53c-1.72,2.58-4,5.47-5.23,6.9-1.18-1.43-3.51-4.32-5.23-6.9L12.42,24c-1.77-2.64-4.2-6.25-4.2-10.31a9.78,9.78,0,1,1,19.56,0C27.78,17.79,25.36,21.4,23.59,24Z"></path>\n        <rect x="0" y="0" width="36" height="36" fill-opacity="0"/>\n    </svg>\n    '},{name:"Basket",svg:'\n            <svg xmlns="http://www.w3.org/2000/svg" width="21.202" height="23.999" viewBox="0 0 21.202 23.999">\n                <g id="noun-shopping-7351596" transform="translate(-78.269 -9.37)">\n                    <path id="Path_1308" data-name="Path 1308" d="M98.9,17.466a2.214,2.214,0,0,0-1.642-.732H94.479V15a5.627,5.627,0,1,0-11.255,0v1.737H80.481a2.211,2.211,0,0,0-2.195,2.492l1.585,12.219a2.214,2.214,0,0,0,2.191,1.924H95.991a2.207,2.207,0,0,0,2.2-1.981l1.269-12.219a2.2,2.2,0,0,0-.556-1.707ZM85.129,15a3.722,3.722,0,1,1,7.445,0v1.737H85.126V15ZM96.3,31.194a.3.3,0,0,1-.3.274H82.066a.3.3,0,0,1-.3-.267L80.18,18.983a.3.3,0,0,1,.072-.24.307.307,0,0,1,.229-.1H97.26a.3.3,0,0,1,.225.1.314.314,0,0,1,.076.236L96.292,31.194Z" transform="translate(0 0)" fill="#404040"/>\n                    <path id="Path_1309" data-name="Path 1309" d="M322.894,552.19a.956.956,0,1,0,.956.956A.957.957,0,0,0,322.894,552.19Z" transform="translate(-238.718 -531.79)" fill="#404040"/>\n                    <path id="Path_1310" data-name="Path 1310" d="M783.2,552.19a.956.956,0,1,0,.956.956A.957.957,0,0,0,783.2,552.19Z" transform="translate(-689.674 -531.79)" fill="#404040"/>\n                </g>\n            </svg>\n        '},{name:"Business",svg:'\n           <svg xmlns="http://www.w3.org/2000/svg" width="25.909" height="22.657" viewBox="0 0 25.909 22.657">\n                <path id="noun-business-7087804-converted-converted" d="M10.084.041A1.765,1.765,0,0,0,8.645.863a2.322,2.322,0,0,0-.31,1.442v.582L5.215,2.9c-3.114.017-3.121.017-3.4.115A2.724,2.724,0,0,0,.13,4.635L0,4.959V8.8c0,2.11.018,3.958.04,4.107a.807.807,0,0,0,.725.726l.177.028L.964,17.14c.013,2.079.039,3.585.066,3.737a2.363,2.363,0,0,0,1.7,1.752c.158.032,3.233.043,10.356.035l10.131-.012.381-.189A2.33,2.33,0,0,0,24.687,21.4a1.817,1.817,0,0,0,.2-.744c.028-.254.047-1.725.048-3.7l0-3.278.25-.069a1.331,1.331,0,0,0,.4-.193c.3-.244.288-.044.309-4.022.012-2.326,0-3.774-.028-4.124a1.764,1.764,0,0,0-.231-.907A2.734,2.734,0,0,0,24.034,3,21.582,21.582,0,0,0,20.676,2.9l-3.1-.018V2.412A2.2,2.2,0,0,0,17,.58,1.663,1.663,0,0,0,15.811.04C15.347,0,10.69,0,10.084.041M15.7,1.751c.122.025.144.128.145.678v.465H10.007l.026-.525a2.195,2.195,0,0,1,.073-.573A5.792,5.792,0,0,1,11.2,1.725c1.085-.025,4.345-.006,4.506.026m8.062,3a1.491,1.491,0,0,1,.254.237l.1.127.011,3.467c.011,3.085,0,3.467-.054,3.467-.036,0-1.975.244-4.309.542s-4.332.554-4.441.567l-.2.024-.03-.437a1.3,1.3,0,0,0-.6-1.2l-.261-.192-1.277.013c-1.446.015-1.441.014-1.8.387a1.221,1.221,0,0,0-.343.964c-.02.322-.044.454-.082.454s-1.568-.193-3.417-.429l-4.467-.569L1.74,12.035l-.028-.414c-.033-.5-.028-3.088.009-5.038l.028-1.429L1.871,5c.234-.308.229-.306,1.452-.333.607-.013,5.421-.023,10.7-.022l9.593,0,.154.109M13.388,14.468v1.425h-.863v-2.85h.863v1.425m-6.607-.063c2.149.273,3.93.505,3.956.514a3.2,3.2,0,0,1,.073.852,7.79,7.79,0,0,0,.075,1,1.441,1.441,0,0,0,.776.734,11.986,11.986,0,0,0,2.561.006,1.287,1.287,0,0,0,.8-.849c.023-.1.056-.544.073-.978.024-.617.043-.788.089-.788s1.8-.224,3.938-.5,3.935-.5,4-.5h.122l-.028,2.105q-.024,1.676-.029,3.353v1.247L23,20.8l-.188.189H3.064L2.871,20.8,2.678,20.6V13.875l.1.017c.053.009,1.856.24,4.006.513" transform="translate(0 -0.009)" fill="#404040" fill-rule="evenodd"/>\n           </svg> \n        '},{name:"Calendar",svg:'\n        <svg xmlns="http://www.w3.org/2000/svg" width="19.929" height="23.811" viewBox="0 0 19.929 23.811">\n            <path id="Group_718-converted" data-name="Group 718-converted" d="M5.809.048a1.008,1.008,0,0,0-.575.517c-.057.105-.065.214-.08,1.064l-.017.948L4.023,2.6a5.38,5.38,0,0,0-1.372.09A3.61,3.61,0,0,0,.109,5.237l-.092.332v15.2l.075.3a3.568,3.568,0,0,0,2.369,2.572c.554.181.219.173,7.513.173,7.4,0,6.994.011,7.6-.2a3.544,3.544,0,0,0,2.338-2.841c.028-.193.035-2.293.028-7.747l-.01-7.481-.091-.316A3.607,3.607,0,0,0,17.3,2.685,5.438,5.438,0,0,0,15.927,2.6l-1.114-.019L14.8,1.629,14.78.682,14.681.5a.922.922,0,0,0-.769-.5A.853.853,0,0,0,13.166.3c-.283.285-.3.359-.3,1.42v.878H7.082V1.718C7.082.649,7.068.578,6.788.3A.923.923,0,0,0,5.809.048M5.16,5.461c.01.888.014.947.082,1.073a.985.985,0,0,0,1.163.5.806.806,0,0,0,.379-.245c.282-.283.3-.359.3-1.4V4.522h5.786V5.38c0,1.052.015,1.125.294,1.4a.9.9,0,0,0,1.315.032c.3-.276.319-.355.319-1.412v-.88h.944a3.826,3.826,0,0,1,1.156.066,1.662,1.662,0,0,1,.925.768c.191.359.2.46.2,2.466V9.643H1.929V7.818c0-1.073.013-1.9.033-2a1.727,1.727,0,0,1,.75-1.08c.33-.193.443-.209,1.484-.211l.954,0,.01.939m12.861,10.51c0,3.007-.011,4.461-.035,4.6a1.648,1.648,0,0,1-1.255,1.275c-.249.052-13.263.052-13.512,0a1.646,1.646,0,0,1-1.254-1.254c-.026-.123-.036-1.5-.036-4.6V11.571H18.021v4.4m-6.549-.886c-.259.01-.362.027-.407.067s-.059.17-.059,1.927c0,1.829,0,1.875.066,1.94s.111.066,1.929.066,1.863,0,1.928-.066.067-.111.067-1.94,0-1.875-.066-1.933-.178-.06-1.588-.067q-.935-.007-1.87.006" transform="translate(-0.017 0.004)" fill="#404040" fill-rule="evenodd"/>\n        </svg>\n        '},{name:"Card",svg:'\n        <svg xmlns="http://www.w3.org/2000/svg" width="30.636" height="21.438" viewBox="0 0 30.636 21.438">\n            <path id="Path_1321-converted" data-name="Path 1321-converted" d="M2.954.053A3.566,3.566,0,0,0,.36,2.02C0,2.763.026,2.19.026,10.792v7.8L.165,19a3.5,3.5,0,0,0,.889,1.427,3.512,3.512,0,0,0,1.427.889l.409.139H27.8l.409-.139A3.715,3.715,0,0,0,30.523,19l.139-.409V2.89l-.139-.409a3.491,3.491,0,0,0-.889-1.427A3.491,3.491,0,0,0,28.207.165L27.8.026,15.5.018C8.732.015,3.088.03,2.954.053m24.9,1.906a1.739,1.739,0,0,1,.874.872,2.2,2.2,0,0,1,.164,1.042l.025.73H1.776L1.8,3.87a2.152,2.152,0,0,1,.163-1.035,1.737,1.737,0,0,1,1.225-.992c.117-.023,5.644-.039,12.283-.035l12.07.008.307.143m1.023,11.39v4.987l-.144.313a1.772,1.772,0,0,1-.879.874l-.307.143-12.017.013c-7.849.009-12.113,0-12.294-.037a1.7,1.7,0,0,1-1.389-1.378c-.058-.306-.075-9.836-.018-9.893.019-.019,6.113-.028,13.541-.021l13.507.012v4.987M4.6,10.741v.92h11V9.82H4.6v.921" transform="translate(-0.026 -0.018)" fill="#404040" fill-rule="evenodd"/>\n        </svg>\n        '},{name:"Document",svg:'\n        <svg xmlns="http://www.w3.org/2000/svg" width="18.648" height="23.81" viewBox="0 0 18.648 23.81">\n            <path id="file-text-converted" d="M2.658.045A3.408,3.408,0,0,0,1.34.567a4.264,4.264,0,0,0-.868.925A3.694,3.694,0,0,0,.07,2.5c-.051.239-.054.787-.054,9.416s0,9.177.054,9.416a3.7,3.7,0,0,0,.4,1.007,4.219,4.219,0,0,0,.868.925,3.551,3.551,0,0,0,1.24.513c.3.057,13.208.057,13.507,0a3.154,3.154,0,0,0,.853-.294,2.648,2.648,0,0,0,.735-.514,3.129,3.129,0,0,0,.959-1.906c.027-.217.034-2.1.027-7.034l-.01-6.738-.093-.175c-.071-.135-.823-.94-3.207-3.436Q13.736,1.987,12.115.3a1.278,1.278,0,0,0-.293-.2L11.651.016,7.28.011c-3.384,0-4.428,0-4.622.034M10.111,4.79c0,1.95.011,2.848.035,2.963a.972.972,0,0,0,.824.772c.108.018,1.321.03,2.945.031h2.761v6.093c0,3.938-.011,6.152-.031,6.258a1.139,1.139,0,0,1-.908.9c-.11.02-2.373.028-6.514.023-5.24-.007-6.365-.016-6.456-.051a1.374,1.374,0,0,1-.562-.441c-.232-.33-.214.456-.214-9.425s-.018-9.1.213-9.425a1.214,1.214,0,0,1,.627-.451c.145-.038.725-.045,3.726-.047l3.554,0v2.8m3.669.126c.84.881,1.527,1.612,1.527,1.625s-.721.024-1.6.024H12.1V3.159l.076.077,1.6,1.68m-8.993,2.8a.968.968,0,0,0-.473.388.986.986,0,0,0,.337,1.405c.215.127.443.144,1.713.134l1.181-.01.178-.083A1.056,1.056,0,0,0,8.246,9,.838.838,0,0,0,8.3,8.587a.977.977,0,0,0-.552-.845l-.14-.073L6.269,7.662a5.362,5.362,0,0,0-1.482.05m-.058,4.326a1.09,1.09,0,0,0-.626.531,1.181,1.181,0,0,0,0,.846,1.136,1.136,0,0,0,.5.489l.171.081,4.184.009c2.952.006,4.244,0,4.387-.026a.942.942,0,0,0,.581-.318.991.991,0,0,0-.307-1.554l-.134-.071-4.34-.006c-2.387,0-4.375.006-4.418.019m.054,3.987a.993.993,0,0,0-.433,1.711,1.189,1.189,0,0,0,.306.183c.167.063.221.064,4.444.064,4.252,0,4.277,0,4.448-.065A1.138,1.138,0,0,0,14.1,17.4a1.1,1.1,0,0,0-.012-.817,1.041,1.041,0,0,0-.494-.5l-.171-.081L9.162,16c-2.429,0-4.312.007-4.379.023" transform="translate(-0.016 -0.01)" fill="#404040" fill-rule="evenodd"/>\n        </svg>\n        '},{name:"Entertainment",svg:'\n        <svg xmlns="http://www.w3.org/2000/svg" width="24.688" height="24.678" viewBox="0 0 24.688 24.678">\n            <path id="noun-entertainment-7156613-converted" d="M9.749.041a.786.786,0,0,0-.482.385C9.183.6,9.182.651,9.182,3.735c0,1.8.018,3.314.042,3.559a9.016,9.016,0,0,0,.542,2.3l.137.355.678-.265c.374-.146.683-.269.687-.273q-.078-.266-.171-.527a7.271,7.271,0,0,1-.391-1.837c-.022-.267-.041-1.5-.041-2.737V2.062l.443.22a13.094,13.094,0,0,0,5.816,1.34,12.977,12.977,0,0,0,5.715-1.276c.283-.135.53-.246.549-.246.05,0,.044,4.408-.007,4.979A6.9,6.9,0,0,1,22.437,9.7a6.718,6.718,0,0,1-1.188,1.72c-.516.543-2.574,2.424-2.77,2.531-.15.083-.227.093-.7.093h-.529v1.482h.6c1.137,0,1.214-.042,2.852-1.546a17.756,17.756,0,0,0,2.2-2.2,9.017,9.017,0,0,0,1.69-3.932,25.148,25.148,0,0,0,.1-3.747c.013-2.376,0-3.354-.029-3.508A.73.73,0,0,0,23.8.04,3.868,3.868,0,0,0,23.2.354a14.807,14.807,0,0,1-1.662.86,11.939,11.939,0,0,1-9.321-.059A14.425,14.425,0,0,1,10.586.294,1.638,1.638,0,0,0,9.9,0a1.084,1.084,0,0,0-.154.037m3.859,5.425a2.7,2.7,0,0,0-.967.266,2.2,2.2,0,0,0-.689.5,2.257,2.257,0,0,0-.338.375,5.067,5.067,0,0,0,.558.5l.556.458.208-.22a1,1,0,0,1,.8-.387,1.065,1.065,0,0,1,.824.395.692.692,0,0,0,.188.181,5.911,5.911,0,0,0,.591-.458l.55-.457L15.7,6.4a2.8,2.8,0,0,0-1.285-.838,3.18,3.18,0,0,0-.8-.091m6.227.019a2.75,2.75,0,0,0-1.664.923l-.18.212.567.474.568.474.206-.22a1.045,1.045,0,0,1,.8-.388,1.1,1.1,0,0,1,.826.4l.187.208.561-.459a5.62,5.62,0,0,0,.564-.5,2.515,2.515,0,0,0-.339-.374,2.473,2.473,0,0,0-2.1-.753M14,7.551c-.053.029-.377.331-.72.67a11.663,11.663,0,0,1-3.424,2.433,11.456,11.456,0,0,1-5.352,1.107,11.15,11.15,0,0,1-3.237-.522c-.582-.179-.752-.16-1.036.116a.669.669,0,0,0-.213.6c.07.331,1.517,5.693,1.63,6.039a8.9,8.9,0,0,0,1,2.1,9.2,9.2,0,0,0,2.687,2.63c.541.335,3.394,1.806,3.657,1.885a2.251,2.251,0,0,0,.638.073,6.124,6.124,0,0,0,1.729-.363c1.511-.407,1.771-.516,2.141-.9A36.641,36.641,0,0,0,15.876,19.7a8.7,8.7,0,0,0,.861-4.853,11.818,11.818,0,0,0-.46-2.121L16,11.683l.121-.1a1.151,1.151,0,0,1,.822-.275.936.936,0,0,1,.539.109,1.637,1.637,0,0,1,.619.635.4.4,0,0,0,.31.22,11.2,11.2,0,0,0,1.159-.494,2.809,2.809,0,0,0-.55-1.009,2.743,2.743,0,0,0-3.171-.737,1,1,0,0,1-.259.1q-.154-.536-.294-1.076a11.7,11.7,0,0,0-.368-1.214.779.779,0,0,0-.924-.284m.521,4.38c.324,1.217.615,2.342.648,2.5a7.318,7.318,0,0,1-.777,4.9c-.3.535-1.8,2.881-1.928,3.011-.175.184-.286.223-1.616.575-1.109.293-1.2.312-1.38.271s-2.141-1.042-3.061-1.558a7.355,7.355,0,0,1-3.224-3.723c-.076-.2-.408-1.365-.738-2.6S1.84,13.039,1.827,13c-.018-.06-.007-.071.053-.052.165.052,1.008.194,1.517.255a16.493,16.493,0,0,0,2.676.019,13.472,13.472,0,0,0,7.515-3.23,4.047,4.047,0,0,1,.329-.27c.011,0,.286.995.609,2.212m-2.6,1.8a2.688,2.688,0,0,0-1.694,1.352.8.8,0,0,0-.121.357c.019.019.318.165.664.324l.629.289.1-.2a1.035,1.035,0,0,1,1.62-.466c.122.08.235.13.251.111a9.483,9.483,0,0,0,.8-1.2,2.734,2.734,0,0,0-2.251-.563m-6,1.628a2.548,2.548,0,0,0-1.456.786,2.909,2.909,0,0,0-.558.9c0,.041.217.161.628.347.345.157.641.291.657.3s.084-.094.151-.226a1.134,1.134,0,0,1,.669-.6.907.907,0,0,1,.9.164,1.358,1.358,0,0,0,.243.143,2.781,2.781,0,0,0,.313-.4c.155-.221.344-.489.421-.6l.139-.195-.317-.207a2.667,2.667,0,0,0-1.792-.412m5.193,3.484a1.378,1.378,0,0,1-.356.756,1.309,1.309,0,0,1-1.5.246,1.847,1.847,0,0,1-.376-.326,1.912,1.912,0,0,0-.25-.249c-.033,0-1.118.862-1.13.9a1.1,1.1,0,0,0,.194.267,2.693,2.693,0,0,0,2.142,1.031,2.633,2.633,0,0,0,1.276-.308,2.128,2.128,0,0,0,.681-.5,2.706,2.706,0,0,0,.8-1.645c.022-.136.018-.2-.013-.215q-.3-.058-.6-.1-.343-.051-.685-.105l-.13-.022-.048.275" transform="translate(-0.012 -0.003)" fill="#404040" fill-rule="evenodd"/>\n        </svg>\n        '},{name:"Food",svg:'\n        <svg xmlns="http://www.w3.org/2000/svg" width="30.333" height="24.656" viewBox="0 0 30.333 24.656">\n            <g id="food-17" transform="translate(-32 437.536)">\n                <path id="Path_1266" data-name="Path 1266" d="M341.073-437.452a1.061,1.061,0,0,0-.544.782c0,.109.17,1.2.374,2.435s.374,2.272.374,2.306-.2.075-.5.075a1.05,1.05,0,0,0-1.088.544c-.122.238-.116.354.36,8.964.272,4.795.517,8.794.544,8.875a1.116,1.116,0,0,0,.53.53c.1.034,1.483.061,3.224.061,3.367,0,3.305.007,3.6-.422.156-.211.163-.354.612-8.413.544-9.671.53-9.358.381-9.644-.245-.469-.2-.456-3.1-.5l-2.618-.034-.422-2.523c-.231-1.387-.456-2.591-.5-2.666A1,1,0,0,0,341.073-437.452Zm6.012,8.127c-.027.347-.218,3.754-.428,7.57l-.381,6.937-1.959.02a15.214,15.214,0,0,1-1.952-.048c0-.034-.184-3.367-.408-7.406s-.408-7.427-.408-7.522v-.177h5.57Z" transform="translate(-286.697 0)" fill="#404040"/>\n                <path id="Path_1267" data-name="Path 1267" d="M40.5-325.785a12.692,12.692,0,0,0-4.829,1.292,6.823,6.823,0,0,0-3.5,4.516c-.19.884-.109,1.258.32,1.571l.224.156H42c9.209,0,9.283,0,9.522-.136a1.18,1.18,0,0,0,.36-.374c.32-.612-.218-2.442-1.068-3.632A8.57,8.57,0,0,0,49-324.119a12.581,12.581,0,0,0-7.107-1.7C41.3-325.813,40.672-325.8,40.5-325.785Zm4.013,2.02c2.353.408,3.945,1.258,4.876,2.625a3.467,3.467,0,0,1,.456.864l.048.156H42.039c-5.693,0-7.862-.02-7.862-.075a4.688,4.688,0,0,1,.966-1.523,7.684,7.684,0,0,1,4.917-2.115A24.288,24.288,0,0,1,44.515-323.766Z" transform="translate(-0.069 -104.118)" fill="#404040"/>\n                <path id="Path_1268" data-name="Path 1268" d="M60.429-199.864a.933.933,0,0,0-.292,1.272c.272.456-.231.428,7.937.428,7.3,0,7.4,0,7.624-.136a.991.991,0,0,0,.422-.782.991.991,0,0,0-.422-.782c-.224-.136-.32-.136-7.638-.136C60.83-200,60.64-199.993,60.429-199.864Z" transform="translate(-26.096 -221.381)" fill="#404040"/>\n                <path id="Path_1269" data-name="Path 1269" d="M32.748-158.6a1.222,1.222,0,0,0-.36.17c-.381.272-.388.333-.388,2.652,0,2.387.014,2.469.483,2.72.224.116.619.122,9.562.109l9.324-.02.184-.17c.367-.347.374-.374.374-2.632,0-2.346-.014-2.435-.476-2.707-.238-.136-.32-.136-9.385-.143C37.033-158.632,32.843-158.618,32.748-158.6ZM50.023-155.8v.952H33.9v-1.9H50.023Z" transform="translate(0 -259.941)" fill="#404040"/>\n            </g>\n        </svg>\n        '},{name:"Globe",svg:'\n        <svg xmlns="http://www.w3.org/2000/svg" width="22.531" height="22.53" viewBox="0 0 22.531 22.53">\n            <path id="noun-website-7190948" d="M144.859,133.6h0a11.265,11.265,0,1,0,11.266,11.265A11.264,11.264,0,0,0,144.858,133.6Zm-3.679,2.292h0a16.019,16.019,0,0,0-1.689,3.267h0a14.548,14.548,0,0,1-1.777-.85,9.7,9.7,0,0,1,3.465-2.418Zm7.358,0h0A9.714,9.714,0,0,1,152,138.31h0a14.769,14.769,0,0,1-1.775.849,16.119,16.119,0,0,0-1.689-3.269Zm-2.894-.692h0c.138.01.272.025.408.042h0a14.507,14.507,0,0,1,2.683,4.418h0a14.555,14.555,0,0,1-3.09.5Zm-1.572,4.962h0a14.568,14.568,0,0,1-3.091-.5h0a14.535,14.535,0,0,1,2.681-4.418c.136-.017.272-.031.41-.042Zm-3.574.994h0a16.111,16.111,0,0,0,3.576.577l0,2.345h-4.031a14.525,14.525,0,0,1,.456-2.922Zm-3.758-1.594h0a16.07,16.07,0,0,0,2.266,1.095h0a16.139,16.139,0,0,0-.538,3.422H135.2a9.632,9.632,0,0,1,1.546-4.518Zm12.478,1.593h0a14.525,14.525,0,0,1,.457,2.924h-4.032l0-2.345a16.165,16.165,0,0,0,3.576-.579Zm3.758-1.594h0a9.645,9.645,0,0,1,1.546,4.518h-3.276a16.068,16.068,0,0,0-.537-3.423h0a16.1,16.1,0,0,0,2.262-1.1Zm-8.9,8.435a15.961,15.961,0,0,0-3.574.577,14.468,14.468,0,0,1-.456-2.924h4.031Zm5.6-2.346h0a14.538,14.538,0,0,1-.457,2.922,16.093,16.093,0,0,0-3.574-.579V145.65Zm-11.206,0a16.079,16.079,0,0,0,.537,3.422h0a15.861,15.861,0,0,0-2.263,1.095h0a9.633,9.633,0,0,1-1.546-4.518Zm16.054,0h0a9.635,9.635,0,0,1-1.548,4.518,16.1,16.1,0,0,0-2.263-1.095h0a16.1,16.1,0,0,0,.537-3.424Zm-4.3,4.92h0a14.457,14.457,0,0,1,1.777.849h0a9.71,9.71,0,0,1-3.465,2.416,16.074,16.074,0,0,0,1.688-3.267Zm-10.735,0a16.08,16.08,0,0,0,1.688,3.267h0a9.728,9.728,0,0,1-3.465-2.417h0a14.293,14.293,0,0,1,1.771-.848Zm6.155-1h0a14.433,14.433,0,0,1,3.092.5h0a14.526,14.526,0,0,1-2.682,4.417h0c-.136.016-.273.031-.411.042Zm-1.574,0v4.962c-.138-.011-.275-.025-.412-.042h0a14.572,14.572,0,0,1-2.679-4.418h0a14.494,14.494,0,0,1,3.09-.5Z" transform="translate(-133.593 -133.6)" fill="#404040"/>\n        </svg>\n        '},{name:"Info",svg:'\n        <svg xmlns="http://www.w3.org/2000/svg" width="22.932" height="22.946" viewBox="0 0 22.932 22.946">\n            <path id="Path_1302-converted" data-name="Path 1302-converted" d="M10.757.027c-.074.009-.324.035-.554.058A11.477,11.477,0,1,0,22.638,14.2a9.365,9.365,0,0,0,.3-2.709,9.4,9.4,0,0,0-.281-2.621A11.52,11.52,0,0,0,12.92.1a19.476,19.476,0,0,0-2.162-.07m2.119,1.934a9.076,9.076,0,0,1,2.876.9,9.574,9.574,0,0,1,4.362,4.362A8.632,8.632,0,0,1,20.8,9.042a8.768,8.768,0,0,1,.3,2.445,9.044,9.044,0,0,1-.986,4.268,9.643,9.643,0,0,1-6.735,5.182,7.954,7.954,0,0,1-1.895.174,8.674,8.674,0,0,1-2.679-.366,9.676,9.676,0,0,1-6.772-7.392,8.52,8.52,0,0,1-.167-1.9,9.118,9.118,0,0,1,.988-4.229A9.608,9.608,0,0,1,12.876,1.962M11.064,4.373a1.931,1.931,0,0,0-.9.511,1.783,1.783,0,0,0-.55,1.322,1.882,1.882,0,0,0,1.875,1.876A1.882,1.882,0,0,0,13.36,6.205a1.783,1.783,0,0,0-.55-1.322,1.891,1.891,0,0,0-1.746-.511m-1.943,5.67.01.928.469.011.469.011v5.356H9.111l.01.909.01.909h4.708l.01-.909.01-.909H12.9V9.114H9.111l.01.928" transform="translate(-0.01 -0.017)" fill="#404040" fill-rule="evenodd"/>\n        </svg>\n        '},{name:"Pill",svg:'\n        <svg xmlns="http://www.w3.org/2000/svg" width="22.203" height="22.204" viewBox="0 0 22.203 22.204">\n            <path id="Path_1320-converted" data-name="Path 1320-converted" d="M15.1.021a6.773,6.773,0,0,0-2.613.744c-.925.476-.725.29-5.943,5.5-2.626,2.62-4.88,4.89-5.007,5.043A6.725,6.725,0,0,0,.088,14.494,9.213,9.213,0,0,0,.07,16.532a6.721,6.721,0,0,0,1.9,3.749A6.455,6.455,0,0,0,4.337,21.8a6.169,6.169,0,0,0,2.335.414A6.25,6.25,0,0,0,9.021,21.8a6.511,6.511,0,0,0,1.692-.923c.324-.24,9.528-9.4,9.963-9.923A6.668,6.668,0,0,0,16.607.091a10,10,0,0,0-1.5-.07m1.242,1.927A4.82,4.82,0,0,1,20.3,5.912a6.166,6.166,0,0,1-.04,1.761,5.145,5.145,0,0,1-.857,1.88c-.216.294-3.7,3.829-3.773,3.829-.052,0-6.768-6.716-6.768-6.768,0-.022.805-.839,1.789-1.816,1.209-1.2,1.886-1.846,2.09-1.99a5.04,5.04,0,0,1,2.028-.859,6.02,6.02,0,0,1,1.581,0" transform="translate(-0.022 -0.014)" fill="#404040" fill-rule="evenodd"/>\n        </svg>\n        '},{name:"Taxi",svg:'\n        <svg xmlns="http://www.w3.org/2000/svg" width="23.189" height="23.616" viewBox="0 0 23.189 23.616">\n            <path id="noun-taxi-5761860-converted" d="M9.13.042a1.913,1.913,0,0,0-1.262.98,2.426,2.426,0,0,0-.212,1.153v.377H6.1c-1.732,0-1.793.007-2.3.257a2.9,2.9,0,0,0-1.005.919c-.3.5-.29.432-.663,4.115q-.166,1.7-.354,3.389a1.79,1.79,0,0,1-.222.055A2.013,2.013,0,0,0,.041,12.864c-.032.187-.041,1.144-.032,3.3C.02,19.11.023,19.2.1,19.414a2.452,2.452,0,0,0,.392.7,2.284,2.284,0,0,0,.787.542l.229.084v.706a3.016,3.016,0,0,0,.073.942,1.854,1.854,0,0,0,.971,1.1l.251.12h3.21l.251-.12a1.854,1.854,0,0,0,.971-1.1,2.879,2.879,0,0,0,.073-.908V20.8h8.545v.454a3.067,3.067,0,0,0,.2,1.354,1.992,1.992,0,0,0,.872.87l.264.125,1.523.011c1.725.012,1.759.008,2.176-.272a2.034,2.034,0,0,0,.694-.833,2.446,2.446,0,0,0,.1-1l.014-.778.226-.083a2.265,2.265,0,0,0,.784-.541,2.406,2.406,0,0,0,.385-.683l.087-.229.011-3.035c.009-2.154,0-3.112-.032-3.3a2.021,2.021,0,0,0-1.52-1.579c-.213-.043-.215-.044-.236-.2-.012-.088-.16-1.56-.33-3.272s-.334-3.226-.367-3.364a2.221,2.221,0,0,0-.668-1.161,2.136,2.136,0,0,0-.627-.476c-.519-.252-.576-.258-2.309-.258H15.544V2.175a2.426,2.426,0,0,0-.212-1.153A1.887,1.887,0,0,0,14.04.039c-.254-.048-4.663-.046-4.91,0m4.758,1.607c.06.055.071.127.071.484v.419H9.241V2.139c0-.329.013-.426.064-.483s.183-.071,2.288-.071a9.351,9.351,0,0,1,2.3.064m4.828,2.537a.92.92,0,0,1,.459.618c.023.112.173,1.517.333,3.123s.3,3,.314,3.1l.024.183H11.6c-4.533,0-8.241-.01-8.241-.023,0-.142.631-6.236.661-6.386a.92.92,0,0,1,.459-.618L4.656,4.1H18.544l.172.087M21.5,12.944l.113.127v2.92c0,3.171.006,3.081-.212,3.18-.078.036-2.364.046-9.807.046-10.561,0-9.861.015-9.964-.211-.035-.076-.047-.838-.047-3.014V13.08l.083-.1a.52.52,0,0,1,.164-.139c.045-.018,4.464-.029,9.82-.025l9.737.007.113.126m-15.866.631a2.33,2.33,0,0,0-1.462.732,2.55,2.55,0,0,0-.659,1.16,3.475,3.475,0,0,0,0,1.16,2.636,2.636,0,0,0,.945,1.419,2.264,2.264,0,0,0,1.479.479A2.215,2.215,0,0,0,7.7,17.791a2.442,2.442,0,0,0,0-3.489,2.353,2.353,0,0,0-2.06-.727m11.252,0a2.5,2.5,0,0,0-2.063,1.709,2.671,2.671,0,0,0-.021,1.459,2.515,2.515,0,0,0,1.765,1.72,3.237,3.237,0,0,0,1.256,0,2.521,2.521,0,0,0,1.78-1.782,2.491,2.491,0,0,0-2.717-3.106m-10.6,1.6a.9.9,0,0,1,.158,1.593.634.634,0,0,1-.471.109.622.622,0,0,1-.49-.125.885.885,0,0,1,.088-1.532.875.875,0,0,1,.715-.045m11.288.015a1.188,1.188,0,0,1,.286.2.885.885,0,0,1-.133,1.349c-.18.13-.207.137-.5.137a.62.62,0,0,1-.491-.125.885.885,0,0,1,.088-1.532.875.875,0,0,1,.751-.03M5.761,21.37c0,.474-.01.579-.064.638s-.15.071-1.268.071a4.707,4.707,0,0,1-1.28-.055c-.067-.049-.076-.114-.087-.638L3.049,20.8H5.761v.567m14.384,0c0,.474-.01.579-.064.638s-.151.071-1.293.071c-1.226,0-1.229,0-1.289-.086-.048-.068-.06-.2-.06-.638V20.8h2.706v.567" transform="translate(-0.006 -0.004)" fill="#404040" fill-rule="evenodd"/>\n        </svg>\n        '}];class Hs{constructor(){this.themeManager=new Os}getTypeSVG(e){var t;if(!e.CtaButtonIcon){let t;switch(e.CtaType){case"Phone":t=`\n        <svg ${B} id="ixdtl" data-gjs-type="svg" xmlns="http://www.w3.org/2000/svg" width="32" height="32"\n                    viewBox="0 0 49.417 49.418">\n            <path ${B} id="call" data-gjs-type="svg-in"\n                d="M29.782,3a2.149,2.149,0,1,0,0,4.3A19.3,19.3,0,0,1,49.119,26.634a2.149,2.149,0,1,0,4.3,0A23.667,23.667,0,0,0,29.782,3ZM12.032,7.305a2.548,2.548,0,0,0-.818.067,8.342,8.342,0,0,0-3.9,2.342C2.775,14.254.366,21.907,17.437,38.98S42.16,53.643,46.7,49.1a8.348,8.348,0,0,0,2.346-3.907,2.524,2.524,0,0,0-1.179-2.786c-2.424-1.418-7.654-4.484-10.08-5.9a2.523,2.523,0,0,0-2.568.012l-4.012,2.392a2.517,2.517,0,0,1-2.845-.168,65.811,65.811,0,0,1-5.711-4.981,65.07,65.07,0,0,1-4.981-5.711A2.512,2.512,0,0,1,17.5,25.2L19.9,21.191a2.533,2.533,0,0,0,.008-2.577L14.012,8.556A2.543,2.543,0,0,0,12.032,7.305Zm17.751,4.289a2.149,2.149,0,1,0,0,4.3A10.709,10.709,0,0,1,40.525,26.634a2.149,2.149,0,1,0,4.3,0A15.072,15.072,0,0,0,29.782,11.594Zm0,8.594a2.149,2.149,0,1,0,0,4.3,2.114,2.114,0,0,1,2.149,2.148,2.149,2.149,0,1,0,4.3,0A6.479,6.479,0,0,0,29.782,20.188Z"\n                transform="translate(-4 -3)" fill="${e.CtaColor?e.CtaColor:"#ffffff"}"></path>\n        </svg>\n        `;break;case"Email":t=`\n        <svg ${B} id="inavf" data-gjs-type="svg" xmlns="http://www.w3.org/2000/svg" width="32"\n            height="28" viewBox="0 0 41 32.8">\n            <path ${B} id="Path_1218" data-gjs-type="svg-in" data-name="Path 1218"\n                d="M6.1,4A4.068,4.068,0,0,0,2.789,5.7a1.5,1.5,0,0,0,.444,2.126l18,11.219a2.387,2.387,0,0,0,2.531,0L41.691,7.732a1.5,1.5,0,0,0,.384-2.2A4.063,4.063,0,0,0,38.9,4Zm35.907,8.376a.963.963,0,0,0-.508.152L23.765,23.711a2.392,2.392,0,0,1-2.531,0L3.5,12.656a.98.98,0,0,0-1.5.833V32.7a4.1,4.1,0,0,0,4.1,4.1H38.9A4.1,4.1,0,0,0,43,32.7V13.357A.981.981,0,0,0,42.007,12.376Z"\n                transform="translate(-2 -4)" fill="${e.CtaColor?e.CtaColor:"#ffffff"}"></path>\n        </svg>\n        `;break;case"WebLink":t=`\n        <svg ${B} xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 16 16">\n          <path${B} id="Path_1213" data-name="Path 1213" d="M15.833,4a4.163,4.163,0,0,0-2.958,1.229l-.979.979a4.168,4.168,0,0,0-1.229,2.958,4.1,4.1,0,0,0,.292,1.521L12.042,9.6a2.857,2.857,0,0,1,.792-2.458l.979-.979a2.853,2.853,0,0,1,2.021-.833,2.805,2.805,0,0,1,2,.833,2.85,2.85,0,0,1,0,4.021l-.979.979A2.853,2.853,0,0,1,14.833,12a2.439,2.439,0,0,1-.437-.042l-1.083,1.083a4.1,4.1,0,0,0,1.521.292A4.163,4.163,0,0,0,17.792,12.1l.979-.979A4.168,4.168,0,0,0,20,8.167,4.2,4.2,0,0,0,15.833,4ZM14.188,8.854,8.854,14.188l.958.958,5.333-5.333ZM9.167,10.667A4.163,4.163,0,0,0,6.208,11.9l-.979.979A4.168,4.168,0,0,0,4,15.833,4.2,4.2,0,0,0,8.167,20a4.163,4.163,0,0,0,2.958-1.229l.979-.979a4.168,4.168,0,0,0,1.229-2.958,4.1,4.1,0,0,0-.292-1.521L11.958,14.4a2.857,2.857,0,0,1-.792,2.458l-.979.979a2.853,2.853,0,0,1-2.021.833,2.805,2.805,0,0,1-2-.833,2.85,2.85,0,0,1,0-4.021l.979-.979A2.853,2.853,0,0,1,9.167,12a2.44,2.44,0,0,1,.438.042l1.083-1.083A4.1,4.1,0,0,0,9.167,10.667Z" transform="translate(-4 -4)" fill="${e.CtaColor?e.CtaColor:"#ffffff"}"></path>\n        </svg>\n        `;break;case"Form":t=`\n        <svg ${B} id="igqdh" data-gjs-type="svg" xmlns="http://www.w3.org/2000/svg" width="26" height="30"\n              viewBox="0 0 13 16">\n              <path ${B} id="Path_1209" data-gjs-type="svg-in" data-name="Path 1209"\n                  d="M9.828,4A1.823,1.823,0,0,0,8,5.8V18.2A1.823,1.823,0,0,0,9.828,20h9.344A1.823,1.823,0,0,0,21,18.2V9.8a.6.6,0,0,0-.179-.424l-.006-.006L15.54,4.176A.614.614,0,0,0,15.109,4Zm0,1.2H14.5V8.6a1.823,1.823,0,0,0,1.828,1.8h3.453v7.8a.6.6,0,0,1-.609.6H9.828a.6.6,0,0,1-.609-.6V5.8A.6.6,0,0,1,9.828,5.2Zm5.891.848L18.92,9.2H16.328a.6.6,0,0,1-.609-.6Z"\n                  transform="translate(-8 -4)" fill="${e.CtaColor?e.CtaColor:"#ffffff"}"></path>\n          </svg>\n        `}return t}{const A=null===(t=Ss.find((t=>t.name===e.CtaButtonIcon)))||void 0===t?void 0:t.svg,n=document.createElement("div");n.innerHTML=A||"";const i=n.querySelector("svg");if(i)return i.setAttribute("height","32"),i.setAttribute("width","32"),i.querySelectorAll("path").forEach((t=>{t.setAttribute("fill",(null==e?void 0:e.CtaColor)||"#fff")})),this.addGrapesAttributes(n.innerHTML)}}addGrapesAttributes(e){const t=document.createElement("div");return"string"==typeof e&&(t.innerHTML=e),t.querySelectorAll("*").forEach((e=>{e.setAttribute("data-gjs-draggable","false"),e.setAttribute("data-gjs-selectable","false"),e.setAttribute("data-gjs-editable","false"),e.setAttribute("data-gjs-highlightable","false"),e.setAttribute("data-gjs-droppable","false"),e.setAttribute("data-gjs-resizable","false"),e.setAttribute("data-gjs-hoverable","false")})),t.innerHTML}phoneCta(e,t){return`\n        <div ${C} data-gjs-type="cta-buttons" button-type="${e.CallToActionType}" class="cta-container-child cta-child" id="${t}">\n                    <div ${B} data-gjs-type="default" class="cta-button cta-styled-btn"\n                        style="background-color: ${this.themeManager.getThemeCtaColor("ctaColor1")}">\n                        <svg ${B} id="ixdtl" data-gjs-type="svg" xmlns="http://www.w3.org/2000/svg" width="32" height="32"\n                            viewBox="0 0 49.417 49.418">\n                            <path ${B} id="call" data-gjs-type="svg-in"\n                                d="M29.782,3a2.149,2.149,0,1,0,0,4.3A19.3,19.3,0,0,1,49.119,26.634a2.149,2.149,0,1,0,4.3,0A23.667,23.667,0,0,0,29.782,3ZM12.032,7.305a2.548,2.548,0,0,0-.818.067,8.342,8.342,0,0,0-3.9,2.342C2.775,14.254.366,21.907,17.437,38.98S42.16,53.643,46.7,49.1a8.348,8.348,0,0,0,2.346-3.907,2.524,2.524,0,0,0-1.179-2.786c-2.424-1.418-7.654-4.484-10.08-5.9a2.523,2.523,0,0,0-2.568.012l-4.012,2.392a2.517,2.517,0,0,1-2.845-.168,65.811,65.811,0,0,1-5.711-4.981,65.07,65.07,0,0,1-4.981-5.711A2.512,2.512,0,0,1,17.5,25.2L19.9,21.191a2.533,2.533,0,0,0,.008-2.577L14.012,8.556A2.543,2.543,0,0,0,12.032,7.305Zm17.751,4.289a2.149,2.149,0,1,0,0,4.3A10.709,10.709,0,0,1,40.525,26.634a2.149,2.149,0,1,0,4.3,0A15.072,15.072,0,0,0,29.782,11.594Zm0,8.594a2.149,2.149,0,1,0,0,4.3,2.114,2.114,0,0,1,2.149,2.148,2.149,2.149,0,1,0,4.3,0A6.479,6.479,0,0,0,29.782,20.188Z"\n                                transform="translate(-4 -3)" fill="#fff"></path>\n                        </svg>\n                        <div ${B} id="it1cq" data-gjs-type="default" class="cta-badge">\n                          <svg fill="#5068a8" id="ityrb" data-gjs-type="default" ${B} width="14px" height="14px" viewBox="0 0 36 36" version="1.1"  preserveAspectRatio="xMidYMid meet" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">\n                              <title ${B}>delete</title>\n                              <path fill="#5068a8" ${B} class="clr-i-outline clr-i-outline-path-1" d="M27.14,34H8.86A2.93,2.93,0,0,1,6,31V11.23H8V31a.93.93,0,0,0,.86,1H27.14A.93.93,0,0,0,28,31V11.23h2V31A2.93,2.93,0,0,1,27.14,34Z"></path><path class="clr-i-outline clr-i-outline-path-2" d="M30.78,9H5A1,1,0,0,1,5,7H30.78a1,1,0,0,1,0,2Z"></path>\n                              <rect fill="#5068a8" ${B} class="clr-i-outline clr-i-outline-path-3" x="21" y="13" width="2" height="15"></rect>\n                              <rect fill="#5068a8" ${B} class="clr-i-outline clr-i-outline-path-4" x="13" y="13" width="2" height="15"></rect>\n                              <path fill="#5068a8" ${B} class="clr-i-outline clr-i-outline-path-5" d="M23,5.86H21.1V4H14.9V5.86H13V4a2,2,0,0,1,1.9-2h6.2A2,2,0,0,1,23,4Z"></path>\n                              <rect fill="#5068a8" ${B} x="0" y="0" width="36" height="36" fill-opacity="0"/>\n                          </svg>\n                        </div>\n                    </div>\n                    <div ${B} id="irtak" data-gjs-type="text" class="cta-label label">${e.CallToActionName}</div>\n        </div>\n        `}emailCta(e,t){return`\n        <div ${C} data-gjs-type="cta-buttons"  button-type="${e.CallToActionType}" class="cta-container-child cta-child" id="${t}">\n                    <div ${B} id="i4iaf" data-gjs-type="default" class="cta-button cta-styled-btn"\n                        style="background-color: ${this.themeManager.getThemeCtaColor("ctaColor1")}">\n                        <svg ${B} id="inavf" data-gjs-type="svg" xmlns="http://www.w3.org/2000/svg" width="32"\n                            height="28" viewBox="0 0 41 32.8">\n                            <path ${B} id="Path_1218" data-gjs-type="svg-in" data-name="Path 1218"\n                                d="M6.1,4A4.068,4.068,0,0,0,2.789,5.7a1.5,1.5,0,0,0,.444,2.126l18,11.219a2.387,2.387,0,0,0,2.531,0L41.691,7.732a1.5,1.5,0,0,0,.384-2.2A4.063,4.063,0,0,0,38.9,4Zm35.907,8.376a.963.963,0,0,0-.508.152L23.765,23.711a2.392,2.392,0,0,1-2.531,0L3.5,12.656a.98.98,0,0,0-1.5.833V32.7a4.1,4.1,0,0,0,4.1,4.1H38.9A4.1,4.1,0,0,0,43,32.7V13.357A.981.981,0,0,0,42.007,12.376Z"\n                                transform="translate(-2 -4)" fill="#fff"></path>\n                        </svg>\n                        <div ${B} id="i2knu" data-gjs-type="default" class="cta-badge">\n                            <svg fill="#5068a8" id="idkak" data-gjs-type="default" ${B} width="14px" height="14px" viewBox="0 0 36 36" version="1.1"  preserveAspectRatio="xMidYMid meet" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">\n                                <title ${B}>delete</title>\n                                <path fill="#5068a8" ${B} class="clr-i-outline clr-i-outline-path-1" d="M27.14,34H8.86A2.93,2.93,0,0,1,6,31V11.23H8V31a.93.93,0,0,0,.86,1H27.14A.93.93,0,0,0,28,31V11.23h2V31A2.93,2.93,0,0,1,27.14,34Z"></path><path class="clr-i-outline clr-i-outline-path-2" d="M30.78,9H5A1,1,0,0,1,5,7H30.78a1,1,0,0,1,0,2Z"></path>\n                                <rect fill="#5068a8" ${B} class="clr-i-outline clr-i-outline-path-3" x="21" y="13" width="2" height="15"></rect>\n                                <rect fill="#5068a8" ${B} class="clr-i-outline clr-i-outline-path-4" x="13" y="13" width="2" height="15"></rect>\n                                <path fill="#5068a8" ${B} class="clr-i-outline clr-i-outline-path-5" d="M23,5.86H21.1V4H14.9V5.86H13V4a2,2,0,0,1,1.9-2h6.2A2,2,0,0,1,23,4Z"></path>\n                                <rect fill="#5068a8" ${B} x="0" y="0" width="36" height="36" fill-opacity="0"/>\n                            </svg>\n                        </div>\n                    </div>\n                    <div ${B} id="irtak" data-gjs-type="text" class="cta-label label">${e.CallToActionName}</div>\n        </div>\n        `}formCta(e,t){return`\n        <div ${C} data-gjs-type="cta-buttons"  button-type="${e.CallToActionType}" class="cta-container-child cta-child" id="${t}">\n                    <div ${B} id="i9rww" data-gjs-type="default" class="cta-button cta-styled-btn"\n                        style="background-color: ${this.themeManager.getThemeCtaColor("ctaColor1")}">\n                        <svg ${B} id="igqdh" data-gjs-type="svg" xmlns="http://www.w3.org/2000/svg" width="26" height="30"\n                            viewBox="0 0 13 16">\n                            <path ${B} id="Path_1209" data-gjs-type="svg-in" data-name="Path 1209"\n                                d="M9.828,4A1.823,1.823,0,0,0,8,5.8V18.2A1.823,1.823,0,0,0,9.828,20h9.344A1.823,1.823,0,0,0,21,18.2V9.8a.6.6,0,0,0-.179-.424l-.006-.006L15.54,4.176A.614.614,0,0,0,15.109,4Zm0,1.2H14.5V8.6a1.823,1.823,0,0,0,1.828,1.8h3.453v7.8a.6.6,0,0,1-.609.6H9.828a.6.6,0,0,1-.609-.6V5.8A.6.6,0,0,1,9.828,5.2Zm5.891.848L18.92,9.2H16.328a.6.6,0,0,1-.609-.6Z"\n                                transform="translate(-8 -4)" fill="#fff"></path>\n                        </svg>\n                        <div ${B} id="iina3" data-gjs-type="default" class="cta-badge">\n                            <svg fill="#5068a8" id="iw1yc" data-gjs-type="default" ${B} width="14px" height="14px" viewBox="0 0 36 36" version="1.1"  preserveAspectRatio="xMidYMid meet" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">\n                                <title ${B}>delete</title>\n                                <path fill="#5068a8" ${B} class="clr-i-outline clr-i-outline-path-1" d="M27.14,34H8.86A2.93,2.93,0,0,1,6,31V11.23H8V31a.93.93,0,0,0,.86,1H27.14A.93.93,0,0,0,28,31V11.23h2V31A2.93,2.93,0,0,1,27.14,34Z"></path><path class="clr-i-outline clr-i-outline-path-2" d="M30.78,9H5A1,1,0,0,1,5,7H30.78a1,1,0,0,1,0,2Z"></path>\n                                <rect fill="#5068a8" ${B} class="clr-i-outline clr-i-outline-path-3" x="21" y="13" width="2" height="15"></rect>\n                                <rect fill="#5068a8" ${B} class="clr-i-outline clr-i-outline-path-4" x="13" y="13" width="2" height="15"></rect>\n                                <path fill="#5068a8" ${B} class="clr-i-outline clr-i-outline-path-5" d="M23,5.86H21.1V4H14.9V5.86H13V4a2,2,0,0,1,1.9-2h6.2A2,2,0,0,1,23,4Z"></path>\n                                <rect fill="#5068a8" ${B} x="0" y="0" width="36" height="36" fill-opacity="0"/>\n                            </svg>\n                        </div>\n                    </div>\n                    <div ${B} id="irtak" data-gjs-type="text" class="cta-label label">${e.CallToActionName}</div>\n        </div>\n        `}urlCta(e,t){return`\n        <div ${C} data-gjs-type="cta-buttons"  button-type="${e.CallToActionType}" class="cta-container-child cta-child" id="${t}">\n            <div ${B} id="i4iaf" data-gjs-type="default" class="cta-button cta-styled-btn"\n                style="background-color: ${this.themeManager.getThemeCtaColor("ctaColor1")}">\n                <svg ${B} xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 16 16">\n                    <path${B} id="Path_1213" data-name="Path 1213" d="M15.833,4a4.163,4.163,0,0,0-2.958,1.229l-.979.979a4.168,4.168,0,0,0-1.229,2.958,4.1,4.1,0,0,0,.292,1.521L12.042,9.6a2.857,2.857,0,0,1,.792-2.458l.979-.979a2.853,2.853,0,0,1,2.021-.833,2.805,2.805,0,0,1,2,.833,2.85,2.85,0,0,1,0,4.021l-.979.979A2.853,2.853,0,0,1,14.833,12a2.439,2.439,0,0,1-.437-.042l-1.083,1.083a4.1,4.1,0,0,0,1.521.292A4.163,4.163,0,0,0,17.792,12.1l.979-.979A4.168,4.168,0,0,0,20,8.167,4.2,4.2,0,0,0,15.833,4ZM14.188,8.854,8.854,14.188l.958.958,5.333-5.333ZM9.167,10.667A4.163,4.163,0,0,0,6.208,11.9l-.979.979A4.168,4.168,0,0,0,4,15.833,4.2,4.2,0,0,0,8.167,20a4.163,4.163,0,0,0,2.958-1.229l.979-.979a4.168,4.168,0,0,0,1.229-2.958,4.1,4.1,0,0,0-.292-1.521L11.958,14.4a2.857,2.857,0,0,1-.792,2.458l-.979.979a2.853,2.853,0,0,1-2.021.833,2.805,2.805,0,0,1-2-.833,2.85,2.85,0,0,1,0-4.021l.979-.979A2.853,2.853,0,0,1,9.167,12a2.44,2.44,0,0,1,.438.042l1.083-1.083A4.1,4.1,0,0,0,9.167,10.667Z" transform="translate(-4 -4)" fill="#fff"></path>\n                </svg>\n                <div ${B} id="i2knu" data-gjs-type="default" class="cta-badge">\n                    <svg fill="#5068a8" id="idkak" data-gjs-type="default" ${B} width="14px" height="14px" viewBox="0 0 36 36" version="1.1"  preserveAspectRatio="xMidYMid meet" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">\n                        <title ${B}>delete</title>\n                        <path fill="#5068a8" ${B} class="clr-i-outline clr-i-outline-path-1" d="M27.14,34H8.86A2.93,2.93,0,0,1,6,31V11.23H8V31a.93.93,0,0,0,.86,1H27.14A.93.93,0,0,0,28,31V11.23h2V31A2.93,2.93,0,0,1,27.14,34Z"></path><path class="clr-i-outline clr-i-outline-path-2" d="M30.78,9H5A1,1,0,0,1,5,7H30.78a1,1,0,0,1,0,2Z"></path>\n                        <rect fill="#5068a8" ${B} class="clr-i-outline clr-i-outline-path-3" x="21" y="13" width="2" height="15"></rect>\n                        <rect fill="#5068a8" ${B} class="clr-i-outline clr-i-outline-path-4" x="13" y="13" width="2" height="15"></rect>\n                        <path fill="#5068a8" ${B} class="clr-i-outline clr-i-outline-path-5" d="M23,5.86H21.1V4H14.9V5.86H13V4a2,2,0,0,1,1.9-2h6.2A2,2,0,0,1,23,4Z"></path>\n                        <rect fill="#5068a8" ${B} x="0" y="0" width="36" height="36" fill-opacity="0"/>\n                    </svg>\n                </div>\n            </div>\n            <div ${B} id="irtak" data-gjs-type="text" class="cta-label label">${e.CallToActionName}</div>\n        </div>\n        `}}class Ms{constructor(){this.editor=globalThis.activeEditor,this.pageId=globalThis.currentPageId,this.pageData=globalThis.pageData,this.contentMapper=new Fs(this.pageId),this.themeManager=new Os,this.ctaSvgManager=new Hs}addCtaButton(e){const t=this.editor.Components.getWrapper().find(".cta-button-container")[0];if(!t)return;const A=Ne(12),{ctaButtonEl:n,ctaAction:i}=this.getIconAndAction(e,A),r={CtaId:A,CtaLabel:e.CallToActionName,CtaType:e.CallToActionType,CtaButtonType:"Round",CtaBGColor:"ctaColor1",CtaAction:i};t.append(n),this.contentMapper.addContentCta(r)}checkIfExisting(e){const t=document.createElement("div");t.innerHTML=e;const A=t.querySelector("[button-type]");if(!A)return!1;const n=A.getAttribute("button-type"),i=this.editor.Components.getWrapper().getEl().querySelectorAll(".cta-button-container [button-type]");return Array.from(i).some((e=>e.getAttribute("button-type")===n))}changeCtaColor(e){const t=globalThis.selectedComponent;if(!t)return;const A=t.find(".cta-styled-btn")[0];if(!A)return;A.addStyle({"background-color":e.CtaColorCode}),A.getEl().style.backgroundColor=e.CtaColorCode;const n=A.parent();this.isInformationPage()?(new hl).updateInfoCtaAttributes(t.getId(),"CtaBGColor",e.CtaColorName):this.contentMapper.updateContentCtaBGColor(n.getId(),e.CtaColorName)}changeToPlainButton(){const e=this.getSelectedComponent();if(!e)return;const t=this.getCtaButtonAttributes(e);if(!t)return;t.CtaButtonType="FullWidth";const A=this.createPlainButtonHTML(e.getId(),t);this.selectComponentAfterAdd(e.getId(),e,A),this.updateCtaButtonType(e.getId(),"FullWidth"),this.updateProperties()}changeToIconButton(){const e=this.getSelectedComponent();if(!e)return;const t=this.getCtaButtonAttributes(e);if(!t)return;const A=this.ctaSvgManager.getTypeSVG(t);if(!A)return;t.CtaButtonType="Icon";const n=this.createIconButtonHTML(e.getId(),t,A);this.selectComponentAfterAdd(e.getId(),e,n),this.updateCtaButtonType(e.getId(),"Icon"),this.updateProperties()}changeToImgButton(){const e=this.getSelectedComponent();if(!e)return;const t=this.getCtaButtonAttributes(e);if(!t)return;t.CtaButtonType="Image";const A=this.createImgButtonHTML(e.getId(),t);if(this.selectComponentAfterAdd(e.getId(),e,A),this.updateCtaButtonType(e.getId(),"Image"),!this.isInformationPage()){const e="/Resources/UCGrapes/src/images/image.png";this.contentMapper.updateContentButtonType(t.CtaId,"Image",e)}this.updateProperties()}changeToElipseButton(){const e=this.getSelectedComponent();if(!e)return;const t=this.getCtaButtonAttributes(e);if(!t)return;const A=this.ctaSvgManager.getTypeSVG(t);if(!A)return;t.CtaButtonType="Round";const n=this.createElipseButtonHTML(e.getId(),t,A);this.selectComponentAfterAdd(e.getId(),e,n),this.updateCtaButtonType(e.getId(),"Round"),this.updateProperties()}removeCta(e){const t=e.parentElement;if(!(null==t?void 0:t.id))return;const A=this.editor.Components.getWrapper().find("#"+t.id)[0];if(!A)return;if(this.isInformationPage())return void(new hl).deleteCtaButton(A.parent().getId());const n=A.parent();n&&(n.remove(),this.contentMapper.removeContentCta(n.getId()))}getIconAndAction(e,t){let A,n;switch(null==e?void 0:e.CallToActionType){case"Phone":A=this.ctaSvgManager.phoneCta(e,t),n=null==e?void 0:e.CallToActionPhoneNumber;break;case"Email":A=this.ctaSvgManager.emailCta(e,t),n=null==e?void 0:e.CallToActionEmail;break;case"WebLink":A=this.ctaSvgManager.urlCta(e,t),n=null==e?void 0:e.CallToActionUrl;break;case"Form":A=this.ctaSvgManager.formCta(e,t),n=null==e?void 0:e.CallToActionUrl}return{ctaButtonEl:A,ctaAction:n}}getSelectedComponent(){return globalThis.selectedComponent}isInformationPage(){return"Information"===this.pageData.PageType}getCtaButtonAttributes(e){if(this.isInformationPage()){const t=globalThis.infoContentMapper.getInfoContent(e.getId());return null==t?void 0:t.CtaAttributes}return this.contentMapper.getContentCta(e.getId())}updateCtaButtonType(e,t){this.isInformationPage()?(new hl).updateInfoCtaAttributes(e,"CtaButtonType",t):this.contentMapper.updateContentButtonType(this.getCtaButtonAttributes(this.getSelectedComponent()).CtaId,t)}selectComponentAfterAdd(e,t,A){this.editor.once("component:add",(()=>{const t=this.editor.getWrapper().find(`#${e}`)[0];t&&this.editor.select(t)})),t.replaceWith(A)}updateProperties(){const e=this.getSelectedComponent(),t=this.getCtaButtonAttributes(e);""==t.CtaButtonIcon&&(t.CtaButtonIcon="Email"),t&&e&&new Ls(e,t).setctaAttributes()}getCtaLabel(e){let t=e.CtaLabel;return t?("Round"===e.CtaButtonType||"FullWidth"===e.CtaButtonType?t=t.length>36?Oe(t,36):t:"Icon"!==e.CtaButtonType&&"Image"!==e.CtaButtonType||(t=t.length>20?Oe(t,20):t),t):""}createPlainButtonHTML(e,t){const A=this.themeManager.getThemeCtaColor(t.CtaBGColor),n=t.CtaColor||"#ffffff",i=this.isInformationPage()?'data-gjs-type="info-cta-section"':"data-gjs-type=cta-buttons";return`\n            <div id="${e}" \n                button-type="${t.CtaType}"\n                class="plain-button-container"\n                ${i}\n                ${C}>\n                <button ${B} class="plain-button cta-styled-btn"\n                    style="background-color: ${A}">\n                    <div ${B} id="ihd0f" class="cta-badge">\n                            <svg fill="#5068a8" ${B} width="14px" height="14px" viewBox="0 0 36 36" version="1.1"  preserveAspectRatio="xMidYMid meet" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">\n                            <title ${B}>delete</title>\n                            <path fill="#5068a8" ${B} class="clr-i-outline clr-i-outline-path-1" d="M27.14,34H8.86A2.93,2.93,0,0,1,6,31V11.23H8V31a.93.93,0,0,0,.86,1H27.14A.93.93,0,0,0,28,31V11.23h2V31A2.93,2.93,0,0,1,27.14,34Z"></path><path class="clr-i-outline clr-i-outline-path-2" d="M30.78,9H5A1,1,0,0,1,5,7H30.78a1,1,0,0,1,0,2Z"></path>\n                            <rect fill="#5068a8" ${B} class="clr-i-outline clr-i-outline-path-3" x="21" y="13" width="2" height="15"></rect>\n                            <rect fill="#5068a8" ${B} class="clr-i-outline clr-i-outline-path-4" x="13" y="13" width="2" height="15"></rect>\n                            <path fill="#5068a8" ${B} class="clr-i-outline clr-i-outline-path-5" d="M23,5.86H21.1V4H14.9V5.86H13V4a2,2,0,0,1,1.9-2h6.2A2,2,0,0,1,23,4Z"></path>\n                            <rect fill="#5068a8" ${B} x="0" y="0" width="36" height="36" fill-opacity="0"/>\n                        </svg>\n                    </div>\n                    <span ${B} class="label" style="color:${n}"> ${this.getCtaLabel(t)}</span> \n                </button>\n            </div>\n        `}createIconButtonHTML(e,t,A){const n=this.themeManager.getThemeCtaColor(t.CtaBGColor),i=t.CtaColor||"#ffffff",r=this.isInformationPage()?'data-gjs-type="info-cta-section"':"data-gjs-type=cta-buttons";return`\n            <div id="${e}" \n                button-type="${t.CtaType}"\n                ${C} \n                ${r}\n                class="img-button-container">\n                <div ${B} class="img-button cta-styled-btn"\n                    style="background-color: ${n}">\n                    <span ${B} class="img-button-icon">\n                        ${A} \n                        <svg class="icon-edit-button" title="Change icon" ${B} xmlns="http://www.w3.org/2000/svg" id="Component_57_1" data-name="Component 57 โ 1" width="20" height="20" viewBox="0 0 33 33">\n                            <g ${B} id="Ellipse_532" data-name="Ellipse 532" fill="#fff" stroke="#5068a8" stroke-width="2">\n                                <circle ${B} cx="16.5" cy="16.5" r="16.5" stroke="none"/>\n                                <circle ${B} cx="16.5" cy="16.5" r="16" fill="none"/>\n                            </g>\n                            <path ${B} id="Icon_feather-edit-2" data-name="Icon feather-edit-2" d="M12.834,3.8a1.854,1.854,0,0,1,2.622,2.622L6.606,15.274,3,16.257l.983-3.606Z" transform="translate(7 6.742)" fill="#5068a8" stroke="#5068a8" stroke-linecap="round" stroke-linejoin="round" stroke-width="1"/>\n                        </svg>\n                    </span>\n                    <div${B} class="cta-badge">\n                        <svg fill="#5068a8" ${B} width="14px" height="14px" viewBox="0 0 36 36" version="1.1"  preserveAspectRatio="xMidYMid meet" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">\n                            <title ${B}>delete</title>\n                            <path fill="#5068a8" ${B} class="clr-i-outline clr-i-outline-path-1" d="M27.14,34H8.86A2.93,2.93,0,0,1,6,31V11.23H8V31a.93.93,0,0,0,.86,1H27.14A.93.93,0,0,0,28,31V11.23h2V31A2.93,2.93,0,0,1,27.14,34Z"></path><path class="clr-i-outline clr-i-outline-path-2" d="M30.78,9H5A1,1,0,0,1,5,7H30.78a1,1,0,0,1,0,2Z"></path>\n                            <rect fill="#5068a8" ${B} class="clr-i-outline clr-i-outline-path-3" x="21" y="13" width="2" height="15"></rect>\n                            <rect fill="#5068a8" ${B} class="clr-i-outline clr-i-outline-path-4" x="13" y="13" width="2" height="15"></rect>\n                            <path fill="#5068a8" ${B} class="clr-i-outline clr-i-outline-path-5" d="M23,5.86H21.1V4H14.9V5.86H13V4a2,2,0,0,1,1.9-2h6.2A2,2,0,0,1,23,4Z"></path>\n                            <rect fill="#5068a8" ${B} x="0" y="0" width="36" height="36" fill-opacity="0"/>\n                        </svg>\n                    </div>\n                    <span ${B} class="img-button-label label" style="color:${i}">${this.getCtaLabel(t)}</span>\n                    <i ${B} class="fa fa-angle-right img-button-arrow" style="color:${i}"></i>\n                </div>\n            </div>\n        `}createImgButtonHTML(e,t){const A=this.themeManager.getThemeCtaColor(t.CtaBGColor),n=t.CtaColor||"#ffffff",i=this.isInformationPage()?'data-gjs-type="info-cta-section"':"data-gjs-type=cta-buttons",r=t.CtaButtonImgUrl||"/Resources/UCGrapes/src/images/image.png",o=t.CtaButtonImgUrl?`<svg ${B} xmlns="http://www.w3.org/2000/svg" id="Component_57_1" data-name="Component 57 โ 1" width="22" height="22" viewBox="0 0 33 33">\n                <g ${B} id="Ellipse_532" data-name="Ellipse 532" fill="#fff" stroke="#5068a8" stroke-width="2">\n                    <circle ${B} cx="16.5" cy="16.5" r="16.5" stroke="none"/>\n                    <circle ${B} cx="16.5" cy="16.5" r="16" fill="none"/>\n                </g>\n                <path ${B} id="Icon_feather-edit-2" data-name="Icon feather-edit-2" d="M12.834,3.8a1.854,1.854,0,0,1,2.622,2.622L6.606,15.274,3,16.257l.983-3.606Z" transform="translate(7 6.742)" fill="#5068a8" stroke="#5068a8" stroke-linecap="round" stroke-linejoin="round" stroke-width="1"/>\n              </svg>`:`<svg ${B} xmlns="http://www.w3.org/2000/svg" id="Component_53_4" data-name="Component 53 โ 4" width="22" height="22" viewBox="0 0 22 22">\n                <g ${B} id="Group_2309" data-name="Group 2309">\n                    <g ${B} id="Group_2307" data-name="Group 2307">\n                    <g ${B} id="Ellipse_6" data-name="Ellipse 6" fill="#fdfdfd" stroke="#5068a8" stroke-width="1">\n                        <circle ${B} cx="11" cy="11" r="11" stroke="none"/>\n                        <circle ${B} cx="11" cy="11" r="10.5" fill="none"/>\n                    </g>\n                    </g>\n                </g>\n                <path ${B} id="Icon_ionic-ios-add" data-name="Icon ionic-ios-add" d="M18.342,13.342H14.587V9.587a.623.623,0,1,0-1.245,0v3.755H9.587a.623.623,0,0,0,0,1.245h3.755v3.755a.623.623,0,1,0,1.245,0V14.587h3.755a.623.623,0,1,0,0-1.245Z" transform="translate(-2.965 -2.965)" fill="#5068a8"/>\n              </svg>`;return`\n            <div id="${e}" \n                button-type="${t.CtaType}"\n                ${C} \n                ${i}\n                class="img-button-container">\n                <div ${B} class="img-button cta-styled-btn"\n                    style="background-color: ${A}">\n                    <span ${B} class="img-button-section">\n                        <img ${B} src="${r}" />\n                        <span ${B} class="edit-cta-image">\n                            ${o}\n                        </span>\n                    </span>\n                    <div${B} class="cta-badge">\n                        <svg fill="#5068a8" ${B} width="14px" height="14px" viewBox="0 0 36 36" version="1.1"  preserveAspectRatio="xMidYMid meet" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">\n                            <title ${B}>delete</title>\n                            <path fill="#5068a8" ${B} class="clr-i-outline clr-i-outline-path-1" d="M27.14,34H8.86A2.93,2.93,0,0,1,6,31V11.23H8V31a.93.93,0,0,0,.86,1H27.14A.93.93,0,0,0,28,31V11.23h2V31A2.93,2.93,0,0,1,27.14,34Z"></path><path class="clr-i-outline clr-i-outline-path-2" d="M30.78,9H5A1,1,0,0,1,5,7H30.78a1,1,0,0,1,0,2Z"></path>\n                            <rect fill="#5068a8" ${B} class="clr-i-outline clr-i-outline-path-3" x="21" y="13" width="2" height="15"></rect>\n                            <rect fill="#5068a8" ${B} class="clr-i-outline clr-i-outline-path-4" x="13" y="13" width="2" height="15"></rect>\n                            <path fill="#5068a8" ${B} class="clr-i-outline clr-i-outline-path-5" d="M23,5.86H21.1V4H14.9V5.86H13V4a2,2,0,0,1,1.9-2h6.2A2,2,0,0,1,23,4Z"></path>\n                            <rect fill="#5068a8" ${B} x="0" y="0" width="36" height="36" fill-opacity="0"/>\n                        </svg>\n                    </div>\n                    <span ${B} class="img-button-label label" style="color:${n}">${this.getCtaLabel(t)}</span>\n                    <i ${B} class="fa fa-angle-right img-button-arrow" style="color:${n}"></i>\n                </div>\n            </div>\n        `}createElipseButtonHTML(e,t,A){const n=this.themeManager.getThemeCtaColor(t.CtaBGColor),i=(t.CtaColor,this.isInformationPage()?'data-gjs-type="info-cta-section"':"data-gjs-type=cta-buttons");return`\n        <div ${C} ${i}\n          data-gjs-type="cta-buttons" \n          button-type="${t.CtaType}" \n          class="cta-container-child cta-child"\n          id="${e}">\n            <div class="cta-button cta-styled-btn" ${B}\n              style="background-color: ${n}">\n                <span ${B} class="img-button-icon">\n                  ${A}\n                  <svg class="icon-edit-button" title="Change icon" ${B} xmlns="http://www.w3.org/2000/svg" id="Component_57_1" data-name="Component 57 โ 1" width="20" height="20" viewBox="0 0 33 33">\n                    <g ${B} id="Ellipse_532" data-name="Ellipse 532" fill="#fff" stroke="#5068a8" stroke-width="2">\n                      <circle ${B} cx="16.5" cy="16.5" r="16.5" stroke="none"/>\n                      <circle ${B} cx="16.5" cy="16.5" r="16" fill="none"/>\n                    </g>\n                    <path ${B} id="Icon_feather-edit-2" data-name="Icon feather-edit-2" d="M12.834,3.8a1.854,1.854,0,0,1,2.622,2.622L6.606,15.274,3,16.257l.983-3.606Z" transform="translate(7 6.742)" fill="#5068a8" stroke="#5068a8" stroke-linecap="round" stroke-linejoin="round" stroke-width="1"/>\n                  </svg>\n                </span>\n            </div>\n            <span class="cta-label label" ${B}>${this.getCtaLabel(t)}</span>\n        </div>\n        `}changeCtaButtonIcon(e,t,A){if(A&&t&&this.isInformationPage()){const n=this.getSelectedComponent();if(n){const i=n.find(".img-button-icon")[0];if(i){const n=document.createElement("div");n.innerHTML=e.svg;const r=n.querySelector("svg");if(r){r.setAttribute("height","32"),r.setAttribute("width","32"),r.querySelectorAll("path").forEach((e=>{e.setAttribute("fill",(null==A?void 0:A.CtaColor)||"#fff")}));const o=n.innerHTML,s=i.find("svg")[0];s&&s.replaceWith(o),this.updateCtaIconMapper(t,e)}}}}}updateCtaIconMapper(e,t){this.isInformationPage()&&this.getSelectedComponent()&&(new hl).updateInfoCtaAttributes(e,"CtaButtonIcon",t.name)}}class ks{constructor(e){this.colorList=e,this.ctaManager=new Ms,this.container=document.createElement("div"),this.init()}init(){this.container.classList.add("cta-style"),this.container.id="cta-style",this.container.style.display="flex";const e=document.createElement("div");e.classList.add("text-color-palette"),e.classList.add("text-colors"),e.id="cta-color-palette",this.colorList.forEach((t=>{const A=document.createElement("div");A.classList.add("color-item"),A.title=t.CtaColorName;const n=document.createElement("input");n.type="radio",n.name="cta-color",n.value=t.CtaColorCode,n.id=t.CtaColorCode;const i=document.createElement("label");i.setAttribute("for",t.CtaColorCode),i.classList.add("color-box"),i.style.backgroundColor=t.CtaColorCode,A.appendChild(n),A.appendChild(i),e.appendChild(A),A.addEventListener("click",(()=>{this.ctaManager.changeCtaColor(t)})),e.appendChild(A)})),this.container.appendChild(e)}render(e){e.appendChild(this.container)}refresh(e){const t=document.getElementById("cta-style");t?t.replaceWith(this.container):e.appendChild(this.container)}}class Ps{constructor(e,t){this.icons=[],this.iconsCategory="Technical Services & Support",this.themeManager=e,this.iconsCategory=t,this.init()}init(){this.icons=[],this.themeManager.getActiveThemeIcons().filter((e=>e.IconCategory===this.iconsCategory)).forEach((e=>{const t=document.createElement("div");t.classList.add("icon"),t.title=e.IconName,t.innerHTML=`${e.IconSVG}`,t.addEventListener("click",(t=>{var A,n;t.preventDefault();const i=globalThis.selectedComponent;if(!i)return;const r=i.find(".tile-icon")[0];if(!r)return;const o=null===(A=i.getStyle())||void 0===A?void 0:A.color,s=e.IconSVG.replace(/fill="#[^"]*"/g,`fill="${o||"white"}"`).replace("<svg",`<svg ${B}`);r.components(s),r.addAttributes({title:e.IconName}),r.parent().addStyle({display:"block"});const a=i.parent(),l=a.parent();let c;if("Information"===globalThis.pageData.PageType){(new hl).updateInfoTileAttributes(l.getId(),a.getId(),"Icon",e.IconName);const t=globalThis.infoContentMapper.getInfoContent(l.getId());c=null===(n=null==t?void 0:t.Tiles)||void 0===n?void 0:n.find((e=>e.Id===a.getId()))}else globalThis.tileMapper.updateTile(i.parent().getId(),"Icon",e.IconName),c=globalThis.tileMapper.getTile(l.getId(),a.getId());new Bl(i,c).setTileAttributes()})),this.icons.push(t)}))}render(e){this.icons.forEach((t=>e.appendChild(t)))}}class Ns{constructor(e="Technical Services & Support"){this.categoryTitle=e,this.container=document.createElement("div"),this.selectionDiv=document.createElement("div"),this.categoryOptions=document.createElement("div"),this.selectedCategory=document.createElement("span"),this.themeManager=new Os,this.init(),document.addEventListener("click",this.handleOutsideClick.bind(this))}init(){this.container.className="sidebar-section services-section",this.container.id="icon-categories-list",this.selectionDiv.className="tb-custom-category-selection";const e=document.createElement("button");e.className="category-select-button",e.setAttribute("aria-haspopup","listbox"),e.setAttribute("aria-expanded","false"),this.selectedCategory.className="selected-category-value",this.selectedCategory.textContent=Me.t("sidebar.icon_category.general"),e.appendChild(this.selectedCategory),e.onclick=t=>{t.preventDefault(),e.classList.contains("open")?this.closeSelection():(this.categoryOptions.classList.toggle("show"),e.classList.toggle("open"),e.setAttribute("aria-expanded","true"))},this.selectionDiv.appendChild(e),this.container.appendChild(this.selectionDiv),this.initializeCategoryOptions(),this.loadThemeIcons(this.categoryTitle)}initializeCategoryOptions(){this.categoryOptions.className="category-options-list",this.categoryOptions.setAttribute("role","listbox"),Ve().forEach((e=>{const t=document.createElement("div");t.className="category-option",t.role="option",t.setAttribute("data-value",e.name),t.textContent=e.label,t.onclick=()=>{this.categoryOptions.querySelectorAll(".category-option").forEach((e=>e.classList.remove("selected"))),t.classList.add("selected"),this.selectedCategory.textContent=e.label,this.loadThemeIcons(e.name),this.closeSelection()},this.categoryOptions.appendChild(t)})),this.selectionDiv.appendChild(this.categoryOptions)}closeSelection(){if(this.categoryOptions.classList.contains("show")){this.categoryOptions.classList.remove("show");const e=this.container.querySelector(".category-select-button");e.setAttribute("aria-expanded","false"),e.classList.toggle("open")}}loadThemeIcons(e){document.querySelectorAll("#icons-list").forEach((e=>e.remove()));const t=document.createElement("div");t.classList.add("icons-list"),t.id="icons-list",new Ps(this.themeManager,e||this.categoryTitle).render(t),this.container.appendChild(t)}handleOutsideClick(e){this.categoryOptions.classList.contains("show")&&!this.container.contains(e.target)&&this.closeSelection()}render(e){const t=e.querySelector("#icon-categories-list");t?t.replaceWith(this.container):e.appendChild(this.container)}}var Ds=function(e,t,A,n){return new(A||(A=Promise))((function(i,r){function o(e){try{a(n.next(e))}catch(e){r(e)}}function s(e){try{a(n.throw(e))}catch(e){r(e)}}function a(e){var t;e.done?i(e.value):(t=e.value,t instanceof A?t:new A((function(e){e(t)}))).then(o,s)}a((n=n.apply(e,t||[])).next())}))};class Os{constructor(){this._currentTheme=null,this._themes=[],this.config=t.getInstance(),this.appVersionManager=new h,this.setThemes(this.config.themes)}get currentTheme(){return this._currentTheme}setThemes(e){this._themes=e,this._currentTheme=this.getThemes().find((e=>e.ThemeId===this.config.currentThemeId))||null,this._currentTheme&&(window.DynamicFormSubmitButtonColor=this._currentTheme.ThemeColors.backgroundColor)}getThemes(){return this._themes}getThemeById(e){return this._themes.find((t=>t.ThemeId===e))}getActiveThemeIcons(){var e;return(null===(e=this._currentTheme)||void 0===e?void 0:e.ThemeIcons)||[]}getActiveThemeColors(){var e;return(null===(e=this._currentTheme)||void 0===e?void 0:e.ThemeColors)||{}}getActiveThemeCtaColors(){var e;return(null===(e=this._currentTheme)||void 0===e?void 0:e.ThemeCtaColors)||{}}setTheme(e){this._currentTheme=e,this.appVersionManager.getActiveVersion(),this.setWindowAppCurrentThemeId(e.ThemeId),this.config.currentThemeId=e.ThemeId,this.applyTheme(e.ThemeId),this._currentTheme&&(window.DynamicFormSubmitButtonColor=this._currentTheme.ThemeColors.backgroundColor,window.DynamicFormSubmitButtons&&0!=window.DynamicFormSubmitButtons.length&&window.DynamicFormSubmitButtons.forEach((e=>{e.style.backgroundColor=window.DynamicFormSubmitButtonColor})),window.DynamicFormstepNumberBulletSelecteds&&window.DynamicFormstepNumberBulletSelecteds.forEach((e=>{e.style.backgroundColor=window.DynamicFormSubmitButtonColor})),window.DynamicFormtableStepBulletCheckeds&&window.DynamicFormtableStepBulletCheckeds.forEach((e=>{e.style.backgroundColor=window.DynamicFormSubmitButtonColor})),window.DynamicFormFileInputButtons&&window.DynamicFormFileInputButtons.forEach((e=>{e.style.backgroundColor=window.DynamicFormSubmitButtonColor,e.style.fontWeight="normal",e.style.fontSize="14px",e.style.fontStyle="normal",e.style.border="0px",e.style.borderRadius="4px"})),window.DynamicFormWizardNext&&window.DynamicFormWizardNext.forEach((e=>{e.style.backgroundColor=window.DynamicFormSubmitButtonColor,e.style.border="0px"})),window.DynamicFormWizardPrevious&&window.DynamicFormWizardPrevious.forEach((e=>{e.style.backgroundColor=window.DynamicFormSubmitButtonColor,e.style.border="0px"})))}updateColorPallete(e){try{const t=new xs(e,"theme-color-palette"),A=document.querySelector(".sidebar-section.theme-section");t&&A&&t.refresh(A)}catch(e){console.error("Error updating color palette:",e)}}updateCtaColorPallete(e){try{const t=new ks(e),A=document.getElementById("content-page-section");A&&t.refresh(A)}catch(e){console.error("Error updating CTA color palette:",e)}}updateThemeIcons(e="General"){try{const t=document.getElementById("menu-page-section");t&&new Ns(e).render(t)}catch(e){console.error("Error updating theme icons:",e)}}getThemeColor(e){return this._currentTheme&&this._currentTheme.ThemeColors?this._currentTheme.ThemeColors[e]||"transparent":(console.error("ThemeColors is undefined or invalid:",this._currentTheme),null)}getThemeCtaColor(e="ctaColor1"){var t;return this._currentTheme&&this._currentTheme.ThemeCtaColors?(null===(t=(Array.isArray(this._currentTheme.ThemeCtaColors)?this._currentTheme.ThemeCtaColors:[]).find((t=>t.CtaColorName===e)))||void 0===t?void 0:t.CtaColorCode)||"#5068a8":(console.error("ThemeColors is undefined or invalid:",this._currentTheme),"#5068a8")}getThemeIcon(e){var t;const A=this.getActiveThemeIcons();return(null===(t=null==A?void 0:A.find((t=>t.IconName===e)))||void 0===t?void 0:t.IconSVG)||null}getIconCategory(e){var t;const A=this.getActiveThemeIcons();return(null===(t=null==A?void 0:A.find((t=>t.IconName===e)))||void 0===t?void 0:t.IconCategory)||null}applyTheme(e){return Ds(this,void 0,void 0,(function*(){try{const t=e||this.getGlobalActiveVersionThemeId();if(!t)return;const A=this.getThemeById(t);if(!A)return;const n=document.querySelectorAll(".mobile-frame iframe");if(!n.length)return;const i=this.getGlobalActiveVersion();if(null==i?void 0:i.Pages){for(const e of i.Pages)yield this.processPage(e,n,A);this.updateColorPallete(A.ThemeColors),this.updateCtaColorPallete(A.ThemeCtaColors),this.updateThemeIcons()}}catch(e){console.error("Error applying theme:",e)}}))}processPage(e,t,A){return Ds(this,void 0,void 0,(function*(){var n,i;try{const r=`data-${e.PageId}`,o=localStorage.getItem(r),s=o?JSON.parse(o):{};(null===(n=s.PageContentStructure)||void 0===n?void 0:n.Cta)&&this.processPageContentCtas(s.PageContentStructure.Cta,t,A),(null===(i=s.PageInfoStructure)||void 0===i?void 0:i.InfoContent)&&this.processPageInfoContent(s.PageInfoStructure.InfoContent,t,A)}catch(t){console.error(`Error processing page ${e.PageId}:`,t)}}))}processPageContentCtas(e,t,A){e.forEach((e=>{t.forEach((t=>{try{const n=this.getIframeDocument(t);if(n){this.updateFontFamily(n,A.ThemeFontFamily);const t=n.querySelector(`#${e.CtaId}`);if(t){const A=t.querySelector(".cta-styled-btn");A&&(A.style.backgroundColor=this.getThemeCtaColor(e.CtaBGColor))}this.updateFrameColor(n)}}catch(e){console.error("Error processing CTA:",e)}}))}))}processPageInfoContent(e,t,A){e.forEach((e=>{t.forEach((t=>{var n;try{const i=this.getIframeDocument(t);if(i){this.updateFontFamily(i,A.ThemeFontFamily);const t=i.querySelector(`#${e.InfoId}`);if(t)if("Cta"===e.InfoType){const A=t.querySelector(".cta-styled-btn");A&&(null===(n=e.CtaAttributes)||void 0===n?void 0:n.CtaBGColor)&&(A.style.backgroundColor=this.getThemeCtaColor(e.CtaAttributes.CtaBGColor))}else"TileRow"===e.InfoType&&e.Tiles&&this.processTiles(e.Tiles,i,A);this.updateFrameColor(i)}}catch(e){console.error("Error processing info content:",e)}}))}))}processTiles(e,t,A){e.forEach((e=>{var n;try{const i=t.getElementById(e.Id);if(i){const t=i.querySelector(".template-block");if(t&&!e.BGImageUrl&&e.BGColor){const i=null===(n=A.ThemeColors)||void 0===n?void 0:n[e.BGColor];i&&(t.style.backgroundColor=i)}this.updateTileIcon(e,i)}}catch(e){console.error("Error processing tile:",e)}}))}updateTileIcon(e,t){if(e&&t)try{const A=t.querySelector(".tile-icon");if(!A)return;const n=A.querySelector("svg");if(!n||!e.Icon)return;let i=this.getThemeIcon(e.Icon);if(!i)return;e.Color&&(i=i.replace('fill="#7c8791"',`fill="${e.Color}"`));const r=document.createElement("div");r.innerHTML=i.trim();const o=r.firstChild;o&&(n.remove(),A.appendChild(o))}catch(e){console.error("Error updating tile icon:",e)}}updateFontFamily(e,t="Comic Sans MS"){try{const A=e.documentElement;A&&A.style.setProperty("--font-family",t)}catch(e){console.error("Error updating font family:",e)}}updateFrameColor(e){try{const t=this.getThemeColor("backgroundColor");if(!t)return;const A=e.querySelector(".tb-toggle-buttons"),n=null==A?void 0:A.children[0];n&&n.style.setProperty("background-color",t);const i=e.querySelector(".tb-date-selector");i&&i.style.setProperty("background-color",t)}catch(e){console.error("Error updating frame color:",e)}}getIframeDocument(e){var t;try{return e.contentDocument||(null===(t=e.contentWindow)||void 0===t?void 0:t.document)||null}catch(e){return console.error("Error accessing iframe document:",e),null}}getWindowAppCurrentThemeId(){try{return t.getInstance().currentThemeId}catch(e){return console.error("Error accessing window.app.currentThemeId:",e),null}}setWindowAppCurrentThemeId(e){try{window.app&&(window.app.currentThemeId=e)}catch(e){console.error("Error setting window.app.currentThemeId:",e)}}getGlobalActiveVersion(){try{return globalThis.activeVersion}catch(e){return void console.error("Error accessing globalThis.activeVersion:",e)}}getGlobalActiveVersionThemeId(){var e;try{return null===(e=this.getGlobalActiveVersion())||void 0===e?void 0:e.ThemeId}catch(e){return void console.error("Error accessing globalThis.activeVersion.ThemeId:",e)}}}function _s(e){return`\n        <button ${B} title="${e}" class="tile-resize-button">\n            \x3c!-- <svg xmlns="http://www.w3.org/2000/svg" width="18.6" height="18.6" viewBox="0 0 18.6 18.6">\n                <g id="Icon_for_size" data-name="Icon for size" transform="translate(-253.747 -1134.203) rotate(45)">\n                <path id="Path_1035" data-name="Path 1035" d="M4.588,3.99A.6.6,0,0,0,4,4.67V7.579a.6.6,0,1,0,1.194,0V6.035l7.341,7.341c.15.157.213.054.422,0S15.886,15.3,15.94,15.1h0l-9.9-9.9H7.58A.6.6,0,1,0,7.58,4H4.664A.6.6,0,0,0,4.588,3.99Zm8.36,8.36a.6.6,0,0,0-.416,1.025L15.1,15.94H13.552a.6.6,0,1,0,0,1.194h2.895a.6.6,0,0,0,.688-.688V13.551a.6.6,0,1,0-1.194,0V15.1C13.439,12.608,13.11,12.351,12.948,12.351Z" transform="translate(984.014 612.01)" fill="#5068a8"/>\n                </g>\n            </svg> --\x3e\n        </button>\n    `}class Vs{constructor(){this.themeManager=new Os}openImageUpload(e){const t=document.createElement("div");t.classList.add("tb-modal"),t.style.display="flex",new yl("info",void 0,e).render(t);const A=document.createElement("input");A.type="file",A.multiple=!0,A.accept="image/jpeg, image/jpg, image/png",A.id="fileInput",A.style.display="none",document.body.appendChild(t),document.body.appendChild(A)}callGetCtaLabel(e){return(new Ms).getCtaLabel(e)}addCtaButton(e){return`\n    <div id="${e.CtaId}" \n        button-type="${e.CtaType}"\n        ${C} \n        data-gjs-type="info-cta-section" \n        class="img-button-container">\n        <div ${B} class="img-button cta-styled-btn"\n            style="background-color: ${this.themeManager.getThemeCtaColor(e.CtaBGColor)}">\n            <span ${B} class="img-button-section">\n                <img ${B} \n                    src="${e.CtaButtonImgUrl?e.CtaButtonImgUrl:"/Resources/UCGrapes/src/images/image.png"}" \n                />\n                <span ${B} class="edit-cta-image">\n                    ${e.CtaButtonImgUrl?`\n                        <svg ${B} xmlns="http://www.w3.org/2000/svg" id="Component_57_1" data-name="Component 57 โ 1" width="22" height="22" viewBox="0 0 33 33">\n                            <g ${B} id="Ellipse_532" data-name="Ellipse 532" fill="#fff" stroke="#5068a8" stroke-width="2">\n                                <circle ${B} cx="16.5" cy="16.5" r="16.5" stroke="none"/>\n                                <circle ${B} cx="16.5" cy="16.5" r="16" fill="none"/>\n                            </g>\n                            <path ${B} id="Icon_feather-edit-2" data-name="Icon feather-edit-2" d="M12.834,3.8a1.854,1.854,0,0,1,2.622,2.622L6.606,15.274,3,16.257l.983-3.606Z" transform="translate(7 6.742)" fill="#5068a8" stroke="#5068a8" stroke-linecap="round" stroke-linejoin="round" stroke-width="1"/>\n                        </svg>\n                        `:`\n                        <svg ${B} xmlns="http://www.w3.org/2000/svg" id="Component_53_4" data-name="Component 53 โ 4" width="22" height="22" viewBox="0 0 22 22">\n                            <g ${B} id="Group_2309" data-name="Group 2309">\n                                <g ${B} id="Group_2307" data-name="Group 2307">\n                                <g ${B} id="Ellipse_6" data-name="Ellipse 6" fill="#fdfdfd" stroke="#5068a8" stroke-width="1">\n                                    <circle ${B} cx="11" cy="11" r="11" stroke="none"/>\n                                    <circle ${B} cx="11" cy="11" r="10.5" fill="none"/>\n                                </g>\n                                </g>\n                            </g>\n                            <path ${B} id="Icon_ionic-ios-add" data-name="Icon ionic-ios-add" d="M18.342,13.342H14.587V9.587a.623.623,0,1,0-1.245,0v3.755H9.587a.623.623,0,0,0,0,1.245h3.755v3.755a.623.623,0,1,0,1.245,0V14.587h3.755a.623.623,0,1,0,0-1.245Z" transform="translate(-2.965 -2.965)" fill="#5068a8"/>\n                        </svg>\n                    `}\n                </span>\n            </span>\n\n            <div${B} class="cta-badge">\n                <svg fill="#5068a8" ${B} width="14px" height="14px" viewBox="0 0 36 36" version="1.1"  preserveAspectRatio="xMidYMid meet" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">\n                <title ${B}>delete</title>\n                <path fill="#5068a8" ${B} class="clr-i-outline clr-i-outline-path-1" d="M27.14,34H8.86A2.93,2.93,0,0,1,6,31V11.23H8V31a.93.93,0,0,0,.86,1H27.14A.93.93,0,0,0,28,31V11.23h2V31A2.93,2.93,0,0,1,27.14,34Z"></path><path class="clr-i-outline clr-i-outline-path-2" d="M30.78,9H5A1,1,0,0,1,5,7H30.78a1,1,0,0,1,0,2Z"></path>\n                <rect fill="#5068a8" ${B} class="clr-i-outline clr-i-outline-path-3" x="21" y="13" width="2" height="15"></rect>\n                <rect fill="#5068a8" ${B} class="clr-i-outline clr-i-outline-path-4" x="13" y="13" width="2" height="15"></rect>\n                <path fill="#5068a8" ${B} class="clr-i-outline clr-i-outline-path-5" d="M23,5.86H21.1V4H14.9V5.86H13V4a2,2,0,0,1,1.9-2h6.2A2,2,0,0,1,23,4Z"></path>\n                <rect fill="#5068a8" ${B} x="0" y="0" width="36" height="36" fill-opacity="0"/>\n            </svg>\n            </div>\n            <span ${B} class="img-button-label label" style="color:${e.CtaColor?e.CtaColor:"#ffffff"}">${this.callGetCtaLabel(e)}</span>\n                        <i ${B} class="fa fa-angle-right img-button-arrow" style="color:${e.CtaColor?e.CtaColor:"#ffffff"}"></i>\n        </div>\n    </div>`}infoTileUi(){return`\n      <div class="container-row" ${I} id="${Ne(8)}">\n        <div ${v} style="height:80px" class="template-wrapper" id="${Ne(8)}">\n            <div ${m} class="template-block" style="background-color: transparent; color: #333333; justify-content: left">\n                <div ${B} id="igtdq" data-gjs-type="default" class="tile-icon-section">\n                  <span ${B} id="is1dw" data-gjs-type="text" class="tile-close-icon top-right selected-tile-title">ร</span>\n                  <span ${B} id="ic26t" data-gjs-type="text" class="tile-icon">deade</span>\n                </div>\n                <div ${B} id="igtdq" data-gjs-type="default" class="tile-title-section">\n                  <span ${B} id="is1dw" data-gjs-type="text" class="tile-close-title top-right selected-tile-title">ร</span>\n                  <span ${B} style="display: block" id="ic26t" data-gjs-type="text" is-hidden="false" title="${Me.t("tile.title")}" class="tile-title">${Me.t("tile.title")}</span>\n                </div>\n            </div>\n            <button ${B} id="i9sxl" data-gjs-type="default" title="Delete tile" class="action-button delete-button">&minus;</button>\n            <button ${B} id="ifvvi" data-gjs-type="default" title="Add tile right" class="action-button add-button-right">+</button>\n            ${_s("Resize")}\n            <svg ${B} class="tile-open-menu" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 27 27">\n              <g ${B} id="Group_2383" data-name="Group 2383" transform="translate(-921 -417.999)">\n                <g ${B} id="Group_2382" data-name="Group 2382" transform="translate(921 418)">\n                  <circle ${B} id="Ellipse_534" data-name="Ellipse 534" cx="13.5" cy="13.5" r="13.5" transform="translate(0 -0.001)" fill="#6a747f"/>\n                </g>\n                <path ${B} id="Path_2320" data-name="Path 2320" d="M1.7,0a1.7,1.7,0,1,0,1.7,1.7A1.7,1.7,0,0,0,1.7,0ZM7.346,0a1.7,1.7,0,1,0,1.7,1.7A1.7,1.7,0,0,0,7.346,0ZM13,0a1.7,1.7,0,1,0,1.7,1.7A1.7,1.7,0,0,0,13,0Z" transform="translate(927 430)" fill="#fff"/>\n              </g>\n            </svg>\n          </div>\n      </div>\n    `}getDescription(e,t){return`\n      <div\n              style="flex: 1; padding: 0; margin: 0; height: auto; white-space: normal;"\n              class="info-desc-section"\n              ${y} \n              id="${t||Ne(15)}"\n              data-gjs-type="info-desc-section"\n          >\n            <button ${B} class="tb-edit-content-icon">\n              <svg ${B} width="14px" height="14px" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">\n                <path ${B} fill-rule="evenodd" clip-rule="evenodd" d="M18.4324 4C18.2266 4 18.0227 4.04055 17.8325 4.11933C17.6423 4.19811 17.4695 4.31358 17.3239 4.45914L5.25659 16.5265L4.42524 19.5748L7.47353 18.7434L19.5409 6.67608C19.6864 6.53051 19.8019 6.3577 19.8807 6.16751C19.9595 5.97732 20 5.77348 20 5.56761C20 5.36175 19.9595 5.1579 19.8807 4.96771C19.8019 4.77752 19.6864 4.60471 19.5409 4.45914C19.3953 4.31358 19.2225 4.19811 19.0323 4.11933C18.8421 4.04055 18.6383 4 18.4324 4ZM17.0671 2.27157C17.5 2.09228 17.9639 2 18.4324 2C18.9009 2 19.3648 2.09228 19.7977 2.27157C20.2305 2.45086 20.6238 2.71365 20.9551 3.04493C21.2864 3.37621 21.5492 3.7695 21.7285 4.20235C21.9077 4.63519 22 5.09911 22 5.56761C22 6.03611 21.9077 6.50003 21.7285 6.93288C21.5492 7.36572 21.2864 7.75901 20.9551 8.09029L8.69996 20.3454C8.57691 20.4685 8.42387 20.5573 8.25597 20.6031L3.26314 21.9648C2.91693 22.0592 2.54667 21.9609 2.29292 21.7071C2.03917 21.4534 1.94084 21.0831 2.03526 20.7369L3.39694 15.7441C3.44273 15.5762 3.53154 15.4231 3.6546 15.3001L15.9097 3.04493C16.241 2.71365 16.6343 2.45086 17.0671 2.27157Z" fill="#5068a8"/>\n              </svg>\n            </button>\n            <button ${B} class="tb-delete-image-icon">\n                <svg fill="#5068a8" ${B} width="14px" height="14px" viewBox="0 0 36 36" version="1.1"  preserveAspectRatio="xMidYMid meet" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">\n                    <title ${B}>delete</title>\n                    <path fill="#5068a8" ${B} class="clr-i-outline clr-i-outline-path-1" d="M27.14,34H8.86A2.93,2.93,0,0,1,6,31V11.23H8V31a.93.93,0,0,0,.86,1H27.14A.93.93,0,0,0,28,31V11.23h2V31A2.93,2.93,0,0,1,27.14,34Z"></path><path class="clr-i-outline clr-i-outline-path-2" d="M30.78,9H5A1,1,0,0,1,5,7H30.78a1,1,0,0,1,0,2Z"></path>\n                    <rect fill="#5068a8" ${B} class="clr-i-outline clr-i-outline-path-3" x="21" y="13" width="2" height="15"></rect>\n                    <rect fill="#5068a8" ${B} class="clr-i-outline clr-i-outline-path-4" x="13" y="13" width="2" height="15"></rect>\n                    <path fill="#5068a8" ${B} class="clr-i-outline clr-i-outline-path-5" d="M23,5.86H21.1V4H14.9V5.86H13V4a2,2,0,0,1,1.9-2h6.2A2,2,0,0,1,23,4Z"></path>\n                    <rect fill="#5068a8" ${B} x="0" y="0" width="36" height="36" fill-opacity="0"/>\n                </svg>\n            </button>\n            ${this.addGrapesAttributes(`<div ${B} class="info-desc-content">${e}</div>`)}      \n          </div>\n      `}getImage(e){return`\n    <div ${y} class="info-image-section" id="${Ne(15)}" data-gjs-type="info-image-section">\n          <button ${B} data-gjs-type="default" class="tb-edit-image-icon">\n            <svg ${B} data-gjs-type="svg" width="14px" height="14px" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">\n                <path ${B} data-gjs-type="svg-in" fill-rule="evenodd" clip-rule="evenodd" d="M18.4324 4C18.2266 4 18.0227 4.04055 17.8325 4.11933C17.6423 4.19811 17.4695 4.31358 17.3239 4.45914L5.25659 16.5265L4.42524 19.5748L7.47353 18.7434L19.5409 6.67608C19.6864 6.53051 19.8019 6.3577 19.8807 6.16751C19.9595 5.97732 20 5.77348 20 5.56761C20 5.36175 19.9595 5.1579 19.8807 4.96771C19.8019 4.77752 19.6864 4.60471 19.5409 4.45914C19.3953 4.31358 19.2225 4.19811 19.0323 4.11933C18.8421 4.04055 18.6383 4 18.4324 4ZM17.0671 2.27157C17.5 2.09228 17.9639 2 18.4324 2C18.9009 2 19.3648 2.09228 19.7977 2.27157C20.2305 2.45086 20.6238 2.71365 20.9551 3.04493C21.2864 3.37621 21.5492 3.7695 21.7285 4.20235C21.9077 4.63519 22 5.09911 22 5.56761C22 6.03611 21.9077 6.50003 21.7285 6.93288C21.5492 7.36572 21.2864 7.75901 20.9551 8.09029L8.69996 20.3454C8.57691 20.4685 8.42387 20.5573 8.25597 20.6031L3.26314 21.9648C2.91693 22.0592 2.54667 21.9609 2.29292 21.7071C2.03917 21.4534 1.94084 21.0831 2.03526 20.7369L3.39694 15.7441C3.44273 15.5762 3.53154 15.4231 3.6546 15.3001L15.9097 3.04493C16.241 2.71365 16.6343 2.45086 17.0671 2.27157Z" fill="#5068a8"></path>\n            </svg>\n          </button>\n        <button ${B} class="tb-delete-image-icon">\n            <svg fill="#5068a8" ${B} width="14px" height="14px" viewBox="0 0 36 36" version="1.1"  preserveAspectRatio="xMidYMid meet" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">\n                <title ${B}>delete</title>\n                <path fill="#5068a8" ${B} class="clr-i-outline clr-i-outline-path-1" d="M27.14,34H8.86A2.93,2.93,0,0,1,6,31V11.23H8V31a.93.93,0,0,0,.86,1H27.14A.93.93,0,0,0,28,31V11.23h2V31A2.93,2.93,0,0,1,27.14,34Z"></path><path class="clr-i-outline clr-i-outline-path-2" d="M30.78,9H5A1,1,0,0,1,5,7H30.78a1,1,0,0,1,0,2Z"></path>\n                <rect fill="#5068a8" ${B} class="clr-i-outline clr-i-outline-path-3" x="21" y="13" width="2" height="15"></rect>\n                <rect fill="#5068a8" ${B} class="clr-i-outline clr-i-outline-path-4" x="13" y="13" width="2" height="15"></rect>\n                <path fill="#5068a8" ${B} class="clr-i-outline clr-i-outline-path-5" d="M23,5.86H21.1V4H14.9V5.86H13V4a2,2,0,0,1,1.9-2h6.2A2,2,0,0,1,23,4Z"></path>\n                <rect fill="#5068a8" ${B} x="0" y="0" width="36" height="36" fill-opacity="0"/>\n            </svg>\n        </button>\n          \n          <div ${B}>\n            <img class="product-service-image" \n            ${B} src="${e}" alt="Image Not Found" onerror="this.src='https://staging.comforta.yukon.software/Resources/UCGrapes/public/images/default.jpg'">\n          </div>\n      </div>\n    `}getMultipleImages(e,t=!1,A){return`\n    <div ${y} class="info-image-section" id="${t?A:Ne(15)}" data-gjs-type="info-image-section">\n            <button ${B} data-gjs-type="default" class="tb-edit-image-icon">\n              <svg ${B} data-gjs-type="svg" width="14px" height="14px" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">\n                  <path ${B} data-gjs-type="svg-in" fill-rule="evenodd" clip-rule="evenodd" d="M18.4324 4C18.2266 4 18.0227 4.04055 17.8325 4.11933C17.6423 4.19811 17.4695 4.31358 17.3239 4.45914L5.25659 16.5265L4.42524 19.5748L7.47353 18.7434L19.5409 6.67608C19.6864 6.53051 19.8019 6.3577 19.8807 6.16751C19.9595 5.97732 20 5.77348 20 5.56761C20 5.36175 19.9595 5.1579 19.8807 4.96771C19.8019 4.77752 19.6864 4.60471 19.5409 4.45914C19.3953 4.31358 19.2225 4.19811 19.0323 4.11933C18.8421 4.04055 18.6383 4 18.4324 4ZM17.0671 2.27157C17.5 2.09228 17.9639 2 18.4324 2C18.9009 2 19.3648 2.09228 19.7977 2.27157C20.2305 2.45086 20.6238 2.71365 20.9551 3.04493C21.2864 3.37621 21.5492 3.7695 21.7285 4.20235C21.9077 4.63519 22 5.09911 22 5.56761C22 6.03611 21.9077 6.50003 21.7285 6.93288C21.5492 7.36572 21.2864 7.75901 20.9551 8.09029L8.69996 20.3454C8.57691 20.4685 8.42387 20.5573 8.25597 20.6031L3.26314 21.9648C2.91693 22.0592 2.54667 21.9609 2.29292 21.7071C2.03917 21.4534 1.94084 21.0831 2.03526 20.7369L3.39694 15.7441C3.44273 15.5762 3.53154 15.4231 3.6546 15.3001L15.9097 3.04493C16.241 2.71365 16.6343 2.45086 17.0671 2.27157Z" fill="#5068a8"></path>\n              </svg>\n            </button>\n          <button ${B} class="tb-delete-image-icon">\n              <svg fill="#5068a8" ${B} width="14px" height="14px" viewBox="0 0 36 36" version="1.1"  preserveAspectRatio="xMidYMid meet" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">\n                  <title ${B}>delete</title>\n                  <path fill="#5068a8" ${B} class="clr-i-outline clr-i-outline-path-1" d="M27.14,34H8.86A2.93,2.93,0,0,1,6,31V11.23H8V31a.93.93,0,0,0,.86,1H27.14A.93.93,0,0,0,28,31V11.23h2V31A2.93,2.93,0,0,1,27.14,34Z"></path><path class="clr-i-outline clr-i-outline-path-2" d="M30.78,9H5A1,1,0,0,1,5,7H30.78a1,1,0,0,1,0,2Z"></path>\n                  <rect fill="#5068a8" ${B} class="clr-i-outline clr-i-outline-path-3" x="21" y="13" width="2" height="15"></rect>\n                  <rect fill="#5068a8" ${B} class="clr-i-outline clr-i-outline-path-4" x="13" y="13" width="2" height="15"></rect>\n                  <path fill="#5068a8" ${B} class="clr-i-outline clr-i-outline-path-5" d="M23,5.86H21.1V4H14.9V5.86H13V4a2,2,0,0,1,1.9-2h6.2A2,2,0,0,1,23,4Z"></path>\n                  <rect fill="#5068a8" ${B} x="0" y="0" width="36" height="36" fill-opacity="0"/>\n              </svg>\n          </button>\n          <div ${B} class="slideshow-container">\n                ${e.map(((t,A)=>`\n                  <div ${B} class="mySlides fade" ${0===A?'style="display: block;"':'style="display: none;"'}>\n                  ${e.length>1?`<div ${B} class="numbertext ">${A+1} / ${e.length}</div>`:""}\n                  <img  ${B}\n                          class="product-service-image"                \n                          src="${t}"\n                          data-gjs-type="default"\n                          alt="Image Not Found" onerror="this.src='https://staging.comforta.yukon.software/Resources/UCGrapes/public/images/default.jpg'"\n                  />\n                 </div>\n                  `)).join("")}\n                  ${e.length>1?`<a ${B} class="prev-img-slide">&#10094;</a>\n                    <a ${B} class="next-img-slide">&#10095;</a>`:""}\n           </div>\n    </div>\n    `}addGrapesAttributes(e){const t=document.createElement("div");return"string"==typeof e&&(t.innerHTML=e),t.querySelectorAll("*").forEach((e=>{e.setAttribute("data-gjs-draggable","false"),e.setAttribute("data-gjs-selectable","false"),e.setAttribute("data-gjs-editable","false"),e.setAttribute("data-gjs-highlightable","false"),e.setAttribute("data-gjs-droppable","false"),e.setAttribute("data-gjs-resizable","false"),e.setAttribute("data-gjs-hoverable","false")})),t.innerHTML}createButton(e,t,A){const n=document.createElement("button");return n.id=e,n.classList.add("tb-btn",t),n.innerText=A,n}openContentEditModal(){const e=document.createElement("div"),t=document.createElement("div");t.id="editor",t.innerHTML="",t.style.minHeight="150px";const A=document.createElement("div");A.classList.add("popup-footer"),A.style.marginBottom="-12px";const n=this.createButton("submit_form","tb-btn-primary","Save");n.disabled=!0,n.style.opacity="0.6",n.style.cursor="not-allowed";const i=this.createButton("cancel_form","tb-btn-outline","Cancel");A.appendChild(n),A.appendChild(i),e.appendChild(t),e.appendChild(A);const r=new l({title:"Edit Content",width:"500px",body:e});r.open();const o=new Us("#editor",{modules:{toolbar:[["bold","italic","underline","link"],[{list:"ordered"},{list:"bullet"}]]},theme:"snow",placeholder:"Start typing here..."});setTimeout((()=>{o.focus()}),0),o.on("text-change",(()=>{const e=o.root.innerHTML,t="<p><br></p>"!==e&&""!==e.trim();n.disabled=!t,n.disabled?(n.style.opacity="0.6",n.style.cursor="not-allowed"):(n.style.opacity="1",n.style.cursor="pointer")})),n.addEventListener("click",(()=>{document.querySelector("#editor .ql-editor"),r.close()})),i.addEventListener("click",(()=>{r.close()}))}}var $s=function(e,t,A,n){return new(A||(A=Promise))((function(i,r){function o(e){try{a(n.next(e))}catch(e){r(e)}}function s(e){try{a(n.throw(e))}catch(e){r(e)}}function a(e){var t;e.done?i(e.value):(t=e.value,t instanceof A?t:new A((function(e){e(t)}))).then(o,s)}a((n=n.apply(e,t||[])).next())}))};class js{constructor(){this.toolboxService=new s,this.toolBoxManager=new cl,this.appVersions=new h}openModal(){return $s(this,void 0,void 0,(function*(){const e=document.createElement("div"),t=document.createElement("p");t.innerText=Me.t("navbar.publish.modal_description");const A=yield this.appVersions.getCurrentVersion(),n=document.createElement("p"),i=document.createElement("b");i.innerText=Me.t("navbar.publish.current_version");const r=document.createElement("span");r.innerHTML=(null==A?void 0:A.AppVersionName)||"";const o=globalThis.activeVersion,s=document.createElement("p"),c=document.createElement("b");c.innerText=Me.t("navbar.publish.new_version");const d=document.createElement("span");d.innerHTML=o.AppVersionName,n.appendChild(i),n.appendChild(r),s.appendChild(c),s.appendChild(d);const u=document.createElement("label");u.className="notify_residents";const h=document.createElement("input");h.type="checkbox",h.id="notify_residents",h.name="notify_residents";const p=document.createElement("span");p.innerText=Me.t("navbar.publish.notify_residents"),u.appendChild(h),u.appendChild(p);const g=document.createElement("div");g.classList.add("popup-footer"),g.style.marginBottom="-12px";const f=this.createButton("submit_publish","tb-btn-primary",Me.t("navbar.publish.modal_confirm")),m=this.createButton("cancel_publish","tb-btn-outline",Me.t("navbar.publish.modal_cancel"));g.appendChild(f),g.appendChild(m),e.appendChild(n),e.appendChild(s),e.appendChild(t),e.appendChild(u),e.appendChild(g);const v=new l({title:Me.t("navbar.publish.modal_title"),width:"500px",body:e});v.open(),f.addEventListener("click",(e=>$s(this,void 0,void 0,(function*(){e.preventDefault(),v.close(),this.toolBoxManager.savePages(!1).then((e=>{const t=this.appVersions.getActiveVersion();this.toolboxService.publishAppVersion(t.AppVersionId,h.checked).then((e=>{e.message||(v.close(),new a("success",Me.t("messages.success.published")))}))}))})))),m.addEventListener("click",(e=>{e.preventDefault(),v.close()}))}))}processData(){}createButton(e,t,A){const n=document.createElement("button");return n.id=e,n.classList.add("tb-btn",t),n.innerText=A,n}}class Ks{constructor(e,t,A={}){if(this.button=document.createElement("button"),this.button.id=e,this.button.className=`tb-btn tb-btn-${A.variant||"primary"}`,A.svg){const e=(new DOMParser).parseFromString(A.svg,"image/svg+xml").documentElement;this.button.appendChild(e)}const n=document.createElement("span");A.labelId&&(n.id=A.labelId),n.textContent=t,this.button.appendChild(n)}render(e){e.appendChild(this.button)}}class Rs{constructor(){this.container=document.createElement("div"),this.undoButton=document.createElement("button"),this.redoButton=document.createElement("button"),this.init()}init(){this.container.classList.add("edit-actions"),this.undoButton.id="undo",this.undoButton.disabled=!0,this.undoButton.className="btn-transparent",this.undoButton.title=`${Me.t("undo")} (ctrl+z)`,this.undoButton.innerHTML="<span class='fa fa-undo'></span>",this.redoButton.id="redo",this.redoButton.disabled=!0,this.redoButton.className="btn-transparent",this.redoButton.title=`${Me.t("undo")} (ctrl+shift+z)`,this.redoButton.innerHTML="<span class='fa fa-redo'></span>",this.container.appendChild(this.undoButton),this.container.appendChild(this.redoButton)}render(e){e.appendChild(this.container)}}class qs{constructor(){this.themeManager=new Os,this.container=document.createElement("div"),this.selectionDiv=document.createElement("div"),this.themeOptions=document.createElement("div"),this.selectedTheme=document.createElement("span"),this.init(),document.addEventListener("click",this.handleOutsideClick.bind(this))}init(){this.container.classList.add("tb-custom-theme-selection"),this.container.id="tb-custom-theme-selection";const e=document.createElement("button");e.classList.add("theme-select-button"),e.setAttribute("aria-haspopup","listbox"),this.selectedTheme.classList.add("selected-theme-value"),this.selectedTheme.textContent="Select Theme",e.appendChild(this.selectedTheme),this.container.appendChild(e),e.onclick=t=>{t.preventDefault(),e.classList.contains("open")?this.closeSelection():(this.themeOptions.classList.toggle("show"),e.classList.toggle("open"),e.setAttribute("aria-expanded","true"))},this.selectionDiv.appendChild(e),this.container.appendChild(this.selectionDiv),this.initializeCategoryOptions()}initializeCategoryOptions(){this.themeOptions.className="theme-options-list",this.themeOptions.setAttribute("role","listbox"),this.themeManager.getThemes().forEach((e=>{const t=document.createElement("div");t.classList.add("theme-option"),t.classList.add("theme"),t.role="option",t.setAttribute("data-value",e.ThemeName),t.textContent=e.ThemeName,t.id=e.ThemeId;const A=this.themeManager.currentTheme;A&&A.ThemeName===e.ThemeName&&(t.classList.add("selected"),this.selectedTheme.textContent=e.ThemeName),t.onclick=()=>{this.themeOptions.querySelectorAll(".theme-option").forEach((e=>e.classList.remove("selected"))),t.classList.add("selected"),this.selectedTheme.textContent=e.ThemeName,this.saveSelectedTheme(e),this.closeSelection()},this.themeOptions.appendChild(t)})),this.selectionDiv.appendChild(this.themeOptions)}saveSelectedTheme(e){console.log("(globalThis as any).activeVersion: >> ",globalThis.activeVersion);const t=globalThis.activeVersion.AppVersionId;(new s).updateAppVersionTheme(t,e.ThemeId).then((t=>{this.themeManager.setTheme(e)}))}closeSelection(){if(this.themeOptions.classList.contains("show")){this.themeOptions.classList.remove("show");const e=this.container.querySelector(".theme-select-button");e.setAttribute("aria-expanded","false"),e.classList.toggle("open")}}handleOutsideClick(e){this.themeOptions.classList.contains("show")&&!this.container.contains(e.target)&&this.closeSelection()}render(e){e.appendChild(this.container)}}class Gs{constructor(e){this.appVersion=e,this.pages=this.appVersion.Pages,this.toolboxService=new s,this.showList()}showList(){const e=document.createElement("ul");e.classList.add("tb-custom-list"),this.pages.forEach((t=>{const A=this.buildListItem(t);e.appendChild(A)}));const t=document.getElementById("tree-container");t.innerHTML="",t.appendChild(e)}buildListItem(e){const t=document.createElement("li");t.classList.add("tb-custom-list-item");const A=document.createElement("div");A.classList.add("tb-custom-menu-item"),A.classList.add("page-list-items");const n=document.createElement("span");n.style.textTransform="capitalize",n.classList.add("tb-dropdown-toggle"),n.setAttribute("role","button"),n.setAttribute("aria-expanded","false"),n.innerHTML=`<i class="fa-regular fa-file tree-icon"></i><span>&nbsp; ${e.PageName}</span>`;const i=document.createElement("i");i.classList.add("fa-regular","fa-trash-can","tb-delete-icon");const r=document.createElement("i");r.classList.add("fa-regular","fa-edit","tb-update-icon"),"Home"!==e.PageName&&"Web Link"!==e.PageName||(i.style.display="none",r.style.display="none");const o=document.createElement("div");return o.classList.add("tb-menu-icons-container"),i.setAttribute("data-id",e.PageId),r.setAttribute("data-id",e.PageId),i.addEventListener("click",(e=>this.handleDelete(e))),A.appendChild(n),"Web Link"===e.PageName&&(A.style.display="none"),"Home"!==e.PageName&&(o.append(i),A.appendChild(o)),t.appendChild(A),t}handleDelete(e){const t=e.target.dataset.id,A=document.createElement("div"),n=document.createElement("div");n.classList.add("popup-body"),n.id="confirmation_modal_message",n.innerText="Are you sure you want to delete this page?";const i=document.createElement("div");i.classList.add("popup-footer");const r=document.createElement("button");r.id="yes_delete",r.classList.add("tb-btn","tb-btn-primary"),r.innerText="Delete";const o=document.createElement("button");o.id="close_popup",o.classList.add("tb-btn","tb-btn-outline"),o.innerText="Cancel",i.appendChild(r),i.appendChild(o),A.appendChild(n),A.appendChild(i);const s=new l({title:"Delete Page",width:"100",body:A});s.open(),o.addEventListener("click",(e=>{s.close()})),r.addEventListener("click",(e=>{this.toolboxService.deletePage(this.appVersion.AppVersionId,t).then((e=>{e.error.message?new a("error",e.error.message):(this.appVersion=e.AppVersion,this.pages=this.appVersion.Pages,this.showList(),s.close())}))}))}}class Ws{constructor(e){var t,A,n;this.treeContainer=document.getElementById("tree-container"),this.treeContainer.style.display="block",this.appVersionManager=e,this.toolboxService=new s,this.appVersionManager.getActiveVersion(),this.version=this.appVersionManager.getActiveVersion(),this.pages=null===(t=this.version)||void 0===t?void 0:t.Pages,this.homePage=null===(n=null===(A=this.version)||void 0===A?void 0:A.Pages)||void 0===n?void 0:n.find((e=>"Home"==e.PageName)),this.homePage&&(this.clearMappings(),this.createPageTree(this.homePage.PageId,"tree-container"))}renderTitle(){document.getElementById("sidebar_mapping_title").textContent=Me.t("navbar.publish.sidebar_mapping_title")}renderHideOrShowPages(){const e=document.getElementById("current-page-title");let t=e.nextSibling;for(;t;){let e=t;t=t.nextSibling,1===e.nodeType&&e.remove()}const A=document.createElement("span");A.id="list_all_pages",A.style.display="block",A.textContent="List all pages";const n=document.createElement("span");n.id="hide_pages",n.style.display="none",n.textContent="Hide pages",A.addEventListener("click",(e=>{n.style.display="block",A.style.display="none",this.clearMappings(),this.showAllPages()})),n.addEventListener("click",(e=>{n.style.display="none",A.style.display="block",this.homePage&&(this.clearMappings(),this.createPageTree(this.homePage.PageId,"tree-container"))})),e.insertAdjacentElement("afterend",n),e.insertAdjacentElement("afterend",A)}getPage(e){return this.pages.find((t=>t.PageId==e))}showAllPages(){new Gs(this.version)}createPageTree(e,t){let A=this.getPage(e),n=[];if(A&&A.PageMenuStructure){A.PageMenuStructure.Rows.forEach((e=>{e.Tiles.forEach((e=>{A=this.getPage(e.Action.ObjectId),A&&n.push(A)}))}));const i=this.createTree(e,n),r=document.getElementById(t);r.innerHTML="",r.appendChild(i)}}createTree(e,t,A=!0){const n=document.createElement("ul");return n.classList.add("tb-custom-list"),t.forEach((t=>{const i=this.buildListItem(e,t,A);n.appendChild(i)})),n}buildListItem(e,t,A=!0){"MyCare"!=t.PageType&&(A=!1);const n=document.createElement("li");n.classList.add("tb-custom-list-item"),n.dataset.parentPageId=e;const i=document.createElement("div");i.classList.add("child-div"),i.id=`child-div-${t.PageId}`,i.style.position="relative",i.style.paddingLeft="20px";const r=document.createElement("div");r.classList.add("tb-custom-menu-item");const o=document.createElement("span");o.classList.add("tb-dropdown-toggle"),o.setAttribute("role","button"),o.setAttribute("aria-expanded","false");let s="fa-regular fa-file tree-icon";return A&&(s="fa-caret-right tree-icon"),o.innerHTML=`<i class="fa ${s}"></i><span>${t.PageName}</span>`,r.appendChild(o),n.appendChild(r),n.appendChild(i),A&&n.addEventListener("click",(e=>{e.stopPropagation(),this.createPageTree(t.PageId,`child-div-${t.PageId}`)})),n}clearMappings(){var e;null===(e=this.treeContainer)||void 0===e||e.replaceChildren("")}addPageCreationEvent(){const e=document.getElementById("page-submit"),t=document.getElementById("page-title");e.addEventListener("click",(e=>{e.preventDefault();const A=t.value;A?this.createPage(A):new a("error",Me.t("messages.error.empty_page_name"))}))}createPage(e){this.toolboxService.createMenuPage(this.version.AppVersionId,e).then((e=>{console.log(e)}))}}class Zs{constructor(){this.themeManager=new Os,this.currentTheme=this.themeManager.currentTheme;const e=t.getInstance();this.logo=e.organisationLogo}getCtaColor(e){const t=this.currentTheme.ThemeCtaColors.find((t=>t.CtaColorName==e));return t?t.CtaColorCode:this.currentTheme.ThemeCtaColors[0].CtaColorCode}formatDate(){return(new Date).toLocaleDateString("en-GB",{day:"2-digit",month:"short",year:"numeric"}).replace(/(\d{2} \w{3}) (\d{4})/,"$1, $2")}createMenuHTML(e){const t=e.PageMenuStructure,A=document.createElement("div");A.style.padding="5px";const n=this.createHeaderHTML(e);return A.appendChild(n),t.Rows.forEach((e=>{const t=document.createElement("div");t.style.display="flex",t.style.flexWrap="wrap",t.style.margin="5px 5px",t.style.gap="5px",e.Tiles.forEach((e=>{var A,n;const i=document.createElement("div");i.id=e.Id;const r=document.createElement("div");if(r.style.display="flex",r.style.flexDirection="column",r.style.alignItems=(null===(A=e.Align)||void 0===A?void 0:A.toLowerCase())||"left",r.style.justifyContent="center",r.style.color=e.Color,e.Icon){const t=document.createElement("div");t.innerHTML=this.themeManager.getThemeIcon(e.Icon),t.style.display="inline-block",t.style.color=e.Color,r.appendChild(t)}const o=document.createElement("span");o.textContent=e.Text,r.appendChild(o);let s=e.BGImageUrl?`url('${e.BGImageUrl}')`:"none",a=["left","right","center"].includes(null===(n=e.Align)||void 0===n?void 0:n.toLowerCase())?e.Align.toLowerCase():"left";i.style.cssText=`\n          padding: 2px;\n          min-width: 50px;\n          height: 70px;\n          flex: 1;\n          color: ${e.Color};\n          background-color: ${this.currentTheme.ThemeColors[e.BGColor]};\n          background-image: ${s};\n          background-size: cover;\n          background-repeat: no-repeat;\n          background-position: center;\n          text-align: ${a};\n          border-radius: 10px;\n          opacity: ${1-e.Opacity};\n          border: 0.5px solid #999;\n          font-size: 10px;\n        `,i.appendChild(r),t.appendChild(i)})),null==A||A.appendChild(t)})),A.outerHTML}createHeaderHTML(e){const t=document.createElement("div");let A=`\n        <div style="display:flex; padding:2px">\n            <svg xmlns="http://www.w3.org/2000/svg" data-name="Group 14" viewBox="0 0 47 47" class="content-back-butto" width="30" height="30">\n                <g id="Ellipse_6" data-name="Ellipse 6" fill="none" stroke="#262626" stroke-width="1">\n                <circle cx="23.5" cy="23.5" r="23.5" stroke="none"></circle>\n                <circle cx="23.5" cy="23.5" r="23" fill="none"></circle>\n                </g>\n                <path id="Icon_ionic-ios-arrow-round-up" data-name="Icon ionic-ios-arrow-round-up" d="M13.242,7.334a.919.919,0,0,1-1.294.007L7.667,3.073V19.336a.914.914,0,0,1-1.828,0V3.073L1.557,7.348A.925.925,0,0,1,.263,7.341.91.91,0,0,1,.27,6.054L6.106.26h0A1.026,1.026,0,0,1,6.394.07.872.872,0,0,1,6.746,0a.916.916,0,0,1,.64.26l5.836,5.794A.9.9,0,0,1,13.242,7.334Z" transform="translate(13 30.501) rotate(-90)" fill="#262626"></path>\n            </svg>\n            <div class="">\n                <div style="padding: 5px">${e.PageName.toUpperCase()}</div>\n            </div>\n        </div>\n        `;return"Home"==e.PageName&&(A=`\n            <div class="home-app-bar" style="padding:5px"><div class="logo-added"><img src="${this.logo}" style="height: 35px;"></div><div class="profile-section" style="display: flex;">\n                <svg xmlns="http://www.w3.org/2000/svg" width="16" height="18" viewBox="0 0 19.422 21.363">\n                    <path id="Path_1327" data-name="Path 1327" d="M15.711,5a6.8,6.8,0,0,0-3.793,12.442A9.739,9.739,0,0,0,6,26.364H7.942a7.769,7.769,0,1,1,15.537,0h1.942A9.739,9.739,0,0,0,19.5,17.442,6.8,6.8,0,0,0,15.711,5Zm0,1.942A4.855,4.855,0,1,1,10.855,11.8,4.841,4.841,0,0,1,15.711,6.942Z" transform="translate(-6 -5)" fill="#fff"></path>\n                </svg>\n            </div></div>\n            `),t.innerHTML=`\n            <div class="header"><span id="clock">8:36 AM</span><span class="icons"><i class="fas fa-signal"></i><i class="fas fa-wifi"></i><i class="fas fa-battery"></i></span></div>\n            ${A}\n        `,t}createContentHTML(e){const t=e.PageContentStructure,A=document.createElement("div");A.style.padding="10px";const n=this.createHeaderHTML(e);A.appendChild(n),t.Content.forEach((e=>{const t=document.createElement("div");"Image"===e.ContentType?t.setAttribute("style",`\n              width: 100%;\n              height: 100px;\n              background-image: url('${e.ContentValue}');\n              background-size: cover;\n              background-position: center;\n              border-radius: 8px;\n            `):"Description"===e.ContentType&&(t.setAttribute("style","\n            "),t.innerHTML=e.ContentValue),A.appendChild(t)}));const i=this.createCTAs(t.Cta||[]);return A.appendChild(i),A.outerHTML}createMyActivityHTML(e){const t=document.createElement("div");t.style.padding="5px";const A=this.createHeaderHTML(e);t.appendChild(A);const n=document.createElement("div");return n.innerHTML=`\n        <div style="padding:5px;">\n        <div class="activity-tabs">\n            <button style="background:${this.currentTheme.ThemeColors.backgroundColor}" class="activity-tab active">Messages</button>\n            <button class="activity-tab inactive">Requests</button>\n          </div>\n          <div align="center">No Messages Yet</div>\n        </div>\n        `,t.appendChild(n),t.outerHTML}createAgendaHTML(e){const t=document.createElement("div");t.style.padding="5px";const A=this.createHeaderHTML(e);t.appendChild(A);const n=document.createElement("div");let i=`\n                <div class="tb-date-selector" \n                  style="background-color: ${this.currentTheme.ThemeColors.backgroundColor};">\n                  <span class="tb-arrow">โฎ</span>\n                  <span class="tb-date-text" id="current-date" > ${this.formatDate()}</span>\n                  <span class="tb-arrow">โฏ</span>\n                </div>\n                <div class="tb-schedule" id="schedule-container" >\n              `;for(let e=0;e<24;e++)i+=`\n                    <div class="tb-time-slot" >\n                      <div class="tb-time" >${e.toString().padStart(2,"0")+":00"}</div>\n                      <div class="tb-events" ></div>\n                      ${e===(new Date).getHours()?'\n                        <div class="tb-current-time-indicator" ></div>\n                        <div class="tb-current-time-dot" ></div>':""}\n                    </div>\n                  `;return i+="</div>",n.innerHTML=i,t.appendChild(n),t.outerHTML}createMapHTML(e){const t=document.createElement("div");t.style.padding="5px";const A=this.createHeaderHTML(e);t.appendChild(A);const n=document.createElement("div");return n.innerHTML='\n      <iframe\n        width="100%"\n        height="300"\n        frameborder="0"\n        style="border:0"\n        src="https://www.google.com/maps/embed/v1/view?key=AIzaSyBBaQo7_sF2xk3uNIyKp_Z-4BbaTebGGa4&center=52.0907,5.1214&zoom=18"\n        allowfullscreen>\n      </iframe>\n    ',t.appendChild(n),t.outerHTML}createLinkHTML(e,t){const A=document.createElement("div");A.style.padding="5px";const n=this.createHeaderHTML({PageName:e});A.appendChild(n);const i=document.createElement("div");return i.innerHTML=`\n      <iframe src="${t}" style="pointer-events: none;" width="100%" height="100%" frameborder="0" marginheight="0" marginwidth="0">Loadingโฆ</iframe>\n      `,A.appendChild(i),A.outerHTML}createCTAs(e){const t={Phone:'<svg data-gjs-type="svg" xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 49.417 49.418"><path id="call" data-gjs-type="svg-in" d="M29.782,3a2.149,2.149,0,1,0,0,4.3A19.3,19.3,0,0,1,49.119,26.634a2.149,2.149,0,1,0,4.3,0A23.667,23.667,0,0,0,29.782,3ZM12.032,7.305a2.548,2.548,0,0,0-.818.067,8.342,8.342,0,0,0-3.9,2.342C2.775,14.254.366,21.907,17.437,38.98S42.16,53.643,46.7,49.1a8.348,8.348,0,0,0,2.346-3.907,2.524,2.524,0,0,0-1.179-2.786c-2.424-1.418-7.654-4.484-10.08-5.9a2.523,2.523,0,0,0-2.568.012l-4.012,2.392a2.517,2.517,0,0,1-2.845-.168,65.811,65.811,0,0,1-5.711-4.981,65.07,65.07,0,0,1-4.981-5.711A2.512,2.512,0,0,1,17.5,25.2L19.9,21.191a2.533,2.533,0,0,0,.008-2.577L14.012,8.556A2.543,2.543,0,0,0,12.032,7.305Zm17.751,4.289a2.149,2.149,0,1,0,0,4.3A10.709,10.709,0,0,1,40.525,26.634a2.149,2.149,0,1,0,4.3,0A15.072,15.072,0,0,0,29.782,11.594Zm0,8.594a2.149,2.149,0,1,0,0,4.3,2.114,2.114,0,0,1,2.149,2.148,2.149,2.149,0,1,0,4.3,0A6.479,6.479,0,0,0,29.782,20.188Z" transform="translate(-4 -3)" fill="#fff"></path></svg>',Email:'<svg data-gjs-type="svg" xmlns="http://www.w3.org/2000/svg" width="32" height="28" viewBox="0 0 41 32.8"><path id="Path_1218" data-gjs-type="svg-in" data-name="Path 1218" d="M6.1,4A4.068,4.068,0,0,0,2.789,5.7a1.5,1.5,0,0,0,.444,2.126l18,11.219a2.387,2.387,0,0,0,2.531,0L41.691,7.732a1.5,1.5,0,0,0,.384-2.2A4.063,4.063,0,0,0,38.9,4Zm35.907,8.376a.963.963,0,0,0-.508.152L23.765,23.711a2.392,2.392,0,0,1-2.531,0L3.5,12.656a.98.98,0,0,0-1.5.833V32.7a4.1,4.1,0,0,0,4.1,4.1H38.9A4.1,4.1,0,0,0,43,32.7V13.357A.981.981,0,0,0,42.007,12.376Z" transform="translate(-2 -4)" fill="#fff"></path></svg>',Form:"",Link:""},A={FullWidth:e=>`\n              <div class="plain-button-container">\n                <button class="cta-plain-button style="background:${this.getCtaColor(e.CtaBGColor)}"">\n                  <span class="label">${e.CtaLabel}</span>\n                </button>\n              </div>\n            `,Round:e=>`\n              <div class="cta-round-button">\n                <div class="cta-round-button-icon" style="background:${this.getCtaColor(e.CtaBGColor)}">${t[e.CtaType]}</div>\n                <div>${e.CtaLabel}<div>\n              </div>\n            `,Image:e=>`\n              <div class="cta-image-button" style="background:${this.getCtaColor(e.CtaBGColor)}">\n                <div class="cta-image-button-image">${t[e.CtaImage]}</div>\n                <div class="cta-image-button-label">${e.CtaLabel}</div>\n                  ${e.CtaLabel}\n                </div>\n              </div>\n              `,Icon:e=>`\n              <div class="cta-icon-button" style="background:${this.getCtaColor(e.CtaBGColor)}">\n                <div class="cta-icon-button-icon" >${t[e.CtaType]}</div>\n                <div class="cta-icon-button-label">\n                  ${e.CtaLabel}\n                </div>\n                <i class="fa fa-angle-right img-button-arrow"></i>\n              </div>\n              `},n=document.createElement("div");return n.setAttribute("style","display: flex; justify-content: center; align-items: center; flex-wrap: wrap; gap: 5px;"),e.forEach((e=>{n.innerHTML+=A[e.CtaButtonType](e)})),n}}class zs{constructor(){this.themeManager=new Os,this.currentTheme=this.themeManager.currentTheme;const e=t.getInstance();this.logo=e.organisationLogo}getCtaColor(e){const t=this.currentTheme.ThemeCtaColors.find((t=>t.CtaColorName==e));return t?t.CtaColorCode:this.currentTheme.ThemeCtaColors[0].CtaColorCode}formatDate(){return(new Date).toLocaleDateString("en-GB",{day:"2-digit",month:"short",year:"numeric"}).replace(/(\d{2} \w{3}) (\d{4})/,"$1, $2")}createMenuHTML(e){const t=e.PageInfoStructure,A=document.createElement("div");A.style.padding="5px";const n=this.createHeaderHTML(e);return A.appendChild(n),t.InfoContent.forEach((e=>{if("TileRow"===e.InfoType){const t=document.createElement("div");t.style.display="flex",t.style.flexWrap="wrap",t.style.margin="5px 5px",t.style.gap="5px",e.Tiles.forEach((e=>{var n;const i=document.createElement("div");i.id=e.Id,i.style.justifyContent="center"===e.Align?"center":"flex-start";let r=e.BGImageUrl?`url('${e.BGImageUrl}')`:"none";e.Align;const o=document.createElement("div");o.style.color=e.Color,e.Icon&&(o.innerHTML=this.themeManager.getThemeIcon(e.Icon).replace(/fill="[^"]*"/g,'fill="currentColor"').replace(/style="[^"]*background[^"]*"/g,"").replace(/<rect[^>]*fill="[^"]*"/g,'<rect fill="none"').replace("<svg",'<svg style="width: 30px; height: 30px;"'));const s=document.createElement("div");s.style.color=e.Color,s.style.textAlign=e.Align,e.Text&&(s.innerHTML=e.Text),i.appendChild(o),i.appendChild(s),i.style.cssText=`\n          display: flex; /* Ensures flexbox layout */\n          flex-direction: column; /* Aligns icon and title vertically */\n          align-items: ${"center"===e.Align?"center":"flex-start"}; /* Aligns content horizontally */\n          justify-content: ${"center"===e.Align?"center":"flex-start"}; /* Aligns content vertically */\n          padding: 2px;\n          min-width: 50px;\n          height: ${null!==(n=e.size)&&void 0!==n?n:80}px;\n          flex: 1;\n          color: ${e.Color};\n          background-color: ${this.currentTheme.ThemeColors[e.BGColor]};\n          background-image: ${r};\n          background-size: cover;\n          background-repeat: no-repeat;\n          background-position: center;\n          text-align: ${e.Align};\n          border-radius: 10px;\n          opacity: ${1-e.Opacity};\n          border: 0.5px solid #999;\n          font-size: 10px;\n        `,t.appendChild(i),null==A||A.appendChild(t)}))}else if("Description"===e.InfoType){const t=document.createElement("div");t.style.margin="5px",t.style.padding="10px",t.style.borderRadius="8px",t.style.color="#333",t.style.fontSize="12px",t.innerHTML=e.InfoValue,t.style.fontFamily=this.currentTheme.ThemeFontFamily,A.appendChild(t)}else if("Image"===e.InfoType){const t=document.createElement("div");t.style.margin="5px",t.style.borderRadius="8px",t.style.overflow="hidden",t.style.display="flex",t.style.justifyContent="center",t.style.alignItems="center";const n=document.createElement("img");n.src=e.InfoValue,n.alt="Image description",n.style.width="100%",n.style.height="100px",n.style.objectFit="cover",t.appendChild(n),A.appendChild(t)}else if("Cta"===e.InfoType){const t=document.createElement("div");"Round"===e.CtaAttributes.CtaType&&t.setAttribute("style",`\n              display: flex;\n              justify-content: center;\n              align-items: center;\n              background-color: ${this.getCtaColor(e.CtaAttributes.CtaBGColor)};\n              border-radius: 50%;\n              width: 50px;\n              height: 50px;\n            `),A.appendChild(t)}})),A.outerHTML}createHeaderHTML(e){const t=document.createElement("div");let A=`\n        <div style="display:flex; padding:2px">\n            <svg xmlns="http://www.w3.org/2000/svg" data-name="Group 14" viewBox="0 0 47 47" class="content-back-butto" width="30" height="30">\n                <g id="Ellipse_6" data-name="Ellipse 6" fill="none" stroke="#262626" stroke-width="1">\n                <circle cx="23.5" cy="23.5" r="23.5" stroke="none"></circle>\n                <circle cx="23.5" cy="23.5" r="23" fill="none"></circle>\n                </g>\n                <path id="Icon_ionic-ios-arrow-round-up" data-name="Icon ionic-ios-arrow-round-up" d="M13.242,7.334a.919.919,0,0,1-1.294.007L7.667,3.073V19.336a.914.914,0,0,1-1.828,0V3.073L1.557,7.348A.925.925,0,0,1,.263,7.341.91.91,0,0,1,.27,6.054L6.106.26h0A1.026,1.026,0,0,1,6.394.07.872.872,0,0,1,6.746,0a.916.916,0,0,1,.64.26l5.836,5.794A.9.9,0,0,1,13.242,7.334Z" transform="translate(13 30.501) rotate(-90)" fill="#262626"></path>\n            </svg>\n            <div class="">\n                <div style="padding: 5px">${e.PageName.toUpperCase()}</div>\n            </div>\n        </div>\n        `;return"Home"==e.PageName&&(A=`\n            <div class="home-app-bar" style="padding:5px"><div class="logo-added"><img src="${this.logo}" style="height: 35px;"></div><div class="profile-section" style="display: flex;">\n                <svg xmlns="http://www.w3.org/2000/svg" width="16" height="18" viewBox="0 0 19.422 21.363">\n                    <path id="Path_1327" data-name="Path 1327" d="M15.711,5a6.8,6.8,0,0,0-3.793,12.442A9.739,9.739,0,0,0,6,26.364H7.942a7.769,7.769,0,1,1,15.537,0h1.942A9.739,9.739,0,0,0,19.5,17.442,6.8,6.8,0,0,0,15.711,5Zm0,1.942A4.855,4.855,0,1,1,10.855,11.8,4.841,4.841,0,0,1,15.711,6.942Z" transform="translate(-6 -5)" fill="#fff"></path>\n                </svg>\n            </div></div>\n            `),t.innerHTML=`\n            <div class="header"><span id="clock">8:36 AM</span><span class="icons"><i class="fas fa-signal"></i><i class="fas fa-wifi"></i><i class="fas fa-battery"></i></span></div>\n            ${A}\n        `,t}createContentHTML(e){const t=e.PageContentStructure,A=document.createElement("div");A.style.padding="10px";const n=this.createHeaderHTML(e);A.appendChild(n),t.Content.forEach((e=>{const t=document.createElement("div");"Image"===e.ContentType?t.setAttribute("style",`\n              width: 100%;\n              height: 100px;\n              background-image: url('${e.ContentValue}');\n              background-size: cover;\n              background-position: center;\n              border-radius: 8px;\n            `):"Description"===e.ContentType&&(t.setAttribute("style","\n          "),t.innerHTML=e.ContentValue),A.appendChild(t)}));const i=this.createCTAs(t.Cta||[]);return A.appendChild(i),A.outerHTML}createMyActivityHTML(e){const t=document.createElement("div");t.style.padding="5px";const A=this.createHeaderHTML(e);t.appendChild(A);const n=document.createElement("div");return n.innerHTML=`\n        <div style="padding:5px;">\n        <div class="activity-tabs">\n            <button style="background:${this.currentTheme.ThemeColors.backgroundColor}" class="activity-tab active">Messages</button>\n            <button class="activity-tab inactive">Requests</button>\n          </div>\n          <div align="center">No Messages Yet</div>\n        </div>\n        `,t.appendChild(n),t.outerHTML}createAgendaHTML(e){const t=document.createElement("div");t.style.padding="5px";const A=this.createHeaderHTML(e);t.appendChild(A);const n=document.createElement("div");let i=`\n                <div class="tb-date-selector" \n                  style="background-color: ${this.currentTheme.ThemeColors.backgroundColor};">\n                  <span class="tb-arrow">โฎ</span>\n                  <span class="tb-date-text" id="current-date" > ${this.formatDate()}</span>\n                  <span class="tb-arrow">โฏ</span>\n                </div>\n                <div class="tb-schedule" id="schedule-container" >\n              `;for(let e=0;e<24;e++)i+=`\n                    <div class="tb-time-slot" >\n                      <div class="tb-time" >${e.toString().padStart(2,"0")+":00"}</div>\n                      <div class="tb-events" ></div>\n                      ${e===(new Date).getHours()?'\n                        <div class="tb-current-time-indicator" ></div>\n                        <div class="tb-current-time-dot" ></div>':""}\n                    </div>\n                  `;return i+="</div>",n.innerHTML=i,t.appendChild(n),t.outerHTML}createMapHTML(e){const t=document.createElement("div");t.style.padding="5px";const A=this.createHeaderHTML(e);t.appendChild(A);const n=document.createElement("div");return n.innerHTML='\n      <iframe\n        width="100%"\n        height="300"\n        frameborder="0"\n        style="border:0"\n        src="https://www.google.com/maps/embed/v1/view?key=AIzaSyBBaQo7_sF2xk3uNIyKp_Z-4BbaTebGGa4&center=52.0907,5.1214&zoom=18"\n        allowfullscreen>\n      </iframe>\n    ',t.appendChild(n),t.outerHTML}createLinkHTML(e,t){const A=document.createElement("div");A.style.padding="5px";const n=this.createHeaderHTML({PageName:e});A.appendChild(n);const i=document.createElement("div");return i.innerHTML=`\n      <iframe src="${t}" style="pointer-events: none;" width="100%" height="100%" frameborder="0" marginheight="0" marginwidth="0">Loadingโฆ</iframe>\n      `,A.appendChild(i),A.outerHTML}createCTAs(e){const t={Phone:'<svg data-gjs-type="svg" xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 49.417 49.418"><path id="call" data-gjs-type="svg-in" d="M29.782,3a2.149,2.149,0,1,0,0,4.3A19.3,19.3,0,0,1,49.119,26.634a2.149,2.149,0,1,0,4.3,0A23.667,23.667,0,0,0,29.782,3ZM12.032,7.305a2.548,2.548,0,0,0-.818.067,8.342,8.342,0,0,0-3.9,2.342C2.775,14.254.366,21.907,17.437,38.98S42.16,53.643,46.7,49.1a8.348,8.348,0,0,0,2.346-3.907,2.524,2.524,0,0,0-1.179-2.786c-2.424-1.418-7.654-4.484-10.08-5.9a2.523,2.523,0,0,0-2.568.012l-4.012,2.392a2.517,2.517,0,0,1-2.845-.168,65.811,65.811,0,0,1-5.711-4.981,65.07,65.07,0,0,1-4.981-5.711A2.512,2.512,0,0,1,17.5,25.2L19.9,21.191a2.533,2.533,0,0,0,.008-2.577L14.012,8.556A2.543,2.543,0,0,0,12.032,7.305Zm17.751,4.289a2.149,2.149,0,1,0,0,4.3A10.709,10.709,0,0,1,40.525,26.634a2.149,2.149,0,1,0,4.3,0A15.072,15.072,0,0,0,29.782,11.594Zm0,8.594a2.149,2.149,0,1,0,0,4.3,2.114,2.114,0,0,1,2.149,2.148,2.149,2.149,0,1,0,4.3,0A6.479,6.479,0,0,0,29.782,20.188Z" transform="translate(-4 -3)" fill="#fff"></path></svg>',Email:'<svg data-gjs-type="svg" xmlns="http://www.w3.org/2000/svg" width="32" height="28" viewBox="0 0 41 32.8"><path id="Path_1218" data-gjs-type="svg-in" data-name="Path 1218" d="M6.1,4A4.068,4.068,0,0,0,2.789,5.7a1.5,1.5,0,0,0,.444,2.126l18,11.219a2.387,2.387,0,0,0,2.531,0L41.691,7.732a1.5,1.5,0,0,0,.384-2.2A4.063,4.063,0,0,0,38.9,4Zm35.907,8.376a.963.963,0,0,0-.508.152L23.765,23.711a2.392,2.392,0,0,1-2.531,0L3.5,12.656a.98.98,0,0,0-1.5.833V32.7a4.1,4.1,0,0,0,4.1,4.1H38.9A4.1,4.1,0,0,0,43,32.7V13.357A.981.981,0,0,0,42.007,12.376Z" transform="translate(-2 -4)" fill="#fff"></path></svg>',Form:"",Link:""},A={FullWidth:e=>`\n              <div class="plain-button-container">\n                <button class="cta-plain-button style="background:${this.getCtaColor(e.CtaBGColor)}"">\n                  <span class="label">${e.CtaLabel}</span>\n                </button>\n              </div>\n            `,Round:e=>`\n              <div class="cta-round-button">\n                <div class="cta-round-button-icon" style="background:${this.getCtaColor(e.CtaBGColor)}">${t[e.CtaType]}</div>\n                <div>${e.CtaLabel}<div>\n              </div>\n            `,Image:e=>`\n              <div class="cta-image-button" style="background:${this.getCtaColor(e.CtaBGColor)}">\n                <div class="cta-image-button-image">${t[e.CtaImage]}</div>\n                <div class="cta-image-button-label">${e.CtaLabel}</div>\n                  ${e.CtaLabel}\n                </div>\n              </div>\n              `,Icon:e=>`\n              <div class="cta-icon-button" style="background:${this.getCtaColor(e.CtaBGColor)}">\n                <div class="cta-icon-button-icon" >${t[e.CtaType]}</div>\n                <div class="cta-icon-button-label">\n                  ${e.CtaLabel}\n                </div>\n                <i class="fa fa-angle-right img-button-arrow"></i>\n              </div>\n              `},n=document.createElement("div");return n.setAttribute("style","display: flex; justify-content: center; align-items: center; flex-wrap: wrap; gap: 5px;"),e.forEach((e=>{n.innerHTML+=A[e.CtaButtonType](e)})),n}}class Js{constructor(){this.width=100,this.height=40,this.selfLinks=[],this.normalLinks=[],this.primaryNodeId=null,this.pageTreeRenderer=new Zs,this.PageTreeRendererInfoPage=new zs;const e=t.getInstance();this.d3=e.UC.d3,this.themeManager=new Os,this.appVersionManager=new h,this.pages=this.appVersionManager.getPages(),this.processedPages=this.processPageData(this.pages);const A=this.processedPages.find((e=>"Home"===e.title));A&&(this.primaryNodeId=A.id),this.nodes=this.createNodes(),this.links=this.createLinks(),this.init()}init(){this.graphContainer=this.build(),this.buildTree()}show(){const e=document.getElementsByClassName("editor-main-section"),t=document.getElementById("tools-section"),A=document.getElementById("tree-container");if(e.length>0){const n=e[0];"none"===n.style.display?(n.style.display="block",this.graphContainer.style.display="none",t.style.display="block",A.style.display="none"):(t.style.display="none",n.style.display="none",this.graphContainer.style.display="block",this.graphContainer.style.width="100%",this.graphContainer.style.height="100%",new Ws(this.appVersionManager))}}build(){const e=document.getElementById("main-content");return this.graphContainer=document.getElementById("graph-container-1"),this.graphContainer||(this.graphContainer=document.createElement("div"),this.graphContainer.id="graph-container-1"),this.graphContainer.innerHTML="<svg></svg>",e.appendChild(this.graphContainer),this.graphContainer.setAttribute("style","display:block;width:100%;"),this.graphContainer}processPageData(e){const t=[];return(e=e.map((e=>{let A={id:e.PageId,title:e.PageName,structure:"",thumbnail:e.PageThumbnailUrl,children:[],x:0,y:0};return"Menu"===e.PageType||"MyCare"===e.PageType||"MyLiving"===e.PageType||"MyService"===e.PageType?(A.structure=this.pageTreeRenderer.createMenuHTML(e),e.PageMenuStructure.Rows.forEach((n=>{n.Tiles.forEach((n=>{if("DynamicForm"==n.Action.ObjectType||"WebLink"==n.Action.ObjectType){const i="DynamicForm"==n.Action.ObjectType?"Dynamic Form":"Web Link";t.push({id:n.Action.ObjectId,title:i,structure:this.pageTreeRenderer.createLinkHTML(i,n.Action.ObjectUrl),thumbnail:e.PageThumbnailUrl,children:[],x:0,y:0}),A.children.push(n.Action.ObjectId)}else n.Action.ObjectId&&this.pages.filter((e=>e.PageId===n.Action.ObjectId))&&(this.primaryNodeId=e.PageId,A.children.push(n.Action.ObjectId))}))}))):"Information"===e.PageType?e.PageInfoStructure.InfoContent&&(A.structure=this.PageTreeRendererInfoPage.createMenuHTML(e),e.PageInfoStructure.InfoContent.forEach((n=>{"TileRow"===n.InfoType&&n.Tiles.forEach((n=>{if("DynamicForm"==n.Action.ObjectType||"WebLink"==n.Action.ObjectType){const i="DynamicForm"==n.Action.ObjectType?"Dynamic Form":"Web Link";t.push({id:n.Action.ObjectId,title:i,structure:"",thumbnail:e.PageThumbnailUrl,children:[],x:0,y:0}),A.children.push(n.Action.ObjectId)}else n.Action.ObjectId&&this.pages.some((e=>e.PageId===n.Action.ObjectId))&&A.children.push(n.Action.ObjectId)}))}))):"Content"==e.PageType||"Location"==e.PageType||"Reception"==e.PageType?A.structure=this.pageTreeRenderer.createContentHTML(e):"Calendar"==e.PageType?A.structure=this.pageTreeRenderer.createAgendaHTML(e):"MyActivity"==e.PageType?A.structure=this.pageTreeRenderer.createMyActivityHTML(e):"Map"==e.PageType&&(A.structure=this.pageTreeRenderer.createMapHTML(e)),A}))).concat(t)}createNodes(e=this.processedPages){return e.map((e=>({id:e.id,name:e.title,children:e.children,structure:e.structure,thumbnail:e.thumbnail})))}createLinks(e=this.processedPages){return e.flatMap((e=>e.children.map((t=>({source:e.id,target:t})))))}buildTree(){const e=this.nodes.length;this.width=Math.max(800,300*Math.ceil(Math.sqrt(e))),this.height=this.width,this.svg=this.d3.select("#graph-container-1").select("svg").attr("viewBox",[0,0,this.width,this.height]).attr("preserveAspectRatio","xMidYMid meet"),this.container=this.svg.append("g"),this.splitLinks(),this.forceSimulation(),this.createNormalLinks(),this.createLinkArrows(),this.createSelfArcs(),this.createCircularNodes(),this.onTick(),this.panAndZoom()}splitLinks(){this.selfLinks=this.links.filter((e=>e.source===e.target)),this.normalLinks=this.links.filter((e=>e.source!==e.target))}forceSimulation(){this.simulation=this.d3.forceSimulation(this.nodes).force("link",this.d3.forceLink(this.normalLinks).id((e=>e.id)).distance(300)).force("charge",this.d3.forceManyBody().strength(-1e3)).force("center",this.d3.forceCenter(this.width/2,this.height/2))}createNormalLinks(){this.link=this.container.append("g").attr("stroke","#fff").attr("stroke-opacity",.6).selectAll("line").data(this.normalLinks).join("line").attr("stroke-width",2)}createLinkArrows(){this.svg.append("defs").append("marker").attr("id","arrow").attr("viewBox","0 -5 10 10").attr("refX",5).attr("refY",0).attr("markerWidth",6).attr("markerHeight",6).attr("orient","auto").append("path").attr("d","M0,-5L10,0L0,5").attr("fill","#fff"),this.arrows=this.container.append("g").selectAll("path").data(this.normalLinks).join("path").attr("fill","#fff").attr("marker-end","url(#arrow)")}createSelfArcs(){this.selfArcs=this.container.append("g").selectAll("path").data(this.selfLinks).join("path").attr("fill","none").attr("stroke","#fff").attr("stroke-width",2).attr("marker-end","url(#arrow)")}createCircularNodes(){this.node=this.container.append("g").attr("stroke","#222f54").attr("stroke-width",1.5).selectAll("g").data(this.nodes).join("g").call(this.drag()).on("click",((e,t)=>this.onNodeClick(e,t))),this.node.append("rect").attr("width",200).attr("height",350).attr("x",(e=>-Math.max(8*e.name.length,100)/2)).attr("y",-20).attr("stroke",(e=>e.id===this.primaryNodeId?"#FF5722":"#222f54")).attr("fill","#efeeec"),this.node.append("foreignObject").attr("height",350).attr("width",200).attr("y",-20).attr("x",-50).attr("fill","#efeeec").html((e=>`\n        <div xmlns="http://www.w3.org/1999/xhtml" style="width: 100%; height: 100%; padding:2px">\n            <div style="display:flex; ">\n              <svg xmlns="http://www.w3.org/2000/svg" data-name="Group 14" viewBox="0 0 47 47" class="content-back-butto" width="30" height="30">\n                  <g id="Ellipse_6" data-name="Ellipse 6" fill="none" stroke="#262626" stroke-width="1">\n                  <circle cx="23.5" cy="23.5" r="23.5" stroke="none"></circle>\n                  <circle cx="23.5" cy="23.5" r="23" fill="none"></circle>\n                  </g>\n                  <path id="Icon_ionic-ios-arrow-round-up" data-name="Icon ionic-ios-arrow-round-up" d="M13.242,7.334a.919.919,0,0,1-1.294.007L7.667,3.073V19.336a.914.914,0,0,1-1.828,0V3.073L1.557,7.348A.925.925,0,0,1,.263,7.341.91.91,0,0,1,.27,6.054L6.106.26h0A1.026,1.026,0,0,1,6.394.07.872.872,0,0,1,6.746,0a.916.916,0,0,1,.64.26l5.836,5.794A.9.9,0,0,1,13.242,7.334Z" transform="translate(13 30.501) rotate(-90)" fill="#262626"></path>\n              </svg>\n              <div class="">\n                <div style="padding: 5px; text-transform: uppercase;">${e.name}</div>\n              </div>\n            </div>\n           <img src="${e.thumbnail}" alt="${e.name}" style="max-width: 100%; margin-top:0px; height: auto; text-transform: uppercase;" />\n        </div>\n        `))}onTick(){this.simulation.on("tick",(()=>{this.link.attr("x1",(e=>e.source.x)).attr("y1",(e=>e.source.y)).attr("x2",(e=>e.target.x)).attr("y2",(e=>e.target.y)),this.arrows.attr("d",(e=>{const t=e.source.x,A=e.source.y,n=e.target.x,i=e.target.y,r=(t+n)/2,o=(A+i)/2,s=Math.atan2(i-A,n-t);return`M${r-10*Math.cos(s)},${o-10*Math.sin(s)}L${r+10*Math.cos(s)},${o+10*Math.sin(s)}`})),this.selfArcs.attr("d",(e=>`\n                M ${e.source.x} ${e.source.y}\n                m 0 -60\n                a 60 60 0 1 1 1 0.01\n                `)),this.node.attr("transform",(e=>(e.x=Math.max(100,Math.min(this.width-100,e.x)),e.y=Math.max(100,Math.min(this.height-100,e.y)),`translate(${e.x},${e.y})`)))}))}panAndZoom(){}drag(){return this.d3.drag().on("start",((e,t)=>this.dragstarted(e,t))).on("drag",((e,t)=>this.dragged(e,t))).on("end",((e,t)=>this.dragended(e,t)))}dragstarted(e,t){e.active||this.simulation.alphaTarget(.3).restart(),t.fx=t.x,t.fy=t.y}dragged(e,t){t.fx=e.x,t.fy=e.y}dragended(e,t){e.active||this.simulation.alphaTarget(0),t.fx=null,t.fy=null}onNodeClick(e,t){this.primaryNodeId=t.id,t.title=t.name;let A=[t.id];const n=[t],i=[...t.children||[]];for(;i.length>0;){const e=i.pop();if(!e||A.includes(e))continue;A.push(e);const t=this.processedPages.find((t=>t.id===e));t&&(n.push(t),t.children&&i.push(...t.children))}this.nodes=this.createNodes(n),this.links=this.createLinks(n),this.init()}}class Xs{constructor(){this.appVersions=new h,this.container=document.getElementById("navbar-buttons"),this.init()}init(){const e=new Rs,t=new qs;let A=new Ks("open-mapping",Me.t("navbar.tree"),{svg:'<svg xmlns="http://www.w3.org/2000/svg" width="18.818" height="16" viewBox="0 0 18.818 18">\n        <path id="Path_993" data-name="Path 993" d="M19.545,5a3.283,3.283,0,0,0-3.273,3.273A3.228,3.228,0,0,0,16.784,10l-2.541,3.177H10.427a3.273,3.273,0,1,0,0,1.636h3.816L16.784,18a3.229,3.229,0,0,0-.511,1.732,3.273,3.273,0,1,0,3.273-3.273,3.207,3.207,0,0,0-1.563.419L15.685,14l2.3-2.873a3.207,3.207,0,0,0,1.563.419,3.273,3.273,0,0,0,0-6.545Zm0,1.636a1.636,1.636,0,1,1-1.636,1.636A1.623,1.623,0,0,1,19.545,6.636ZM7.273,12.364A1.636,1.636,0,1,1,5.636,14,1.623,1.623,0,0,1,7.273,12.364Zm12.273,5.727a1.636,1.636,0,1,1-1.636,1.636A1.623,1.623,0,0,1,19.545,18.091Z" transform="translate(-4 -5)"></path>\n        </svg>',variant:"outline",labelId:"navbar_tree_label"});A.button.disabled=!0,A.button.addEventListener("click",(e=>{e.preventDefault(),(new Js).show();const t=document.getElementById("mapping-section");t&&(t.style.display="block")}));let n=new Ks("publish",Me.t("navbar.publish.label"),{svg:'<svg xmlns="http://www.w3.org/2000/svg" width="13" height="16" viewBox="0 0 13 18">\n        <path id="Path_958" data-name="Path 958" d="M13.5,3.594l-.519.507L7.925,9.263l1.038,1.06,3.814-3.9V18.644h1.444V6.429l3.814,3.9,1.038-1.06L14.019,4.1ZM7,20.119v1.475H20V20.119Z" transform="translate(-7 -3.594)" fill="#fff"></path>\n      </svg>',labelId:"navbar_tree_label"});e.render(this.container),t.render(this.container),n.render(this.container),n.button.addEventListener("click",(e=>{e.preventDefault(),(new js).openModal()}))}render(e){e.appendChild(this.container)}}class Ys{constructor(){this.container=document.createElement("div"),this.init()}init(){this.container.classList.add("tb-tabs");const e=document.createElement("button");e.id="pages-button",e.className="tb-tab-button active",e.setAttribute("data-tab","pages");const t=document.createElement("span");t.id="sidebar_tabs_pages_label",t.innerText=Me.t("sidebar.pages"),e.appendChild(t);const A=document.createElement("button");A.id="templates-button",A.className="tb-tab-button",A.setAttribute("data-tab","templates");const n=document.createElement("span");n.id="sidebar_tabs_templates_label",n.innerText=Me.t("sidebar.templates.label"),A.appendChild(n),e.addEventListener("click",(t=>{t.preventDefault(),null==e||e.classList.add("active"),null==A||A.classList.remove("active"),this.switchTabs("pages-content","templates-content")})),A.addEventListener("click",(t=>{t.preventDefault(),null==A||A.classList.add("active"),null==e||e.classList.remove("active"),this.switchTabs("templates-content","pages-content")})),this.container.appendChild(e),this.container.appendChild(A)}switchTabs(e,t){const A=document.getElementById(e),n=document.getElementById(t);A.style.display="block",n.style.display="none"}render(e){e.appendChild(this.container)}}class ea{constructor(){this.ctaManager=new Ms,this.container=document.createElement("div"),this.init()}init(){this.container.classList.add("cta-button-layout-container"),this.container.style.display="flex",this.container.style.flexDirection="column";const e=document.createElement("div");e.style.display="flex",e.style.flexDirection="row",e.style.gap="9.73px";const t=document.createElement("button");t.classList.add("cta-button-layout"),t.id="plain-button-layout",t.innerHTML="<label>Button</label>";const A=document.createElement("div");A.innerHTML='\n        <svg class="cta-button-layout" id="round-button-layout" xmlns="http://www.w3.org/2000/svg" width="36.269" height="36.269" viewBox="0 0 36.269 36.269">\n                <g id="Group_2511" data-name="Group 2511" transform="translate(-1615 -188)">\n                    <g id="Group_2503" data-name="Group 2503" transform="translate(-73 -180)">\n                    <g id="Group_685" data-name="Group 685" transform="translate(1688 368)">\n                        <g id="Ellipse_108" data-name="Ellipse 108" fill="#e9e9e9" stroke="#e2e2e2" stroke-width="1">\n                        <circle cx="18.134" cy="18.134" r="18.134" stroke="none"/>\n                        <circle cx="18.134" cy="18.134" r="17.634" fill="none"/>\n                        </g>\n                    </g>\n                    </g>\n                    <path id="Path_2462" data-name="Path 2462" d="M12.426,18.769,17.607,21.9a1.079,1.079,0,0,0,1.609-1.169l-1.375-5.895,4.579-3.967A1.079,1.079,0,0,0,21.8,8.975l-6.027-.511L13.419,2.9a1.08,1.08,0,0,0-1.988,0L9.074,8.464l-6.027.511a1.079,1.079,0,0,0-.615,1.891L7.01,14.833,5.635,20.728A1.079,1.079,0,0,0,7.244,21.9Z" transform="translate(1620.711 193.984)" fill="#afadad"/>\n                </g>\n            </svg>\n    ',t.addEventListener("click",(e=>{e.preventDefault(),this.ctaManager.changeToPlainButton()})),A.addEventListener("click",(e=>{e.preventDefault(),this.ctaManager.changeToElipseButton()})),e.appendChild(A),e.appendChild(t);const n=document.createElement("button");n.classList.add("cta-button-layout"),n.id="image-button-layout",n.innerHTML='\n        <span class="img-button-icon">\n        <svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 32 32">\n            <g id="Group_2502" data-name="Group 2502" transform="translate(-1629 -379)">\n                <rect id="Rectangle_2452" data-name="Rectangle 2452" width="32" height="32" rx="6" transform="translate(1629 379)" fill="#fff"/>\n                <path id="Path_1040" data-name="Path 1040" d="M14.106,11.025A1.511,1.511,0,0,0,12.671,12.6a1.511,1.511,0,0,0,1.436,1.576A1.511,1.511,0,0,0,15.542,12.6,1.511,1.511,0,0,0,14.106,11.025Zm6.461,4.728-5.025,6.3-3.589-3.94L8.044,23.632H25.951Z" transform="translate(1628.003 377.671)" fill="#afadad"/>\n            </g>\n        </svg>\n        </span>\n        <label>Button</label>\n        <i class="fa fa-angle-right img-button-arrow"></i>\n    ';const i=document.createElement("button");i.classList.add("cta-button-layout"),i.id="icon-button-layout",i.innerHTML='\n        <span style="display: flex; align-items: center; justify-content: center;">\n            <svg xmlns="http://www.w3.org/2000/svg" width="36.269" height="36.269" viewBox="0 0 36.269 36.269">\n                <g id="Group_2511" data-name="Group 2511" transform="translate(-1615 -188)">\n                    <g id="Group_2503" data-name="Group 2503" transform="translate(-73 -180)">\n                    <g id="Group_685" data-name="Group 685" transform="translate(1688 368)">\n                        <g id="Ellipse_108" data-name="Ellipse 108" fill="none" stroke="none" stroke-width="1">\n                        <circle cx="18.134" cy="18.134" r="18.134" stroke="none"/>\n                        <circle cx="18.134" cy="18.134" r="17.634" fill="none"/>\n                        </g>\n                    </g>\n                    </g>\n                    <path id="Path_2462" data-name="Path 2462" d="M12.426,18.769,17.607,21.9a1.079,1.079,0,0,0,1.609-1.169l-1.375-5.895,4.579-3.967A1.079,1.079,0,0,0,21.8,8.975l-6.027-.511L13.419,2.9a1.08,1.08,0,0,0-1.988,0L9.074,8.464l-6.027.511a1.079,1.079,0,0,0-.615,1.891L7.01,14.833,5.635,20.728A1.079,1.079,0,0,0,7.244,21.9Z" transform="translate(1620.711 193.984)" fill="#afadad"/>\n                </g>\n            </svg>\n        </span>\n        <label>Button</label>\n        <i class="fa fa-angle-right img-button-arrow"></i>\n    ',i.addEventListener("click",(e=>{e.preventDefault(),this.ctaManager.changeToIconButton()})),n.addEventListener("click",(e=>{e.preventDefault(),this.ctaManager.changeToImgButton()})),this.container.appendChild(e),this.container.appendChild(i),this.container.appendChild(n)}render(e){e.appendChild(this.container)}}var ta=function(e,t,A,n){return new(A||(A=Promise))((function(i,r){function o(e){try{a(n.next(e))}catch(e){r(e)}}function s(e){try{a(n.throw(e))}catch(e){r(e)}}function a(e){var t;e.done?i(e.value):(t=e.value,t instanceof A?t:new A((function(e){e(t)}))).then(o,s)}a((n=n.apply(e,t||[])).next())}))};class Aa{constructor(){this.themeManager=new Os,this.container=document.createElement("div"),this.container.id="content-page-section",this.initializeContentSection()}initializeContentSection(){return ta(this,void 0,void 0,(function*(){this.toggleSideBar(),this.setupContainerStyles()}))}checkIfRendered(){const e=document.getElementById("pages-content");return!(!e||!e.querySelector("#content-page-section"))}prepareContentData(){return ta(this,void 0,void 0,(function*(){var e;const t=new s;if("Location"===this.page.PageName||"Reception"===this.page.PageName){const e=yield t.getLocationData();if(!e)return;const A=null==e?void 0:e.BC_Trn_Location;this.iconsList=[{CallToActionName:"Phone",CallToActionPhone:null==A?void 0:A.LocationPhone,CallToActionType:"Phone"},{CallToActionName:"Email",CallToActionEmail:null==A?void 0:A.LocationEmail,CallToActionType:"Email"}]}else{const A=yield t.getContentPageData(null===(e=this.page)||void 0===e?void 0:e.PageId);A&&(this.iconsList=A.SDT_ProductService.CallToActions)}}))}setupContainerStyles(){this.container.classList.add("sidebar-section","content-page-section"),this.container.style.display="block"}renderComponents(){this.container.innerHTML="";const e=new ea,t=globalThis.activeVersion.ThemeId,A=this.themeManager.getThemeById(t),n=null==A?void 0:A.ThemeCtaColors;if(!n)return;const i=new ks(n);e.render(this.container),i.render(this.container)}toggleSideBar(){const e=document.getElementById("menu-page-section");e&&(e.style.display="none")}render(e){e.append(this.container)}}class na{constructor(){this.themeManager=new Os,this.container=document.createElement("div"),this.init()}init(){this.container.className="sidebar-section theme-section",this.container.style.paddingTop="0px";const e=this.themeManager.getActiveThemeColors();new xs(e,"theme-color-palette").render(this.container)}render(e){e.appendChild(this.container)}}class ia{constructor(){this.container=document.createElement("div"),this.init()}init(){this.container.className="bg-section";const e=document.createElement("button");e.className="add-image",e.id="image-bg",e.innerHTML='\n            <span class="plus">\n               <i class="fa fa-plus"></i>\n            </span>\n            <span class="image-icon">\n                <i class="fa fa-image"></i>\n            </span>\n        ';const t=document.createElement("div");t.className="slider-wrapper",t.id="slider-wrapper",t.style.display="none";const A=document.createElement("input");A.type="range",A.id="bg-opacity",A.min="0",A.max="100",A.value="0",A.addEventListener("input",(e=>{const t=e.target.value,A=document.getElementById("valueDisplay");A&&(A.innerHTML=`${t}%`),this.updateImageOpacity(t)}));const n=document.createElement("span");n.id="valueDisplay",n.style.width="50px",n.innerHTML="0%",t.appendChild(A),t.appendChild(n),e.addEventListener("click",(e=>{if(e.preventDefault(),!globalThis.selectedComponent)return;const t=document.createElement("div");t.classList.add("tb-modal"),t.style.display="flex",new yl("tile").render(t);const A=document.createElement("input");A.type="file",A.multiple=!0,A.accept="image/jpeg, image/jpg, image/png",A.id="fileInput",A.style.display="none",document.body.appendChild(t),document.body.appendChild(A)})),this.container.appendChild(e),this.container.appendChild(t)}updateImageOpacity(e){const t=globalThis.selectedComponent;if(!t)return;const A=e/100;t.getEl().style.backgroundColor=`rgba(0, 0, 0, ${A})`,"Information"===globalThis.pageData.PageType?(new hl).updateInfoTileAttributes(t.parent().parent().getId(),t.parent().getId(),"Opacity",e):globalThis.tileMapper.updateTile(t.parent().getId(),"Opacity",e)}render(e){e.appendChild(this.container)}}class ra{constructor(){this.positionX=50,this.positionY=50,this.zoomLevel=1,this.container=document.createElement("div"),this.init()}init(){this.container.classList.add("tile-img-container"),this.container.id="tile-img-container",this.container.innerHTML='\n    <svg xmlns="http://www.w3.org/2000/svg" width="14.5" height="16" viewBox="0 0 14.5 16">\n      <g id="Icon_feather-trash-2" data-name="Icon feather-trash-2" transform="translate(0.5 0.5)">\n        <path id="Path_68" data-name="Path 68" d="M4.5,9H18" transform="translate(-4.5 -6)" fill="none" stroke="#4c5357" stroke-linecap="round" stroke-linejoin="round" stroke-width="1"/>\n        <path id="Path_69" data-name="Path 69" d="M18.572,6V16.5A1.542,1.542,0,0,1,16.99,18H9.082A1.542,1.542,0,0,1,7.5,16.5V6M9.872,6V4.5A1.542,1.542,0,0,1,11.454,3h3.163A1.542,1.542,0,0,1,16.2,4.5V6" transform="translate(-6.285 -3)" fill="none" stroke="#4c5357" stroke-linecap="round" stroke-linejoin="round" stroke-width="1"/>\n        <path id="Path_70" data-name="Path 70" d="M15,16.5v3.643" transform="translate(-9.75 -9.199)" fill="none" stroke="#4c5357" stroke-linecap="round" stroke-linejoin="round" stroke-width="1"/>\n        <path id="Path_71" data-name="Path 71" d="M21,16.5v3.643" transform="translate(-12.75 -9.199)" fill="none" stroke="#4c5357" stroke-linecap="round" stroke-linejoin="round" stroke-width="1"/>\n      </g>\n    </svg>\n    ',this.container.addEventListener("click",(e=>{e.preventDefault();const t=globalThis.selectedComponent;if(!t)return;const A=t.parent(),n=A.parent().getId(),i=A.getId(),r=globalThis.tileMapper.getTile(n,i),o=(new Os).getThemeColor(null==r?void 0:r.BGColor),s=t.getStyle();delete s["background-image"],s["background-color"]=o,t.setStyle(s);const a=t.getEl();a.style.backgroundImage="",a.style.backgroundColor=o;const l=new hl,c={BGImageUrl:"",Opacity:"0",BGPosition:"",Top:"",Left:"",OriginalImageUrl:"",BGSize:""};for(const[e,t]of Object.entries(c))l.updateInfoTileAttributes(n,i,e,t);this.container.style.display="none";const d=document.querySelector("#slider-wrapper");d&&(d.style.display="none")}))}render(e){e.appendChild(this.container)}}class oa{constructor(){this.container=document.createElement("div"),this.init()}init(){this.container.classList.add("tile-img-section");const e=new ra;(new ia).render(this.container),e.render(this.container)}render(e){e.appendChild(this.container)}}class sa{constructor(){this.input=document.createElement("input"),this.init()}init(){this.input.type="text",this.input.placeholder="Enter a title",this.input.classList.add("tb-form-control"),this.input.id="tile-title",this.input.addEventListener("input",(e=>{let t=_e(this.input.value);const A=globalThis.selectedComponent;let n=A.getClasses().includes("first-tile")&&A.getClasses().includes("high-priority-template");if(!A)return;const i=A.closest(".container-row").components().length,r=A.find(".tile-title")[0];if(r){const e=3===i?this.truncate(11):2===i?this.truncate(14):this.truncate(25);r.components(e),r.addAttributes({title:t})}n&&(t=t.toUpperCase()),"Information"===this.getPageData().PageType?(new hl).updateInfoTileAttributes(A.parent().parent().getId(),A.parent().getId(),"Text",t.trim()):globalThis.tileMapper.updateTile(A.parent().getId(),"Text",t.trim());const o=r.parent();o&&"none"===o.getStyle().display&&o.addStyle({display:"block"})}))}truncate(e){return this.input.value.length>e?this.input.value.substring(0,e)+"..":this.input.value}getPageData(){return globalThis.pageData}render(e){e.appendChild(this.input)}}class aa{constructor(){this.container=document.createElement("div"),this.init()}init(){this.container.classList.add("text-alignment");const e=document.createElement("div");e.classList.add("align-item"),e.innerHTML='\n            <input type="radio" id="tile-left"\n                name="alignment" value="left" />\n            <label for="tile-left" class="fas fa-align-left">\n            </label>\n        ';const t=document.createElement("div");t.classList.add("align-item"),t.innerHTML='\n            <input type="radio" id="tile-center"\n                     name="alignment" value="center" />\n            <label for="tile-center">\n                <svg xmlns="http://www.w3.org/2000/svg"\n                width="12.7" height="14.626"\n                viewBox="0 0 12.7 14.626">\n                <path id="Group_2344-converted"\n                    data-name="Group 2344-converted"\n                    d="M5.863,1.868V3.736L5.031,2.9,4.2,2.073l-.336.341-.336.342,1.411,1.41L6.35,5.577,7.758,4.17,9.165,2.762l-.333-.333L8.5,2.1l-.831.817-.83.817V0H5.863V1.868M0,7.313v.794H12.7V6.519H0v.794m4.937,3.149-1.4,1.4.333.333.334.333.83-.816.831-.817v3.729h.974V10.89l.832.832.831.832.336-.342.336-.341L7.766,10.465c-.773-.773-1.41-1.406-1.416-1.406s-.642.631-1.413,1.4"\n                    fill-rule="evenodd" fill="#696969" />\n                </svg>\n            </label>\n        ',e.onclick=e=>{e.preventDefault();const t=document.getElementById("tile-left"),A=globalThis.selectedComponent;if(!A)return;A.addStyle({"justify-content":"start","align-items":"start"});const n=A.find(".tile-title")[0];n&&n.addStyle({"text-align":"left"}),"Information"===globalThis.pageData.PageType?(new hl).updateInfoTileAttributes(A.parent().parent().getId(),A.parent().getId(),"Align","left"):globalThis.tileMapper.updateTile(A.parent().getId(),"Align","left"),t.checked=!0},t.onclick=e=>{e.preventDefault();const t=document.getElementById("tile-center"),A=globalThis.selectedComponent;if(!A)return;A.addStyle({"justify-content":"center","align-items":"center"});const n=A.find(".tile-title")[0];n&&n.addStyle({"text-align":"center"}),"Information"===globalThis.pageData.PageType?(new hl).updateInfoTileAttributes(A.parent().parent().getId(),A.parent().getId(),"Align","center"):globalThis.tileMapper.updateTile(A.parent().getId(),"Align","center"),t.checked=!0},this.container.appendChild(e),this.container.appendChild(t)}render(e){e.appendChild(this.container)}}class la{constructor(){this.container=document.createElement("div"),this.init()}init(){this.container.classList.add("title-style");const e=new Ts("tile"),t=new aa;e.render(this.container),t.render(this.container)}render(e){e.appendChild(this.container)}}class ca{constructor(){this.container=document.createElement("div"),this.init()}init(){this.container.className="sidebar-section title-section";const e=new sa,t=new la;e.render(this.container),t.render(this.container)}render(e){e.appendChild(this.container)}}class da{constructor(){this.container=document.createElement("div"),this.init()}init(){this.container.id="menu-page-section";const e=new na,t=new oa,A=new ca,n=new Ns;e.render(this.container),t.render(this.container),A.render(this.container),n.render(this.container)}render(e){e.appendChild(this.container)}}class ua{constructor(){this.contentSection=new Aa,this.container=document.createElement("div"),this.init()}init(){this.container.className="tb-tab-content active-tab",this.container.id="pages-content",(new da).render(this.container),this.contentSection=new Aa,this.contentSection.render(this.container)}render(e){e.appendChild(this.container)}}const ha={Templates:[{Id:"template-one",Rows:[{Id:"8024f98a-fef5-410c-8350-916b7394862e",Tiles:[{Id:"MQhNnVTdyWtKhTq",Name:"Title",Text:"Title",Color:"#000000",Align:"center",Icon:"",BGColor:"",BGImageUrl:"",Opacity:0,Action:{ObjectType:"",ObjectId:"",ObjectUrl:""}}]},{Id:"ZngzLIvl20250326202112011",Tiles:[{Id:"cBggkiXC20250326202112011",Name:"Title",Text:"Title",Color:"#333333",Align:"left",Icon:"",BGColor:"transparent",BGImageUrl:"",Opacity:"0",Action:{ObjectType:"",ObjectId:"",ObjectUrl:""},TilePermissionName:""},{Id:"FjjiLxOp20250326202113039",Name:"Title",Text:"Title",Color:"#333333",Align:"left",Icon:"",BGColor:"transparent",BGImageUrl:"",Opacity:"0",Action:{ObjectType:"",ObjectId:"",ObjectUrl:""},TilePermissionName:""}]},{Id:"qnDgmZMJ20250326202115737",Tiles:[{Id:"vWMSlmsk20250326202115736",Name:"Title",Text:"Title",Color:"#333333",Align:"left",Icon:"",BGColor:"transparent",BGImageUrl:"",Opacity:"0",Action:{ObjectType:"",ObjectId:"",ObjectUrl:""},TilePermissionName:""}]},{Id:"hGqxooDx20250326202118005",Tiles:[{Id:"jHltKWiP20250326202118005",Name:"Title",Text:"Title",Color:"#333333",Align:"center",Icon:"",BGColor:"transparent",BGImageUrl:"",Opacity:"0",Action:{ObjectType:"",ObjectId:"",ObjectUrl:""},TilePermissionName:""},{Id:"MyHZFUgV20250326202119203",Name:"Title",Text:"Title",Color:"#333333",Align:"center",Icon:"",BGColor:"transparent",BGImageUrl:"",Opacity:"0",Action:{ObjectType:"",ObjectId:"",ObjectUrl:""},TilePermissionName:""},{Id:"ilvtXnXw20250326202119576",Name:"Title",Text:"Title",Color:"#333333",Align:"center",Icon:"",BGColor:"transparent",BGImageUrl:"",Opacity:"0",Action:{ObjectType:"",ObjectId:"",ObjectUrl:""},TilePermissionName:""}]}]},{Id:"template-two",Rows:[{Id:"8024f98a-fef5-410c-8350-916b7394862e",Tiles:[{Id:"MQhNnVTdyWtKhTq",Name:"Title",Text:"Title",Color:"#000000",Align:"center",Icon:"",BGColor:"",BGImageUrl:"",Opacity:0,Action:{ObjectType:"",ObjectId:"",ObjectUrl:""}}]},{Id:"hGqxooDx20250326202118005",Tiles:[{Id:"jHltKWiP20250326202118005",Name:"Title",Text:"Title",Color:"#333333",Align:"left",Icon:"",BGColor:"transparent",BGImageUrl:"",Opacity:"0",Action:{ObjectType:"",ObjectId:"",ObjectUrl:""},TilePermissionName:""}]},{Id:"ZvCzVboB20250326202531961",Tiles:[{Id:"ipSbryyM20250326202531961",Name:"Title",Text:"Title",Color:"#333333",Align:"left",Icon:"",BGColor:"transparent",BGImageUrl:"",Opacity:"0",Action:{ObjectType:"",ObjectId:"",ObjectUrl:""},TilePermissionName:""}]}]},{Id:"template-three",Rows:[{Id:"8024f98a-fef5-410c-8350-916b7394862e",Tiles:[{Id:"MQhNnVTdyWtKhTq",Name:"Title",Text:"Title",Color:"#000000",Align:"left",Icon:"",BGColor:"",BGImageUrl:"",Opacity:0,Action:{ObjectType:"",ObjectId:"",ObjectUrl:""}},{Id:"ntcFxRKO20250326202614640",Name:"Title",Text:"Title",Color:"#333333",Align:"left",Icon:"",BGColor:"transparent",BGImageUrl:"",Opacity:"0",Action:{ObjectType:"",ObjectId:"",ObjectUrl:""},TilePermissionName:""}]},{Id:"hGqxooDx20250326202118005",Tiles:[{Id:"jHltKWiP20250326202118005",Name:"Title",Text:"Title",Color:"#333333",Align:"left",Icon:"",BGColor:"transparent",BGImageUrl:"",Opacity:"0",Action:{ObjectType:"",ObjectId:"",ObjectUrl:""},TilePermissionName:""}]},{Id:"ZvCzVboB20250326202531961",Tiles:[{Id:"ipSbryyM20250326202531961",Name:"Title",Text:"Title",Color:"#333333",Align:"left",Icon:"",BGColor:"transparent",BGImageUrl:"",Opacity:"0",Action:{ObjectType:"",ObjectId:"",ObjectUrl:""},TilePermissionName:""},{Id:"pbaPLIje20250326202617562",Name:"Title",Text:"Title",Color:"#333333",Align:"left",Icon:"",BGColor:"transparent",BGImageUrl:"",Opacity:"0",Action:{ObjectType:"",ObjectId:"",ObjectUrl:""},TilePermissionName:""}]},{Id:"yCtmNReZ20250326202618523",Tiles:[{Id:"dgXzpgXE20250326202618523",Name:"Title",Text:"Title",Color:"#333333",Align:"left",Icon:"",BGColor:"transparent",BGImageUrl:"",Opacity:"0",Action:{ObjectType:"",ObjectId:"",ObjectUrl:""},TilePermissionName:""},{Id:"omnlZjhw20250326202619269",Name:"Title",Text:"Title",Color:"#333333",Align:"left",Icon:"",BGColor:"transparent",BGImageUrl:"",Opacity:"0",Action:{ObjectType:"",ObjectId:"",ObjectUrl:""},TilePermissionName:""}]}]},{Id:"template-four",Rows:[{Id:"8024f98a-fef5-410c-8350-916b7394862e",Tiles:[{Id:"MQhNnVTdyWtKhTq",Name:"Title",Text:"Title",Color:"#000000",Align:"left",Icon:"",BGColor:"",BGImageUrl:"",Opacity:0,Action:{ObjectType:"",ObjectId:"",ObjectUrl:""}}]},{Id:"ZvCzVboB20250326202531961",Tiles:[{Id:"ipSbryyM20250326202531961",Name:"Title",Text:"Title",Color:"#333333",Align:"left",Icon:"",BGColor:"transparent",BGImageUrl:"",Opacity:"0",Action:{ObjectType:"",ObjectId:"",ObjectUrl:""},TilePermissionName:""},{Id:"pbaPLIje20250326202617562",Name:"Title",Text:"Title",Color:"#333333",Align:"left",Icon:"",BGColor:"transparent",BGImageUrl:"",Opacity:"0",Action:{ObjectType:"",ObjectId:"",ObjectUrl:""},TilePermissionName:""}]},{Id:"yCtmNReZ20250326202618523",Tiles:[{Id:"dgXzpgXE20250326202618523",Name:"Title",Text:"Title",Color:"#333333",Align:"left",Icon:"",BGColor:"transparent",BGImageUrl:"",Opacity:"0",Action:{ObjectType:"",ObjectId:"",ObjectUrl:""},TilePermissionName:""},{Id:"omnlZjhw20250326202619269",Name:"Title",Text:"Title",Color:"#333333",Align:"left",Icon:"",BGColor:"transparent",BGImageUrl:"",Opacity:"0",Action:{ObjectType:"",ObjectId:"",ObjectUrl:""},TilePermissionName:""}]}]}]};class pa{constructor(e){this.data=e,this.themeManager=new Os}addNewInfoSection(){return`\n    <div style="margin-top: 0;"\n      ${B} class="tb-add-new-info-section">\n          <hr ${B} class="add-new-info-hr" />\n          <svg ${B} xmlns="http://www.w3.org/2000/svg" id="Component_67_2" data-name="Component 67 โ 2" width="30" height="30" viewBox="0 0 30 30">\n          <g ${B} id="Group_2309" data-name="Group 2309">\n            <g ${B} id="Group_2307" data-name="Group 2307">\n              <g ${B} id="Ellipse_6" data-name="Ellipse 6" fill="#fdfdfd" stroke="#5068a8" stroke-width="1">\n                <circle ${B} cx="15" cy="15" r="15" stroke="none"/>\n                <circle ${B} cx="15" cy="15" r="14.5" fill="none"/>\n              </g>\n            </g>\n          </g>\n          <path ${B} id="Icon_ionic-ios-add" data-name="Icon ionic-ios-add" d="M21.895,15H16.717V9.823a.858.858,0,1,0-1.717,0V15H9.823a.858.858,0,0,0,0,1.717H15v5.177a.858.858,0,1,0,1.717,0V16.717h5.177a.858.858,0,1,0,0-1.717Z" transform="translate(-0.692 -1.025)" fill="#5068a8"/>\n        </svg>\n      </div>\n    `}generateTile(e,t,A,n,i){return`\n      <div ${A?'\n    data-gjs-draggable="false"\n    data-gjs-selectable="false"\n    data-gjs-editable="false"\n    data-gjs-highlightable="false"\n    data-gjs-droppable="false"\n    data-gjs-resizable="false"\n    data-gjs-hoverable="false"\n    data-gjs-type="tile-wrapper"\n':v} class="template-wrapper" id="${e.Id}" style="height:${e.Size||80}px;">\n        <div ${m} class="template-block${A?" first-tile high-priority-template":""}" \n          style="color: ${e.Color?e.Color:"#333333"}; text-align: ${e.Align};\n        ${n?"align-items: center; justify-content: center;":`align-items: ${"left"===e.Align?"start":e.Align}; justify-content: ${"left"===e.Align?"start":e.Align};`}; \n        ${e.BGImageUrl?`background-color: rgba(0,0,0, ${e.Opacity/100});\n               background-image: url('${e.BGImageUrl}');\n               background-size: cover;\n               background-position: center;\n               background-blend-mode: overlay;`:`\n            background-color: ${this.themeManager.getThemeColor(e.BGColor)}; \n            `}">\n        \n        <div ${B} class="tile-icon-section" ${e.Icon?'style="display: block;"':""}>\n          <span ${B} class="tile-close-icon top-right">ร</span>\n          <span ${B} title="${e.Icon}" class="tile-icon">\n            ${this.getTileIcon(e)}\n          </span>\n        </div>\n                \n                <div ${B} class="tile-title-section" style="${n?"text-align: center;":"text-align: left"}">\n                  <span ${B} class="tile-close-title top-right">ร</span>\n                  <span ${B} class="tile-title" title="${e.Text}" style="${n?"text-align: center;":`text-align: ${e.Align}`}">${this.truncateText(e,e.Text,n)}</span>\n        </div>\n      </div>\n      ${A?"":`\n        <button ${B} title="${Me.t("tile.delete_tile")}" class="action-button delete-button">โ</button>`}\n      <button ${B} title="${Me.t("tile.add_template_right")}" ${n&&i?'style="display: none;"':""} class="action-button add-button-right">\n        <svg ${B} fill="#fff" width="15" height="15" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">\n          <path ${B} d="M19,11H13V5a1,1,0,0,0-2,0v6H5a1,1,0,0,0,0,2h6v6a1,1,0,0,0,2,0V13h6a1,1,0,0,0,0-2Z"/>\n        </svg>\n      </button>\n      ${1===t.Tiles.length?`\n          ${_s("Resize")}\n        `:""}\n      ${i?"":`\n        <button ${B} title="${Me.t("tile.add_template_bottom")}" class="action-button add-button-bottom">\n          <svg ${B} fill="#fff" width="15" height="15" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">\n            <path ${B} d="M19,11H13V5a1,1,0,0,0-2,0v6H5a1,1,0,0,0,0,2h6v6a1,1,0,0,0,2,0V13h6a1,1,0,0,0,0-2Z"/>\n          </svg>\n        </button>`}\n      <svg ${B} class="tile-open-menu" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 27 27">\n        <g ${B} id="Group_2383" data-name="Group 2383" transform="translate(-921 -417.999)">\n          <g ${B} id="Group_2382" data-name="Group 2382" transform="translate(921 418)">\n            <circle ${B} id="Ellipse_534" data-name="Ellipse 534" cx="13.5" cy="13.5" r="13.5" transform="translate(0 -0.001)" fill="#6a747f"/>\n          </g>\n          <path ${B} id="Path_2320" data-name="Path 2320" d="M1.7,0a1.7,1.7,0,1,0,1.7,1.7A1.7,1.7,0,0,0,1.7,0ZM7.346,0a1.7,1.7,0,1,0,1.7,1.7A1.7,1.7,0,0,0,7.346,0ZM13,0a1.7,1.7,0,1,0,1.7,1.7A1.7,1.7,0,0,0,13,0Z" transform="translate(927 430)" fill="#fff"/>\n        </g>\n      </svg>\n    </div>\n  `}translateTileLabel(e,t){const A=e.Action.ObjectType;return"Map"===A?Me.t("default.map"):"location"===A?Me.t("default.location"):"calendar"===A?Me.t("default.calendar"):"reception"===A?Me.t("default.reception"):"mycare"===A?Me.t("default.mycare"):"myliving"===A||"myliving"===A?Me.t("default.calendar"):"myservice"===A?Me.t("default.myservice"):"myactivity"===A?Me.t("default.myactivity"):t}truncateText(e,t,A){const n=window.innerWidth,i=3===length?11:2===length?15:20;return t.length>(n<=280?20:i+4)?t.substring(0,n<=280?i:i+4).trim()+"..":A?this.wrapTileTitle(t):t}wrapTileTitle(e){const t=e.split(" ");return t.length>1?t[0]+"<br>"+t[1]:e.replace("<br>","")}getTileIcon(e){const t=this.themeManager.getThemeIcon(e.Icon);let A;return t&&(A=t.replace('fill="#7c8791"',`fill="${e.Color}"`)),A}generateRow(e,t){const A=0===t&&1===e.Tiles.length,n=3===e.Tiles.length,i=e.Tiles.map(((t,i)=>this.generateTile(t,e,A&&0===i,n))).join("");return`<div id="${e.Id}" ${w} class="container-row">${i}</div>`}generateInfoRow(e){var t,A,n;const i=3===(null===(t=null==e?void 0:e.Tiles)||void 0===t?void 0:t.length),r=null===(A=null==e?void 0:e.Tiles)||void 0===A?void 0:A.map((t=>this.generateTile(t,e,!1,i,!0))).join("");return 0===(null===(n=null==e?void 0:e.Tiles)||void 0===n?void 0:n.length)?"":`<div id="${e.InfoId}" ${I} class="container-row">${r}</div>`}generateInfoTileCol(e){return`<div id="${e.InfoId}" ${I} class="container-row">${function(e){if(console.log("TileRow",e),console.log("TileCols",e.TileCols),!e||!e.TileCols||0===e.TileCols.length)return"";const t=`\n        <div class="tile-row" data-row-id="${e.Id}" data-row-name="${e.Name}">\n            ${e.TileCols.map((e=>`\n                <div class="tile-col">\n                    ${e.Tiles.map((e=>`\n                        <div class="tile">\n                            ${e.Text||"Text Not Found"}\n                        </div>\n                    `)).join("")}\n                </div>\n            `)).join("")}\n        </div>\n    `;return console.log("TileRow Component",t),t}(e)}</div>`}generateHTML(){const e=`\n    <div ${B} id="frame-container" data-gjs-type="template-wrapper" class="frame-container">\n      <div ${B} class="container-column">\n        ${this.data.PageMenuStructure.Rows.map(((e,t)=>this.generateRow(e,t))).join("")}\n      </div>\n    </div>\n  `;return this.filterHTML(e)}filterHTML(e){const t=document.createElement("div");return t.innerHTML=e,t.querySelectorAll(".container-row").forEach((e=>{3===e.querySelectorAll(".template-block").length&&e.querySelectorAll(".add-button-right").forEach((e=>{e.style.display="none"}))})),t.innerHTML}}class ga{constructor(e,t,A){this.pageId=e,this.editor=t,this.templateId=A,this.init()}init(){return e=this,t=void 0,n=function*(){var e;const t=null===(e=ha.Templates.find((e=>e.Id===this.templateId)))||void 0===e?void 0:e.Rows,A=(new h).getPages().find((e=>e.PageId===this.pageId));if(A){const e=this.getUpdatedPageData(t,A);this.editor.DomComponents.clear(),this.applyTemplate(e)}},new((A=void 0)||(A=Promise))((function(i,r){function o(e){try{a(n.next(e))}catch(e){r(e)}}function s(e){try{a(n.throw(e))}catch(e){r(e)}}function a(e){var t;e.done?i(e.value):(t=e.value,t instanceof A?t:new A((function(e){e(t)}))).then(o,s)}a((n=n.apply(e,t||[])).next())}));var e,t,A,n}getUpdatedPageData(e,t){const A=JSON.parse(JSON.stringify(e));let n=JSON.parse(JSON.stringify(t));return n.PageMenuStructure.Rows=A,n=JSON.parse(JSON.stringify(n)),n}applyTemplate(e){const t=new pa(e).generateHTML();this.editor.setComponents(t),localStorage.setItem(`data-${this.pageId}`,JSON.stringify(e))}}class fa{constructor(e){this.templateList=document.createElement("div"),this.templateList.id="page-templates",e.forEach(((e,t)=>{const A=document.createElement("div");A.className="page-template-wrapper",A.id=e.id;const n=document.createElement("div");n.className="page-template-block-number";const i=document.createElement("div");i.className="page-template-block",i.title=Me.t("sidebar.templates.click_to_add_template");const r=document.createElement("div"),o=document.createElement("img");o.style.width="100%",o.style.height="100%",o.src=e.image,r.appendChild(o),i.appendChild(r),n.innerHTML=`${t+1}`,A.appendChild(n),A.appendChild(i),A.addEventListener("click",(e=>{e.preventDefault();const t=globalThis.activeEditor,n=globalThis.pageData;if(!t&&!(null==n?void 0:n.PageId))return void new a("error",Me.t("messages.error.no_active_page"));if(!n||"Menu"!==n.PageType)return void new a("error",Me.t("messages.error.templates_on_menu_pages"));const i=Me.t("sidebar.templates.confirmation_title"),r=Me.t("sidebar.templates.confirmation_message");new ke(r,i,(()=>{return e=this,i=void 0,o=function*(){new ga(n.PageId,t,A.id)},new((r=void 0)||(r=Promise))((function(t,A){function n(e){try{a(o.next(e))}catch(e){A(e)}}function s(e){try{a(o.throw(e))}catch(e){A(e)}}function a(e){var A;e.done?t(e.value):(A=e.value,A instanceof r?A:new r((function(e){e(A)}))).then(n,s)}a((o=o.apply(e,i||[])).next())}));var e,i,r,o})).render(document.body)})),this.templateList.appendChild(A)}))}render(e){e.appendChild(this.templateList)}}class ma{constructor(){this.container=document.createElement("div"),this.init()}init(){this.container.className="tb-tab-content active-tab",this.container.id="templates-content",this.container.style.display="none";const e=document.createElement("div");e.className="sidebar-section",e.id="page-templates",new fa([{id:"template-one",image:"/Resources/UCGrapes1/src/images/template-1.png"},{id:"template-two",image:"/Resources/UCGrapes1/src/images/template-2.png"},{id:"template-three",image:"/Resources/UCGrapes1/src/images/template-3.png"},{id:"template-four",image:"/Resources/UCGrapes1/src/images/template-4.png"}]).render(e),this.container.appendChild(e)}render(e){e.appendChild(this.container)}}class va{constructor(){this.container=document.getElementById("tools-section"),this.init()}init(){new Ys,this.pagesTabContent=new ua;const e=new ma;this.pagesTabContent.render(this.container),e.render(this.container),window.app.toolsSection=this}render(e){e.appendChild(this.container)}}class Ba{constructor(e=!1,t=!1,A=!1,n=!1){this.isFirstSectionButton=e,this.isLastSectionButton=t,this.isBlankInfoPage=A,this.isUntitledPage=n}getHTML(){const e=["info-section-spacing-container",this.isFirstSectionButton?"first-section":"",this.isLastSectionButton?"last-section":"",this.isBlankInfoPage?"blank-page":"",this.isUntitledPage?"untitled-page":""].join(" ").trim();return`\n      <div ${B} data-type="add-button" data-custom="add-button" class="${e}">\n        <div ${B} class="add-new-info-section">\n          <hr ${B} class="add-new-info-hr" />\n          <svg ${B} xmlns="http://www.w3.org/2000/svg" id="Component_67_2" data-name="Component 67 โ 2" width="30" height="30" viewBox="0 0 30 30">\n            <g ${B} id="Group_2309" data-name="Group 2309">\n              <g ${B} id="Group_2307" data-name="Group 2307">\n                <g ${B} id="Ellipse_6" data-name="Ellipse 6" fill="#fdfdfd" stroke="#5068a8" stroke-width="1">\n                  <circle ${B} cx="15" cy="15" r="15" stroke="none" />\n                  <circle ${B} cx="15" cy="15" r="14.5" fill="none" />\n                </g>\n              </g>\n            </g>\n            <path ${B} id="Icon_ionic-ios-add" data-name="Icon ionic-ios-add"\n              d="M21.895,15H16.717V9.823a.858.858,0,1,0-1.717,0V15H9.823a.858.858,0,0,0,0,1.717H15v5.177a.858.858,0,1,0,1.717,0V16.717h5.177a.858.858,0,1,0,0-1.717Z"\n              transform="translate(-0.692 -1.025)" fill="#5068a8" />\n          </svg>\n        </div>\n      </div>\n    `}}class wa{constructor(e,t=!1){this.data=e,this.isNewPage=t,this.themeManager=new Os}generateCta(e){const t=e.CtaAttributes;return"Image"===(null==t?void 0:t.CtaButtonType)?`<div id="${e.InfoId}" data-gjs-type="info-cta-section"\n                ${C} \n                  button-type="${t.CtaType}"\n                  class="img-button-container">\n                    <div ${B} class="img-button cta-styled-btn"\n                        style="background-color: ${this.themeManager.getThemeCtaColor(t.CtaBGColor)}">\n                        <span ${B} class="img-button-section">\n                            <img ${B} src="${t.CtaButtonImgUrl}" />\n                            <span ${B} class="edit-cta-image">\n                                ${t.CtaButtonImgUrl?`\n                                <svg ${B} xmlns="http://www.w3.org/2000/svg" id="Component_57_1" data-name="Component 57 โ 1" width="22" height="22" viewBox="0 0 33 33">\n                                  <g ${B} id="Ellipse_532" data-name="Ellipse 532" fill="#fff" stroke="#5068a8" stroke-width="2">\n                                    <circle ${B} cx="16.5" cy="16.5" r="16.5" stroke="none"/>\n                                    <circle ${B} cx="16.5" cy="16.5" r="16" fill="none"/>\n                                  </g>\n                                  <path ${B} id="Icon_feather-edit-2" data-name="Icon feather-edit-2" d="M12.834,3.8a1.854,1.854,0,0,1,2.622,2.622L6.606,15.274,3,16.257l.983-3.606Z" transform="translate(7 6.742)" fill="#5068a8" stroke="#5068a8" stroke-linecap="round" stroke-linejoin="round" stroke-width="1"/>\n                                </svg>\n                                `:`\n                                 <svg ${B} xmlns="http://www.w3.org/2000/svg" id="Component_53_4" data-name="Component 53 โ 4" width="22" height="22" viewBox="0 0 22 22">\n                                    <g ${B} id="Group_2309" data-name="Group 2309">\n                                        <g ${B} id="Group_2307" data-name="Group 2307">\n                                        <g ${B} id="Ellipse_6" data-name="Ellipse 6" fill="#fdfdfd" stroke="#5068a8" stroke-width="1">\n                                            <circle ${B} cx="11" cy="11" r="11" stroke="none"/>\n                                            <circle ${B} cx="11" cy="11" r="10.5" fill="none"/>\n                                        </g>\n                                        </g>\n                                    </g>\n                                    <path ${B} id="Icon_ionic-ios-add" data-name="Icon ionic-ios-add" d="M18.342,13.342H14.587V9.587a.623.623,0,1,0-1.245,0v3.755H9.587a.623.623,0,0,0,0,1.245h3.755v3.755a.623.623,0,1,0,1.245,0V14.587h3.755a.623.623,0,1,0,0-1.245Z" transform="translate(-2.965 -2.965)" fill="#5068a8"/>\n                                </svg>\n                                `}\n                            </span>\n                        </span>\n                        <div${B} class="cta-badge">\n                            <svg fill="#5068a8" ${B} width="14px" height="14px" viewBox="0 0 36 36" version="1.1"  preserveAspectRatio="xMidYMid meet" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">\n                <title ${B}>delete</title>\n                <path fill="#5068a8" ${B} class="clr-i-outline clr-i-outline-path-1" d="M27.14,34H8.86A2.93,2.93,0,0,1,6,31V11.23H8V31a.93.93,0,0,0,.86,1H27.14A.93.93,0,0,0,28,31V11.23h2V31A2.93,2.93,0,0,1,27.14,34Z"></path><path class="clr-i-outline clr-i-outline-path-2" d="M30.78,9H5A1,1,0,0,1,5,7H30.78a1,1,0,0,1,0,2Z"></path>\n                <rect fill="#5068a8" ${B} class="clr-i-outline clr-i-outline-path-3" x="21" y="13" width="2" height="15"></rect>\n                <rect fill="#5068a8" ${B} class="clr-i-outline clr-i-outline-path-4" x="13" y="13" width="2" height="15"></rect>\n                <path fill="#5068a8" ${B} class="clr-i-outline clr-i-outline-path-5" d="M23,5.86H21.1V4H14.9V5.86H13V4a2,2,0,0,1,1.9-2h6.2A2,2,0,0,1,23,4Z"></path>\n                <rect fill="#5068a8" ${B} x="0" y="0" width="36" height="36" fill-opacity="0"/>\n            </svg>\n                        </div>\n                        <span ${B} style="color:${t.CtaColor?t.CtaColor:"#ffffff"}" class="img-button-label label">${this.callGetCtaLabel(t)}</span>\n                        <i ${B} style="color:${t.CtaColor?t.CtaColor:"#ffffff"}" class="fa fa-angle-right img-button-arrow"></i>\n                    </div>\n                </div>`:"FullWidth"===(null==t?void 0:t.CtaButtonType)?`\n            <div\n                id="${e.InfoId}"\n                ${C} \n                data-gjs-type="info-cta-section"\n                button-type="${t.CtaType}"\n                class="plain-button-container"\n            >\n                <button ${B} id="ibob6" data-gjs-type="default" class="plain-button cta-styled-btn"\n                  style="background-color: ${this.themeManager.getThemeCtaColor(t.CtaBGColor)}">\n                    <div ${B} id="iyocy" data-gjs-type="default" class="cta-badge">\n                    <svg id="ifxn6" fill="#5068a8" ${B} width="14px" height="14px" viewBox="0 0 36 36" version="1.1"  preserveAspectRatio="xMidYMid meet" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">\n                        <title ${B}>delete</title>\n                        <path fill="#5068a8" ${B} class="clr-i-outline clr-i-outline-path-1" d="M27.14,34H8.86A2.93,2.93,0,0,1,6,31V11.23H8V31a.93.93,0,0,0,.86,1H27.14A.93.93,0,0,0,28,31V11.23h2V31A2.93,2.93,0,0,1,27.14,34Z"></path><path class="clr-i-outline clr-i-outline-path-2" d="M30.78,9H5A1,1,0,0,1,5,7H30.78a1,1,0,0,1,0,2Z"></path>\n                        <rect fill="#5068a8" ${B} class="clr-i-outline clr-i-outline-path-3" x="21" y="13" width="2" height="15"></rect>\n                        <rect fill="#5068a8" ${B} class="clr-i-outline clr-i-outline-path-4" x="13" y="13" width="2" height="15"></rect>\n                        <path fill="#5068a8" ${B} class="clr-i-outline clr-i-outline-path-5" d="M23,5.86H21.1V4H14.9V5.86H13V4a2,2,0,0,1,1.9-2h6.2A2,2,0,0,1,23,4Z"></path>\n                        <rect fill="#5068a8" ${B} x="0" y="0" width="36" height="36" fill-opacity="0"/>\n                    </svg>\n                    </div>\n                    \n                    <span ${B} style="color:${t.CtaColor?t.CtaColor:"#ffffff"}" class="label">${this.callGetCtaLabel(t)}</span>\n                </button>\n            </div>\n            `:"Icon"===(null==t?void 0:t.CtaButtonType)?`\n          <div id="${e.InfoId}" data-gjs-type="info-cta-section"\n            ${C} \n              button-type="${t.CtaType}"\n              class="img-button-container">\n                <div ${B} class="img-button cta-styled-btn"\n                    style="background-color: ${this.themeManager.getThemeCtaColor(t.CtaBGColor)}">\n                    <span ${B} class="img-button-icon">\n                      ${this.ctaIcon(t)}\n                      <svg class="icon-edit-button" title="Change icon" ${B} xmlns="http://www.w3.org/2000/svg" id="Component_57_1" data-name="Component 57 โ 1" width="20" height="20" viewBox="0 0 33 33">\n                        <g ${B} id="Ellipse_532" data-name="Ellipse 532" fill="#fff" stroke="#5068a8" stroke-width="2">\n                          <circle ${B} cx="16.5" cy="16.5" r="16.5" stroke="none"/>\n                          <circle ${B} cx="16.5" cy="16.5" r="16" fill="none"/>\n                        </g>\n                        <path ${B} id="Icon_feather-edit-2" data-name="Icon feather-edit-2" d="M12.834,3.8a1.854,1.854,0,0,1,2.622,2.622L6.606,15.274,3,16.257l.983-3.606Z" transform="translate(7 6.742)" fill="#5068a8" stroke="#5068a8" stroke-linecap="round" stroke-linejoin="round" stroke-width="1"/>\n                      </svg>\n                    </span>\n                    <div${B} class="cta-badge">\n                        <svg fill="#5068a8" ${B} width="14px" height="14px" viewBox="0 0 36 36" version="1.1"  preserveAspectRatio="xMidYMid meet" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">\n                          <title ${B}>delete</title>\n                          <path fill="#5068a8" ${B} class="clr-i-outline clr-i-outline-path-1" d="M27.14,34H8.86A2.93,2.93,0,0,1,6,31V11.23H8V31a.93.93,0,0,0,.86,1H27.14A.93.93,0,0,0,28,31V11.23h2V31A2.93,2.93,0,0,1,27.14,34Z"></path><path class="clr-i-outline clr-i-outline-path-2" d="M30.78,9H5A1,1,0,0,1,5,7H30.78a1,1,0,0,1,0,2Z"></path>\n                          <rect fill="#5068a8" ${B} class="clr-i-outline clr-i-outline-path-3" x="21" y="13" width="2" height="15"></rect>\n                          <rect fill="#5068a8" ${B} class="clr-i-outline clr-i-outline-path-4" x="13" y="13" width="2" height="15"></rect>\n                          <path fill="#5068a8" ${B} class="clr-i-outline clr-i-outline-path-5" d="M23,5.86H21.1V4H14.9V5.86H13V4a2,2,0,0,1,1.9-2h6.2A2,2,0,0,1,23,4Z"></path>\n                          <rect fill="#5068a8" ${B} x="0" y="0" width="36" height="36" fill-opacity="0"/>\n                      </svg>\n                    </div>\n                    <span ${B} style="color:${t.CtaColor?t.CtaColor:"#ffffff"}" class="img-button-label label">${this.callGetCtaLabel(t)}</span>\n                    <i ${B} style="color:${t.CtaColor?t.CtaColor:"#ffffff"}" class="fa fa-angle-right img-button-arrow"></i>\n                </div>\n            </div>\n      `:"Round"===(null==t?void 0:t.CtaButtonType)?`\n            <div ${C}\n              data-gjs-type="info-cta-section"\n              button-type="${t.CtaType}"\n              class="cta-container-child cta-child"\n              id="${e.InfoId}">\n                <div class="cta-button cta-styled-btn" ${B}\n                  style="background-color: ${this.themeManager.getThemeCtaColor(t.CtaBGColor)}">\n                    <span ${B} class="img-button-icon">\n                      ${this.ctaIcon(t)}\n                      <svg class="icon-edit-button" title="Change icon" ${B} xmlns="http://www.w3.org/2000/svg" id="Component_57_1" data-name="Component 57 โ 1" width="20" height="20" viewBox="0 0 33 33">\n                        <g ${B} id="Ellipse_532" data-name="Ellipse 532" fill="#fff" stroke="#5068a8" stroke-width="2">\n                          <circle ${B} cx="16.5" cy="16.5" r="16.5" stroke="none"/>\n                          <circle ${B} cx="16.5" cy="16.5" r="16" fill="none"/>\n                        </g>\n                        <path ${B} id="Icon_feather-edit-2" data-name="Icon feather-edit-2" d="M12.834,3.8a1.854,1.854,0,0,1,2.622,2.622L6.606,15.274,3,16.257l.983-3.606Z" transform="translate(7 6.742)" fill="#5068a8" stroke="#5068a8" stroke-linecap="round" stroke-linejoin="round" stroke-width="1"/>\n                      </svg>\n                    </span>\n                    <div class="cta-badge" ${B}>\n                    <svg fill="#5068a8" ${B} width="14px" height="14px" viewBox="0 0 36 36" version="1.1"  preserveAspectRatio="xMidYMid meet" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">\n                <title ${B}>delete</title>\n                <path fill="#5068a8" ${B} class="clr-i-outline clr-i-outline-path-1" d="M27.14,34H8.86A2.93,2.93,0,0,1,6,31V11.23H8V31a.93.93,0,0,0,.86,1H27.14A.93.93,0,0,0,28,31V11.23h2V31A2.93,2.93,0,0,1,27.14,34Z"></path><path class="clr-i-outline clr-i-outline-path-2" d="M30.78,9H5A1,1,0,0,1,5,7H30.78a1,1,0,0,1,0,2Z"></path>\n                <rect fill="#5068a8" ${B} class="clr-i-outline clr-i-outline-path-3" x="21" y="13" width="2" height="15"></rect>\n                <rect fill="#5068a8" ${B} class="clr-i-outline clr-i-outline-path-4" x="13" y="13" width="2" height="15"></rect>\n                <path fill="#5068a8" ${B} class="clr-i-outline clr-i-outline-path-5" d="M23,5.86H21.1V4H14.9V5.86H13V4a2,2,0,0,1,1.9-2h6.2A2,2,0,0,1,23,4Z"></path>\n                <rect fill="#5068a8" ${B} x="0" y="0" width="36" height="36" fill-opacity="0"/>\n            </svg>\n                    </div>\n                </div>\n                <span class="cta-label label" ${B}>${this.callGetCtaLabel(t)}</span>\n            </div>\n            `:void 0}callGetCtaLabel(e){return(new Ms).getCtaLabel(e)}ctaIcon(e){var t;if(!e.CtaButtonIcon){let t;switch(e.CtaType){case"Phone":t=`\n        <svg ${B} id="ixdtl" data-gjs-type="svg" xmlns="http://www.w3.org/2000/svg" width="32" height="32"\n                    viewBox="0 0 49.417 49.418">\n            <path ${B} id="call" data-gjs-type="svg-in"\n                d="M29.782,3a2.149,2.149,0,1,0,0,4.3A19.3,19.3,0,0,1,49.119,26.634a2.149,2.149,0,1,0,4.3,0A23.667,23.667,0,0,0,29.782,3ZM12.032,7.305a2.548,2.548,0,0,0-.818.067,8.342,8.342,0,0,0-3.9,2.342C2.775,14.254.366,21.907,17.437,38.98S42.16,53.643,46.7,49.1a8.348,8.348,0,0,0,2.346-3.907,2.524,2.524,0,0,0-1.179-2.786c-2.424-1.418-7.654-4.484-10.08-5.9a2.523,2.523,0,0,0-2.568.012l-4.012,2.392a2.517,2.517,0,0,1-2.845-.168,65.811,65.811,0,0,1-5.711-4.981,65.07,65.07,0,0,1-4.981-5.711A2.512,2.512,0,0,1,17.5,25.2L19.9,21.191a2.533,2.533,0,0,0,.008-2.577L14.012,8.556A2.543,2.543,0,0,0,12.032,7.305Zm17.751,4.289a2.149,2.149,0,1,0,0,4.3A10.709,10.709,0,0,1,40.525,26.634a2.149,2.149,0,1,0,4.3,0A15.072,15.072,0,0,0,29.782,11.594Zm0,8.594a2.149,2.149,0,1,0,0,4.3,2.114,2.114,0,0,1,2.149,2.148,2.149,2.149,0,1,0,4.3,0A6.479,6.479,0,0,0,29.782,20.188Z"\n                transform="translate(-4 -3)" fill="${e.CtaColor?e.CtaColor:"#ffffff"}"></path>\n        </svg>\n        `;break;case"Email":t=`\n        <svg ${B} id="inavf" data-gjs-type="svg" xmlns="http://www.w3.org/2000/svg" width="32"\n            height="28" viewBox="0 0 41 32.8">\n            <path ${B} id="Path_1218" data-gjs-type="svg-in" data-name="Path 1218"\n                d="M6.1,4A4.068,4.068,0,0,0,2.789,5.7a1.5,1.5,0,0,0,.444,2.126l18,11.219a2.387,2.387,0,0,0,2.531,0L41.691,7.732a1.5,1.5,0,0,0,.384-2.2A4.063,4.063,0,0,0,38.9,4Zm35.907,8.376a.963.963,0,0,0-.508.152L23.765,23.711a2.392,2.392,0,0,1-2.531,0L3.5,12.656a.98.98,0,0,0-1.5.833V32.7a4.1,4.1,0,0,0,4.1,4.1H38.9A4.1,4.1,0,0,0,43,32.7V13.357A.981.981,0,0,0,42.007,12.376Z"\n                transform="translate(-2 -4)" fill="${e.CtaColor?e.CtaColor:"#ffffff"}"></path>\n        </svg>\n        `;break;case"WebLink":t=`\n        <svg ${B} xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 16 16">\n          <path${B} id="Path_1213" data-name="Path 1213" d="M15.833,4a4.163,4.163,0,0,0-2.958,1.229l-.979.979a4.168,4.168,0,0,0-1.229,2.958,4.1,4.1,0,0,0,.292,1.521L12.042,9.6a2.857,2.857,0,0,1,.792-2.458l.979-.979a2.853,2.853,0,0,1,2.021-.833,2.805,2.805,0,0,1,2,.833,2.85,2.85,0,0,1,0,4.021l-.979.979A2.853,2.853,0,0,1,14.833,12a2.439,2.439,0,0,1-.437-.042l-1.083,1.083a4.1,4.1,0,0,0,1.521.292A4.163,4.163,0,0,0,17.792,12.1l.979-.979A4.168,4.168,0,0,0,20,8.167,4.2,4.2,0,0,0,15.833,4ZM14.188,8.854,8.854,14.188l.958.958,5.333-5.333ZM9.167,10.667A4.163,4.163,0,0,0,6.208,11.9l-.979.979A4.168,4.168,0,0,0,4,15.833,4.2,4.2,0,0,0,8.167,20a4.163,4.163,0,0,0,2.958-1.229l.979-.979a4.168,4.168,0,0,0,1.229-2.958,4.1,4.1,0,0,0-.292-1.521L11.958,14.4a2.857,2.857,0,0,1-.792,2.458l-.979.979a2.853,2.853,0,0,1-2.021.833,2.805,2.805,0,0,1-2-.833,2.85,2.85,0,0,1,0-4.021l.979-.979A2.853,2.853,0,0,1,9.167,12a2.44,2.44,0,0,1,.438.042l1.083-1.083A4.1,4.1,0,0,0,9.167,10.667Z" transform="translate(-4 -4)" fill="${e.CtaColor?e.CtaColor:"#ffffff"}"></path>\n        </svg>\n        `;break;case"Form":t=`\n        <svg ${B} id="igqdh" data-gjs-type="svg" xmlns="http://www.w3.org/2000/svg" width="26" height="30"\n              viewBox="0 0 13 16">\n              <path ${B} id="Path_1209" data-gjs-type="svg-in" data-name="Path 1209"\n                  d="M9.828,4A1.823,1.823,0,0,0,8,5.8V18.2A1.823,1.823,0,0,0,9.828,20h9.344A1.823,1.823,0,0,0,21,18.2V9.8a.6.6,0,0,0-.179-.424l-.006-.006L15.54,4.176A.614.614,0,0,0,15.109,4Zm0,1.2H14.5V8.6a1.823,1.823,0,0,0,1.828,1.8h3.453v7.8a.6.6,0,0,1-.609.6H9.828a.6.6,0,0,1-.609-.6V5.8A.6.6,0,0,1,9.828,5.2Zm5.891.848L18.92,9.2H16.328a.6.6,0,0,1-.609-.6Z"\n                  transform="translate(-8 -4)" fill="${e.CtaColor?e.CtaColor:"#ffffff"}"></path>\n          </svg>\n        `}return t}{const A=null===(t=Ss.find((t=>t.name===e.CtaButtonIcon)))||void 0===t?void 0:t.svg,n=document.createElement("div");n.innerHTML=A||"";const i=n.querySelector("svg");if(i)return i.setAttribute("height","32"),i.setAttribute("width","32"),i.querySelectorAll("path").forEach((t=>{t.setAttribute("fill",(null==e?void 0:e.CtaColor)||"#fff")})),this.addGrapesAttributes(n.innerHTML)}}generateInfoContent(e){return"Image"===e.InfoType&&""!==e.InfoValue?this.contentInfoImage(e):"Images"===e.InfoType&&e.Images?this.contentInfoImages(e):"Description"===e.InfoType&&""!==e.InfoValue?this.contentInfoDescription(e):"Cta"===e.InfoType&&e.CtaAttributes?this.generateCta(e):"TileRow"===e.InfoType&&e.Tiles?new pa(this.data).generateInfoRow(e):""}generateHTML(){var e,t;let A="";const n=null===(t=null===(e=this.data)||void 0===e?void 0:e.PageInfoStructure)||void 0===t?void 0:t.InfoContent;n.push({InfoId:"zSafbeXpjQshSGi",InfoType:"TileCol",InfoValue:"",TileCols:[{TileColId:"zSafbeFpjQShaGi",Tiles:[{Id:"OEWvyXuoJEbBwNW",Name:"Reception",Text:"Reception",Color:"#ffffff",Align:"left",Icon:"Reception",BGColor:"",BGImageUrl:"https://staging.comforta.yukon.software/PublicTempStorage/multimedia/ReceptionImageFile_aa83139cd0b24a77a4065585f1e77523.png",Opacity:0,Size:0,BGSize:"",BGPosition:"",Left:"",Top:"",OriginalImageUrl:"",Action:{ObjectType:"Information",ObjectId:"4dc1970c-87c6-41c0-ba99-2cef009bd572",ObjectUrl:"",FormId:0}}]}]});const i="content-frame-container"+(Array.isArray(n)&&0!==n.length?"":" empty-state");if(Array.isArray(n)&&n.length>0){const e=new Ba(!0).getHTML(),t=new Ba(!1,!0).getHTML(),i=(new Ba).getHTML();A+=e,A+=n.map(((e,A)=>this.generateInfoContent(e)+(A===n.length-1?t:i))).join("")}else A=new Ba(!1,!0,this.isNewPage||"Untitled"===this.data.PageName).getHTML();return`\n        <div ${B} id="frame-container" data-gjs-type="template-wrapper" class="${i}">\n            <div \n    data-gjs-type="template-wrapper"\n    data-gjs-draggable="false"\n    data-gjs-selectable="false"\n    data-gjs-editable="false"\n    data-gjs-highlightable="true"\n    data-gjs-droppable="[data-gjs-type='info-desc-section'], [data-gjs-type='info-image-section'], [data-gjs-type='info-cta-section'], [data-gjs-type='info-tiles-section']"\n class="container-column-info">\n                ${A}\n            </div>\n        </div>\n    `}addGrapesAttributes(e){const t=document.createElement("div");return"string"==typeof e&&(t.innerHTML=e),t.querySelectorAll("*").forEach((e=>{e.setAttribute("data-gjs-draggable","false"),e.setAttribute("data-gjs-selectable","false"),e.setAttribute("data-gjs-editable","false"),e.setAttribute("data-gjs-highlightable","false"),e.setAttribute("data-gjs-droppable","false"),e.setAttribute("data-gjs-resizable","false"),e.setAttribute("data-gjs-hoverable","false")})),t.innerHTML}contentInfoImage(e){var t,A,n,i;return`\n    <div ${y} class="info-image-section" id="${(null==e?void 0:e.InfoId)?null==e?void 0:e.InfoId:Ne(15)}" data-gjs-type="info-image-section">\n    <button ${B} class="tb-edit-image-icon"\n        ${"Location"===(null===(t=this.data)||void 0===t?void 0:t.PageType)||"Reception"===(null===(A=this.data)||void 0===A?void 0:A.PageType)?'style="right: -20px"':""}>\n            <svg ${B} width="14px" height="14px" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">\n              <path ${B} fill-rule="evenodd" clip-rule="evenodd" d="M18.4324 4C18.2266 4 18.0227 4.04055 17.8325 4.11933C17.6423 4.19811 17.4695 4.31358 17.3239 4.45914L5.25659 16.5265L4.42524 19.5748L7.47353 18.7434L19.5409 6.67608C19.6864 6.53051 19.8019 6.3577 19.8807 6.16751C19.9595 5.97732 20 5.77348 20 5.56761C20 5.36175 19.9595 5.1579 19.8807 4.96771C19.8019 4.77752 19.6864 4.60471 19.5409 4.45914C19.3953 4.31358 19.2225 4.19811 19.0323 4.11933C18.8421 4.04055 18.6383 4 18.4324 4ZM17.0671 2.27157C17.5 2.09228 17.9639 2 18.4324 2C18.9009 2 19.3648 2.09228 19.7977 2.27157C20.2305 2.45086 20.6238 2.71365 20.9551 3.04493C21.2864 3.37621 21.5492 3.7695 21.7285 4.20235C21.9077 4.63519 22 5.09911 22 5.56761C22 6.03611 21.9077 6.50003 21.7285 6.93288C21.5492 7.36572 21.2864 7.75901 20.9551 8.09029L8.69996 20.3454C8.57691 20.4685 8.42387 20.5573 8.25597 20.6031L3.26314 21.9648C2.91693 22.0592 2.54667 21.9609 2.29292 21.7071C2.03917 21.4534 1.94084 21.0831 2.03526 20.7369L3.39694 15.7441C3.44273 15.5762 3.53154 15.4231 3.6546 15.3001L15.9097 3.04493C16.241 2.71365 16.6343 2.45086 17.0671 2.27157Z" fill="#5068a8"/>\n            </svg>\n          </button>\n          ${"Location"===(null===(n=this.data)||void 0===n?void 0:n.PageType)||"Reception"===(null===(i=this.data)||void 0===i?void 0:i.PageType)?"":`\n          <button ${B} class="tb-delete-image-icon">\n            <svg fill="#5068a8" ${B} width="14px" height="14px" viewBox="0 0 36 36" version="1.1"  preserveAspectRatio="xMidYMid meet" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">\n                <title ${B}>delete</title>\n                <path fill="#5068a8" ${B} class="clr-i-outline clr-i-outline-path-1" d="M27.14,34H8.86A2.93,2.93,0,0,1,6,31V11.23H8V31a.93.93,0,0,0,.86,1H27.14A.93.93,0,0,0,28,31V11.23h2V31A2.93,2.93,0,0,1,27.14,34Z"></path><path class="clr-i-outline clr-i-outline-path-2" d="M30.78,9H5A1,1,0,0,1,5,7H30.78a1,1,0,0,1,0,2Z"></path>\n                <rect fill="#5068a8" ${B} class="clr-i-outline clr-i-outline-path-3" x="21" y="13" width="2" height="15"></rect>\n                <rect fill="#5068a8" ${B} class="clr-i-outline clr-i-outline-path-4" x="13" y="13" width="2" height="15"></rect>\n                <path fill="#5068a8" ${B} class="clr-i-outline clr-i-outline-path-5" d="M23,5.86H21.1V4H14.9V5.86H13V4a2,2,0,0,1,1.9-2h6.2A2,2,0,0,1,23,4Z"></path>\n                <rect fill="#5068a8" ${B} x="0" y="0" width="36" height="36" fill-opacity="0"/>\n            </svg>\n          </button>\n          `}\n        <img\n            class="product-service-image"\n            ${B}\n            src="${e.InfoValue}"\n            data-gjs-type="default"\n            alt="Image Not Found" onerror="this.src='https://staging.comforta.yukon.software/Resources/UCGrapes/public/images/default.jpg'"\n            style="border: 1px dashed #222f54;"\n        />\n      </div>\n    `}contentInfoImages(e){var t;const A=(e.Images||[]).length;return`\n    <div ${y} class="info-image-section" id="${(null==e?void 0:e.InfoId)?null==e?void 0:e.InfoId:Ne(15)}" data-gjs-type="info-image-section">\n      <button ${B} class="tb-edit-image-icon">\n          <svg ${B} width="14px" height="14px" viewBox="0 0 24 24"\n              fill="none" xmlns="http://www.w3.org/2000/svg">\n              <path ${B} fill-rule="evenodd" clip-rule="evenodd"\n                  d="M18.4324 4C18.2266 4 18.0227 4.04055 17.8325 4.11933C17.6423 4.19811 17.4695 4.31358 17.3239 4.45914L5.25659 16.5265L4.42524 19.5748L7.47353 18.7434L19.5409 6.67608C19.6864 6.53051 19.8019 6.3577 19.8807 6.16751C19.9595 5.97732 20 5.77348 20 5.56761C20 5.36175 19.9595 5.1579 19.8807 4.96771C19.8019 4.77752 19.6864 4.60471 19.5409 4.45914C19.3953 4.31358 19.2225 4.19811 19.0323 4.11933C18.8421 4.04055 18.6383 4 18.4324 4ZM17.0671 2.27157C17.5 2.09228 17.9639 2 18.4324 2C18.9009 2 19.3648 2.09228 19.7977 2.27157C20.2305 2.45086 20.6238 2.71365 20.9551 3.04493C21.2864 3.37621 21.5492 3.7695 21.7285 4.20235C21.9077 4.63519 22 5.09911 22 5.56761C22 6.03611 21.9077 6.50003 21.7285 6.93288C21.5492 7.36572 21.2864 7.75901 20.9551 8.09029L8.69996 20.3454C8.57691 20.4685 8.42387 20.5573 8.25597 20.6031L3.26314 21.9648C2.91693 22.0592 2.54667 21.9609 2.29292 21.7071C2.03917 21.4534 1.94084 21.0831 2.03526 20.7369L3.39694 15.7441C3.44273 15.5762 3.53154 15.4231 3.6546 15.3001L15.9097 3.04493C16.241 2.71365 16.6343 2.45086 17.0671 2.27157Z"\n                  fill="#5068a8"></path>\n          </svg>\n      </button>\n      <button ${B} class="tb-delete-image-icon">\n          <svg ${B} fill="#5068a8" width="14px" height="14px"\n              viewBox="0 0 36 36" version="1.1" preserveAspectRatio="xMidYMid meet"\n              xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">\n              <title ${B} data-gjs-type="svg-in">delete</title>\n              <path ${B} fill="#5068a8"\n                  d="M27.14,34H8.86A2.93,2.93,0,0,1,6,31V11.23H8V31a.93.93,0,0,0,.86,1H27.14A.93.93,0,0,0,28,31V11.23h2V31A2.93,2.93,0,0,1,27.14,34Z"\n                  class="clr-i-outline clr-i-outline-path-1"></path>\n              <path ${B} draggable="true"\n                  d="M30.78,9H5A1,1,0,0,1,5,7H30.78a1,1,0,0,1,0,2Z"\n                  class="clr-i-outline clr-i-outline-path-2"></path>\n              <rect ${B} fill="#5068a8" x="21" y="13" width="2"\n                  height="15" class="clr-i-outline clr-i-outline-path-3"></rect>\n              <rect ${B} fill="#5068a8" x="13" y="13" width="2"\n                  height="15" class="clr-i-outline clr-i-outline-path-4"></rect>\n              <path ${B} fill="#5068a8"\n                  d="M23,5.86H21.1V4H14.9V5.86H13V4a2,2,0,0,1,1.9-2h6.2A2,2,0,0,1,23,4Z"\n                  class="clr-i-outline clr-i-outline-path-5"></path>\n              <rect ${B} fill="#5068a8" x="0" y="0" width="36"\n                  height="36" fill-opacity="0"></rect>\n          </svg>\n      </button>\n      <div ${B} class="slideshow-container">\n          ${(null===(t=e.Images)||void 0===t?void 0:t.map(((t,A)=>{var n;return this.singleImage(t,A+1,(null===(n=e.Images)||void 0===n?void 0:n.length)||0)})).join(""))||""}\n          ${A>1?`<a ${B} class="prev-img-slide">&#10094;</a>\n            <a ${B} class="next-img-slide">&#10095;</a>`:""}\n      </div>\n  </div>\n    `}singleImage(e,t,A){return`\n    <div ${B} data-gjs-type="default" class="mySlides fade" style="${1===t?"display: block;":"display: none;"}">\n        ${A>1?`<div ${B} data-gjs-type="text" class="numbertext">${t} / ${A}</div>`:""}\n        <img ${B} data-gjs-type="default"\n            src="${e.InfoImageValue}"\n            alt="Image Not Found" onerror="this.src='https://staging.comforta.yukon.software/Resources/UCGrapes/public/images/default.jpg'" class="product-service-image">\n    </div>`}contentInfoDescription(e){return`<div\n              style="flex: 1; padding: 0; margin: 0; height: auto; white-space: normal;"\n              class="info-desc-section"\n              ${y}\n              id="${(null==e?void 0:e.InfoId)?null==e?void 0:e.InfoId:Ne(15)}"\n              data-gjs-type="info-desc-section"\n          >\n            <button ${B} class="tb-edit-content-icon">\n              <svg ${B} width="14px" height="14px" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">\n                <path ${B} fill-rule="evenodd" clip-rule="evenodd" d="M18.4324 4C18.2266 4 18.0227 4.04055 17.8325 4.11933C17.6423 4.19811 17.4695 4.31358 17.3239 4.45914L5.25659 16.5265L4.42524 19.5748L7.47353 18.7434L19.5409 6.67608C19.6864 6.53051 19.8019 6.3577 19.8807 6.16751C19.9595 5.97732 20 5.77348 20 5.56761C20 5.36175 19.9595 5.1579 19.8807 4.96771C19.8019 4.77752 19.6864 4.60471 19.5409 4.45914C19.3953 4.31358 19.2225 4.19811 19.0323 4.11933C18.8421 4.04055 18.6383 4 18.4324 4ZM17.0671 2.27157C17.5 2.09228 17.9639 2 18.4324 2C18.9009 2 19.3648 2.09228 19.7977 2.27157C20.2305 2.45086 20.6238 2.71365 20.9551 3.04493C21.2864 3.37621 21.5492 3.7695 21.7285 4.20235C21.9077 4.63519 22 5.09911 22 5.56761C22 6.03611 21.9077 6.50003 21.7285 6.93288C21.5492 7.36572 21.2864 7.75901 20.9551 8.09029L8.69996 20.3454C8.57691 20.4685 8.42387 20.5573 8.25597 20.6031L3.26314 21.9648C2.91693 22.0592 2.54667 21.9609 2.29292 21.7071C2.03917 21.4534 1.94084 21.0831 2.03526 20.7369L3.39694 15.7441C3.44273 15.5762 3.53154 15.4231 3.6546 15.3001L15.9097 3.04493C16.241 2.71365 16.6343 2.45086 17.0671 2.27157Z" fill="#5068a8"/>\n              </svg>\n            </button>\n            <button ${B} class="tb-delete-image-icon">\n                <svg fill="#5068a8" ${B} width="14px" height="14px" viewBox="0 0 36 36" version="1.1"  preserveAspectRatio="xMidYMid meet" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">\n                    <title ${B}>delete</title>\n                    <path fill="#5068a8" ${B} class="clr-i-outline clr-i-outline-path-1" d="M27.14,34H8.86A2.93,2.93,0,0,1,6,31V11.23H8V31a.93.93,0,0,0,.86,1H27.14A.93.93,0,0,0,28,31V11.23h2V31A2.93,2.93,0,0,1,27.14,34Z"></path><path class="clr-i-outline clr-i-outline-path-2" d="M30.78,9H5A1,1,0,0,1,5,7H30.78a1,1,0,0,1,0,2Z"></path>\n                    <rect fill="#5068a8" ${B} class="clr-i-outline clr-i-outline-path-3" x="21" y="13" width="2" height="15"></rect>\n                    <rect fill="#5068a8" ${B} class="clr-i-outline clr-i-outline-path-4" x="13" y="13" width="2" height="15"></rect>\n                    <path fill="#5068a8" ${B} class="clr-i-outline clr-i-outline-path-5" d="M23,5.86H21.1V4H14.9V5.86H13V4a2,2,0,0,1,1.9-2h6.2A2,2,0,0,1,23,4Z"></path>\n                    <rect fill="#5068a8" ${B} x="0" y="0" width="36" height="36" fill-opacity="0"/>\n                </svg>\n            </button>\n            ${this.addGrapesAttributes(`<div ${B} class="info-desc-content">${null==e?void 0:e.InfoValue}</div>`)}      \n          </div>\n    `}getDefaultContent(){var e,t,A,n;return`\n    <div ${y} class="info-image-section" id="${Ne(15)}" data-gjs-type="info-image-section">\n        <button ${B} class="tb-edit-image-icon"\n        ${"Location"===(null===(e=this.data)||void 0===e?void 0:e.PageType)||"Reception"===(null===(t=this.data)||void 0===t?void 0:t.PageType)?'style="right: -20px"':""}>\n            <svg ${B} width="14px" height="14px" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">\n              <path ${B} fill-rule="evenodd" clip-rule="evenodd" d="M18.4324 4C18.2266 4 18.0227 4.04055 17.8325 4.11933C17.6423 4.19811 17.4695 4.31358 17.3239 4.45914L5.25659 16.5265L4.42524 19.5748L7.47353 18.7434L19.5409 6.67608C19.6864 6.53051 19.8019 6.3577 19.8807 6.16751C19.9595 5.97732 20 5.77348 20 5.56761C20 5.36175 19.9595 5.1579 19.8807 4.96771C19.8019 4.77752 19.6864 4.60471 19.5409 4.45914C19.3953 4.31358 19.2225 4.19811 19.0323 4.11933C18.8421 4.04055 18.6383 4 18.4324 4ZM17.0671 2.27157C17.5 2.09228 17.9639 2 18.4324 2C18.9009 2 19.3648 2.09228 19.7977 2.27157C20.2305 2.45086 20.6238 2.71365 20.9551 3.04493C21.2864 3.37621 21.5492 3.7695 21.7285 4.20235C21.9077 4.63519 22 5.09911 22 5.56761C22 6.03611 21.9077 6.50003 21.7285 6.93288C21.5492 7.36572 21.2864 7.75901 20.9551 8.09029L8.69996 20.3454C8.57691 20.4685 8.42387 20.5573 8.25597 20.6031L3.26314 21.9648C2.91693 22.0592 2.54667 21.9609 2.29292 21.7071C2.03917 21.4534 1.94084 21.0831 2.03526 20.7369L3.39694 15.7441C3.44273 15.5762 3.53154 15.4231 3.6546 15.3001L15.9097 3.04493C16.241 2.71365 16.6343 2.45086 17.0671 2.27157Z" fill="#5068a8"/>\n            </svg>\n          </button>\n          ${"Location"===(null===(A=this.data)||void 0===A?void 0:A.PageType)||"Reception"===(null===(n=this.data)||void 0===n?void 0:n.PageType)?"":`\n          <button ${B} class="tb-delete-image-icon">\n            <svg fill="#5068a8" ${B} width="14px" height="14px" viewBox="0 0 36 36" version="1.1"  preserveAspectRatio="xMidYMid meet" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">\n                <title ${B}>delete</title>\n                <path fill="#5068a8" ${B} class="clr-i-outline clr-i-outline-path-1" d="M27.14,34H8.86A2.93,2.93,0,0,1,6,31V11.23H8V31a.93.93,0,0,0,.86,1H27.14A.93.93,0,0,0,28,31V11.23h2V31A2.93,2.93,0,0,1,27.14,34Z"></path><path class="clr-i-outline clr-i-outline-path-2" d="M30.78,9H5A1,1,0,0,1,5,7H30.78a1,1,0,0,1,0,2Z"></path>\n                <rect fill="#5068a8" ${B} class="clr-i-outline clr-i-outline-path-3" x="21" y="13" width="2" height="15"></rect>\n                <rect fill="#5068a8" ${B} class="clr-i-outline clr-i-outline-path-4" x="13" y="13" width="2" height="15"></rect>\n                <path fill="#5068a8" ${B} class="clr-i-outline clr-i-outline-path-5" d="M23,5.86H21.1V4H14.9V5.86H13V4a2,2,0,0,1,1.9-2h6.2A2,2,0,0,1,23,4Z"></path>\n                <rect fill="#5068a8" ${B} x="0" y="0" width="36" height="36" fill-opacity="0"/>\n            </svg>\n          </button>\n          `}\n        <img\n            class="product-service-image"\n            ${B}\n            src="${o}/Resources/UCGrapes/dist/images/default.jpg"\n            data-gjs-type="default"\n            alt="Image Not Found" onerror="this.src='https://staging.comforta.yukon.software/Resources/UCGrapes/public/images/default.jpg'"\n            style="border: 1px dashed #222f54;"\n        />\n      </div>\n    `}}class ya{constructor(e){this.editor=e,this.themeManager=new Os}load(){this.editor.setComponents(this.htmlData())}htmlData(){let e=`\n        <div class="tb-date-selector" \n          ${B}\n          style="background-color: ${this.themeManager.getThemeColor("backgroundColor")};">\n          <span class="tb-arrow" ${B}>โฎ</span>\n          <span class="tb-date-text" id="current-date" ${B}> ${this.formatDate()}</span>\n          <span class="tb-arrow" ${B}>โฏ</span>\n        </div>\n        <div class="tb-schedule" id="schedule-container" ${B}>\n      `;for(let t=0;t<24;t++){const A=t.toString().padStart(2,"0")+":00";e+=`\n            <div class="tb-time-slot" ${B}>\n              <div class="tb-time" ${B}>${A}</div>\n              <div class="tb-events" ${B}></div>\n              ${t===(new Date).getHours()?`\n                <div class="tb-current-time-indicator" ${B}></div>\n                <div class="tb-current-time-dot" ${B}></div>`:""}\n            </div>\n          `}return e+="</div>",e}formatDate(){return(new Date).toLocaleDateString("en-GB",{day:"2-digit",month:"short",year:"numeric"}).replace(/(\d{2} \w{3}) (\d{4})/,"$1, $2")}}class Ca{constructor(e){this.data=e,this.themeManager=new Os}generateCta(e){return"Image"===e.CtaButtonType?`<div id="${e.CtaId}" data-gjs-type="cta-buttons"\n                ${C} \n                  button-type="${e.CtaType}"\n                  class="img-button-container">\n                    <div ${B} class="img-button cta-styled-btn"\n                        style="background-color: ${this.themeManager.getThemeCtaColor(e.CtaBGColor)}">\n                        <span ${B} class="img-button-section">\n                            <img ${B} src="${e.CtaButtonImgUrl}" />\n                            <span ${B} class="edit-cta-image">\n                                ${e.CtaButtonImgUrl?`\n                                <svg ${B} xmlns="http://www.w3.org/2000/svg" id="Component_57_1" data-name="Component 57 โ 1" width="22" height="22" viewBox="0 0 33 33">\n                                  <g ${B} id="Ellipse_532" data-name="Ellipse 532" fill="#fff" stroke="#5068a8" stroke-width="2">\n                                    <circle ${B} cx="16.5" cy="16.5" r="16.5" stroke="none"/>\n                                    <circle ${B} cx="16.5" cy="16.5" r="16" fill="none"/>\n                                  </g>\n                                  <path ${B} id="Icon_feather-edit-2" data-name="Icon feather-edit-2" d="M12.834,3.8a1.854,1.854,0,0,1,2.622,2.622L6.606,15.274,3,16.257l.983-3.606Z" transform="translate(7 6.742)" fill="#5068a8" stroke="#5068a8" stroke-linecap="round" stroke-linejoin="round" stroke-width="1"/>\n                                </svg>\n                                `:`\n                                 <svg ${B} xmlns="http://www.w3.org/2000/svg" id="Component_53_4" data-name="Component 53 โ 4" width="22" height="22" viewBox="0 0 22 22">\n                                    <g ${B} id="Group_2309" data-name="Group 2309">\n                                        <g ${B} id="Group_2307" data-name="Group 2307">\n                                        <g ${B} id="Ellipse_6" data-name="Ellipse 6" fill="#fdfdfd" stroke="#5068a8" stroke-width="1">\n                                            <circle ${B} cx="11" cy="11" r="11" stroke="none"/>\n                                            <circle ${B} cx="11" cy="11" r="10.5" fill="none"/>\n                                        </g>\n                                        </g>\n                                    </g>\n                                    <path ${B} id="Icon_ionic-ios-add" data-name="Icon ionic-ios-add" d="M18.342,13.342H14.587V9.587a.623.623,0,1,0-1.245,0v3.755H9.587a.623.623,0,0,0,0,1.245h3.755v3.755a.623.623,0,1,0,1.245,0V14.587h3.755a.623.623,0,1,0,0-1.245Z" transform="translate(-2.965 -2.965)" fill="#5068a8"/>\n                                </svg>\n                                `}\n                            </span>\n                        </span>\n                        <div${B} class="cta-badge">\n                        <svg fill="#5068a8" ${B} width="14px" height="14px" viewBox="0 0 36 36" version="1.1"  preserveAspectRatio="xMidYMid meet" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">\n                            <title ${B}>delete</title>\n                            <path fill="#5068a8" ${B} class="clr-i-outline clr-i-outline-path-1" d="M27.14,34H8.86A2.93,2.93,0,0,1,6,31V11.23H8V31a.93.93,0,0,0,.86,1H27.14A.93.93,0,0,0,28,31V11.23h2V31A2.93,2.93,0,0,1,27.14,34Z"></path><path class="clr-i-outline clr-i-outline-path-2" d="M30.78,9H5A1,1,0,0,1,5,7H30.78a1,1,0,0,1,0,2Z"></path>\n                            <rect fill="#5068a8" ${B} class="clr-i-outline clr-i-outline-path-3" x="21" y="13" width="2" height="15"></rect>\n                            <rect fill="#5068a8" ${B} class="clr-i-outline clr-i-outline-path-4" x="13" y="13" width="2" height="15"></rect>\n                            <path fill="#5068a8" ${B} class="clr-i-outline clr-i-outline-path-5" d="M23,5.86H21.1V4H14.9V5.86H13V4a2,2,0,0,1,1.9-2h6.2A2,2,0,0,1,23,4Z"></path>\n                            <rect fill="#5068a8" ${B} x="0" y="0" width="36" height="36" fill-opacity="0"/>\n                        </svg>\n                        </div>\n                        <span ${B} style="color:${e.CtaColor?e.CtaColor:"#ffffff"}" class="img-button-label label">${this.getCtaLabel(e)}</span>\n                        <i ${B} style="color:${e.CtaColor?e.CtaColor:"#ffffff"}" class="fa fa-angle-right img-button-arrow"></i>\n                    </div>\n                </div>`:"FullWidth"===e.CtaButtonType?`\n            <div\n                id="${e.CtaId}"\n                ${C} \n                data-gjs-type="cta-buttons"\n                button-type="${e.CtaType}"\n                class="plain-button-container"\n            >\n                <button ${B} id="ibob6" data-gjs-type="default" class="plain-button cta-styled-btn"\n                  style="background-color: ${this.themeManager.getThemeCtaColor(e.CtaBGColor)}">\n                    <div ${B} id="iyocy" data-gjs-type="default" class="cta-badge">\n                        <svg fill="#5068a8" id="ifxn6" data-gjs-type="default" ${B} width="14px" height="14px" viewBox="0 0 36 36" version="1.1"  preserveAspectRatio="xMidYMid meet" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">\n                            <title ${B}>delete</title>\n                            <path fill="#5068a8" ${B} class="clr-i-outline clr-i-outline-path-1" d="M27.14,34H8.86A2.93,2.93,0,0,1,6,31V11.23H8V31a.93.93,0,0,0,.86,1H27.14A.93.93,0,0,0,28,31V11.23h2V31A2.93,2.93,0,0,1,27.14,34Z"></path><path class="clr-i-outline clr-i-outline-path-2" d="M30.78,9H5A1,1,0,0,1,5,7H30.78a1,1,0,0,1,0,2Z"></path>\n                            <rect fill="#5068a8" ${B} class="clr-i-outline clr-i-outline-path-3" x="21" y="13" width="2" height="15"></rect>\n                            <rect fill="#5068a8" ${B} class="clr-i-outline clr-i-outline-path-4" x="13" y="13" width="2" height="15"></rect>\n                            <path fill="#5068a8" ${B} class="clr-i-outline clr-i-outline-path-5" d="M23,5.86H21.1V4H14.9V5.86H13V4a2,2,0,0,1,1.9-2h6.2A2,2,0,0,1,23,4Z"></path>\n                            <rect fill="#5068a8" ${B} x="0" y="0" width="36" height="36" fill-opacity="0"/>\n                        </svg>\n                    </div>\n                    <span ${B} style="color:${e.CtaColor?e.CtaColor:"#ffffff"}" class="label">${this.getCtaLabel(e)}</span>\n                </button>\n            </div>\n            `:"Icon"===e.CtaButtonType?`\n          <div id="${e.CtaId}" data-gjs-type="cta-buttons"\n            ${C} \n              button-type="${e.CtaType}"\n              class="img-button-container">\n                <div ${B} class="img-button cta-styled-btn"\n                    style="background-color: ${this.themeManager.getThemeCtaColor(e.CtaBGColor)}">\n                    <span ${B} class="img-button-icon">\n                      ${this.ctaIcon(e)}\n                      <svg class="icon-edit-button" title="Change icon" ${B} xmlns="http://www.w3.org/2000/svg" id="Component_57_1" data-name="Component 57 โ 1" width="20" height="20" viewBox="0 0 33 33">\n                        <g ${B} id="Ellipse_532" data-name="Ellipse 532" fill="#fff" stroke="#5068a8" stroke-width="2">\n                          <circle ${B} cx="16.5" cy="16.5" r="16.5" stroke="none"/>\n                          <circle ${B} cx="16.5" cy="16.5" r="16" fill="none"/>\n                        </g>\n                        <path ${B} id="Icon_feather-edit-2" data-name="Icon feather-edit-2" d="M12.834,3.8a1.854,1.854,0,0,1,2.622,2.622L6.606,15.274,3,16.257l.983-3.606Z" transform="translate(7 6.742)" fill="#5068a8" stroke="#5068a8" stroke-linecap="round" stroke-linejoin="round" stroke-width="1"/>\n                      </svg>\n                    </span>\n                    <div${B} class="cta-badge">\n                        <svg fill="#5068a8" ${B} width="14px" height="14px" viewBox="0 0 36 36" version="1.1"  preserveAspectRatio="xMidYMid meet" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">\n                          <title ${B}>delete</title>\n                          <path fill="#5068a8" ${B} class="clr-i-outline clr-i-outline-path-1" d="M27.14,34H8.86A2.93,2.93,0,0,1,6,31V11.23H8V31a.93.93,0,0,0,.86,1H27.14A.93.93,0,0,0,28,31V11.23h2V31A2.93,2.93,0,0,1,27.14,34Z"></path><path class="clr-i-outline clr-i-outline-path-2" d="M30.78,9H5A1,1,0,0,1,5,7H30.78a1,1,0,0,1,0,2Z"></path>\n                          <rect fill="#5068a8" ${B} class="clr-i-outline clr-i-outline-path-3" x="21" y="13" width="2" height="15"></rect>\n                          <rect fill="#5068a8" ${B} class="clr-i-outline clr-i-outline-path-4" x="13" y="13" width="2" height="15"></rect>\n                          <path fill="#5068a8" ${B} class="clr-i-outline clr-i-outline-path-5" d="M23,5.86H21.1V4H14.9V5.86H13V4a2,2,0,0,1,1.9-2h6.2A2,2,0,0,1,23,4Z"></path>\n                          <rect fill="#5068a8" ${B} x="0" y="0" width="36" height="36" fill-opacity="0"/>\n                      </svg>\n                    </div>\n                    <span ${B} style="color:${e.CtaColor?e.CtaColor:"#ffffff"}" class="img-button-label label">${this.getCtaLabel(e)}</span>\n                    <i ${B} style="color:${e.CtaColor?e.CtaColor:"#ffffff"}" class="fa fa-angle-right img-button-arrow"></i>\n                </div>\n            </div>\n      `:"Round"===e.CtaButtonType?`\n            <div ${C} \n              data-gjs-type="cta-buttons" \n              button-type="${e.CtaType}" \n              class="cta-container-child cta-child"\n              id="${e.CtaId}">              \n                <div class="cta-button cta-styled-btn" ${B}\n                  style="background-color: ${this.themeManager.getThemeCtaColor(e.CtaBGColor)}">\n                    ${this.ctaIcon(e)}\n                    <div class="cta-badge" ${B}>\n                      <svg fill="#5068a8" ${B} width="14px" height="14px" viewBox="0 0 36 36" version="1.1"  preserveAspectRatio="xMidYMid meet" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">\n                          <title ${B}>delete</title>\n                          <path fill="#5068a8" ${B} class="clr-i-outline clr-i-outline-path-1" d="M27.14,34H8.86A2.93,2.93,0,0,1,6,31V11.23H8V31a.93.93,0,0,0,.86,1H27.14A.93.93,0,0,0,28,31V11.23h2V31A2.93,2.93,0,0,1,27.14,34Z"></path><path class="clr-i-outline clr-i-outline-path-2" d="M30.78,9H5A1,1,0,0,1,5,7H30.78a1,1,0,0,1,0,2Z"></path>\n                          <rect fill="#5068a8" ${B} class="clr-i-outline clr-i-outline-path-3" x="21" y="13" width="2" height="15"></rect>\n                          <rect fill="#5068a8" ${B} class="clr-i-outline clr-i-outline-path-4" x="13" y="13" width="2" height="15"></rect>\n                          <path fill="#5068a8" ${B} class="clr-i-outline clr-i-outline-path-5" d="M23,5.86H21.1V4H14.9V5.86H13V4a2,2,0,0,1,1.9-2h6.2A2,2,0,0,1,23,4Z"></path>\n                          <rect fill="#5068a8" ${B} x="0" y="0" width="36" height="36" fill-opacity="0"/>\n                      </svg>\n                    </div>\n                </div>\n                <span class="cta-label label" ${B}>${this.getCtaLabel(e)}</span>\n            </div>\n            `:void 0}getCtaLabel(e){let t=e.CtaLabel;return t?(t="Round"===e.CtaButtonType?Oe(t,5):Oe(t,14),t):""}ctaIcon(e){let t;switch(e.CtaType){case"Phone":t=`\n        <svg ${B} id="ixdtl" data-gjs-type="svg" xmlns="http://www.w3.org/2000/svg" width="32" height="32"\n                    viewBox="0 0 49.417 49.418">\n            <path ${B} id="call" data-gjs-type="svg-in"\n                d="M29.782,3a2.149,2.149,0,1,0,0,4.3A19.3,19.3,0,0,1,49.119,26.634a2.149,2.149,0,1,0,4.3,0A23.667,23.667,0,0,0,29.782,3ZM12.032,7.305a2.548,2.548,0,0,0-.818.067,8.342,8.342,0,0,0-3.9,2.342C2.775,14.254.366,21.907,17.437,38.98S42.16,53.643,46.7,49.1a8.348,8.348,0,0,0,2.346-3.907,2.524,2.524,0,0,0-1.179-2.786c-2.424-1.418-7.654-4.484-10.08-5.9a2.523,2.523,0,0,0-2.568.012l-4.012,2.392a2.517,2.517,0,0,1-2.845-.168,65.811,65.811,0,0,1-5.711-4.981,65.07,65.07,0,0,1-4.981-5.711A2.512,2.512,0,0,1,17.5,25.2L19.9,21.191a2.533,2.533,0,0,0,.008-2.577L14.012,8.556A2.543,2.543,0,0,0,12.032,7.305Zm17.751,4.289a2.149,2.149,0,1,0,0,4.3A10.709,10.709,0,0,1,40.525,26.634a2.149,2.149,0,1,0,4.3,0A15.072,15.072,0,0,0,29.782,11.594Zm0,8.594a2.149,2.149,0,1,0,0,4.3,2.114,2.114,0,0,1,2.149,2.148,2.149,2.149,0,1,0,4.3,0A6.479,6.479,0,0,0,29.782,20.188Z"\n                transform="translate(-4 -3)" fill="${e.CtaColor?e.CtaColor:"#ffffff"}"></path>\n        </svg>\n        `;break;case"Email":t=`\n        <svg ${B} id="inavf" data-gjs-type="svg" xmlns="http://www.w3.org/2000/svg" width="32"\n            height="28" viewBox="0 0 41 32.8">\n            <path ${B} id="Path_1218" data-gjs-type="svg-in" data-name="Path 1218"\n                d="M6.1,4A4.068,4.068,0,0,0,2.789,5.7a1.5,1.5,0,0,0,.444,2.126l18,11.219a2.387,2.387,0,0,0,2.531,0L41.691,7.732a1.5,1.5,0,0,0,.384-2.2A4.063,4.063,0,0,0,38.9,4Zm35.907,8.376a.963.963,0,0,0-.508.152L23.765,23.711a2.392,2.392,0,0,1-2.531,0L3.5,12.656a.98.98,0,0,0-1.5.833V32.7a4.1,4.1,0,0,0,4.1,4.1H38.9A4.1,4.1,0,0,0,43,32.7V13.357A.981.981,0,0,0,42.007,12.376Z"\n                transform="translate(-2 -4)" fill="${e.CtaColor?e.CtaColor:"#ffffff"}"></path>\n        </svg>\n        `;break;case"WebLink":t=`\n        <svg ${B} xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 16 16">\n          <path${B} id="Path_1213" data-name="Path 1213" d="M15.833,4a4.163,4.163,0,0,0-2.958,1.229l-.979.979a4.168,4.168,0,0,0-1.229,2.958,4.1,4.1,0,0,0,.292,1.521L12.042,9.6a2.857,2.857,0,0,1,.792-2.458l.979-.979a2.853,2.853,0,0,1,2.021-.833,2.805,2.805,0,0,1,2,.833,2.85,2.85,0,0,1,0,4.021l-.979.979A2.853,2.853,0,0,1,14.833,12a2.439,2.439,0,0,1-.437-.042l-1.083,1.083a4.1,4.1,0,0,0,1.521.292A4.163,4.163,0,0,0,17.792,12.1l.979-.979A4.168,4.168,0,0,0,20,8.167,4.2,4.2,0,0,0,15.833,4ZM14.188,8.854,8.854,14.188l.958.958,5.333-5.333ZM9.167,10.667A4.163,4.163,0,0,0,6.208,11.9l-.979.979A4.168,4.168,0,0,0,4,15.833,4.2,4.2,0,0,0,8.167,20a4.163,4.163,0,0,0,2.958-1.229l.979-.979a4.168,4.168,0,0,0,1.229-2.958,4.1,4.1,0,0,0-.292-1.521L11.958,14.4a2.857,2.857,0,0,1-.792,2.458l-.979.979a2.853,2.853,0,0,1-2.021.833,2.805,2.805,0,0,1-2-.833,2.85,2.85,0,0,1,0-4.021l.979-.979A2.853,2.853,0,0,1,9.167,12a2.44,2.44,0,0,1,.438.042l1.083-1.083A4.1,4.1,0,0,0,9.167,10.667Z" transform="translate(-4 -4)" fill="${e.CtaColor?e.CtaColor:"#ffffff"}"></path>\n        </svg>\n        `;break;case"Form":t=`\n        <svg ${B} id="igqdh" data-gjs-type="svg" xmlns="http://www.w3.org/2000/svg" width="26" height="30"\n              viewBox="0 0 13 16">\n              <path ${B} id="Path_1209" data-gjs-type="svg-in" data-name="Path 1209"\n                  d="M9.828,4A1.823,1.823,0,0,0,8,5.8V18.2A1.823,1.823,0,0,0,9.828,20h9.344A1.823,1.823,0,0,0,21,18.2V9.8a.6.6,0,0,0-.179-.424l-.006-.006L15.54,4.176A.614.614,0,0,0,15.109,4Zm0,1.2H14.5V8.6a1.823,1.823,0,0,0,1.828,1.8h3.453v7.8a.6.6,0,0,1-.609.6H9.828a.6.6,0,0,1-.609-.6V5.8A.6.6,0,0,1,9.828,5.2Zm5.891.848L18.92,9.2H16.328a.6.6,0,0,1-.609-.6Z"\n                  transform="translate(-8 -4)" fill="${e.CtaColor?e.CtaColor:"#ffffff"}"></path>\n          </svg>\n        `}return t}generateContent(e){return"Image"===e.ContentType&&""!==e.ContentValue?this.contentImage(e):"Description"===e.ContentType&&""!==e.ContentValue?this.contentDescription(e):""}generateHTML(){var e,t,A,n;let i="",r="";return(null===(t=null===(e=this.data)||void 0===e?void 0:e.PageContentStructure)||void 0===t?void 0:t.Content)&&Array.isArray(this.data.PageContentStructure.Content)&&(i=this.data.PageContentStructure.Content.map((e=>this.generateContent(e))).join("")),(null===(n=null===(A=this.data)||void 0===A?void 0:A.PageContentStructure)||void 0===n?void 0:n.Cta)&&Array.isArray(this.data.PageContentStructure.Cta)&&(r=this.data.PageContentStructure.Cta.map((e=>this.generateCta(e))).join("")),`\n            <div ${B} id="frame-container" data-gjs-type="template-wrapper" class="content-frame-container">\n                <div ${B} class="container-column">\n                    <div ${B} class="container-row">\n                        <div ${B} data-gjs-type="default" class="template-wrapper">\n                            <div \n    data-gjs-type="template-wrapper"\n    data-gjs-draggable="false"\n    data-gjs-selectable="false"\n    data-gjs-editable="false"\n    data-gjs-highlightable="true"\n    data-gjs-droppable="[data-gjs-type='product-service-description'], [data-gjs-type='product-service-image']"\n data-gjs-type="default" class="content-page-wrapper">\n                                ${i}\n                            </div>\n                        </div>\n                    </div> \n                    ${r?`\n                      <div ${b} class="cta-button-container" style="gap: 0.2rem;">\n                          ${r}\n                      </div>`:`\n                      <div ${b} class="cta-button-container" style="gap: 0.2rem;"></div>`}         \n                      <i class="fa fa-pencil></i>\n                </div>\n            </div>\n        `}addGrapesAttributes(e){const t=document.createElement("div");return"string"==typeof e&&(t.innerHTML=e),t.querySelectorAll("*").forEach((e=>{e.setAttribute("data-gjs-draggable","false"),e.setAttribute("data-gjs-selectable","false"),e.setAttribute("data-gjs-editable","false"),e.setAttribute("data-gjs-highlightable","false"),e.setAttribute("data-gjs-droppable","false"),e.setAttribute("data-gjs-resizable","false"),e.setAttribute("data-gjs-hoverable","false")})),t.innerHTML}contentImage(e){var t,A,n,i;return`\n    <div ${y} class="content-image" id="${(null==e?void 0:e.ContentId)?null==e?void 0:e.ContentId:Ne(15)}" data-gjs-type="product-service-image">\n        <button ${B} class="tb-edit-image-icon"\n        ${"Location"===(null===(t=this.data)||void 0===t?void 0:t.PageType)||"Reception"===(null===(A=this.data)||void 0===A?void 0:A.PageType)?'style="right: -20px"':""}>\n            <svg ${B} width="14px" height="14px" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">\n              <path ${B} fill-rule="evenodd" clip-rule="evenodd" d="M18.4324 4C18.2266 4 18.0227 4.04055 17.8325 4.11933C17.6423 4.19811 17.4695 4.31358 17.3239 4.45914L5.25659 16.5265L4.42524 19.5748L7.47353 18.7434L19.5409 6.67608C19.6864 6.53051 19.8019 6.3577 19.8807 6.16751C19.9595 5.97732 20 5.77348 20 5.56761C20 5.36175 19.9595 5.1579 19.8807 4.96771C19.8019 4.77752 19.6864 4.60471 19.5409 4.45914C19.3953 4.31358 19.2225 4.19811 19.0323 4.11933C18.8421 4.04055 18.6383 4 18.4324 4ZM17.0671 2.27157C17.5 2.09228 17.9639 2 18.4324 2C18.9009 2 19.3648 2.09228 19.7977 2.27157C20.2305 2.45086 20.6238 2.71365 20.9551 3.04493C21.2864 3.37621 21.5492 3.7695 21.7285 4.20235C21.9077 4.63519 22 5.09911 22 5.56761C22 6.03611 21.9077 6.50003 21.7285 6.93288C21.5492 7.36572 21.2864 7.75901 20.9551 8.09029L8.69996 20.3454C8.57691 20.4685 8.42387 20.5573 8.25597 20.6031L3.26314 21.9648C2.91693 22.0592 2.54667 21.9609 2.29292 21.7071C2.03917 21.4534 1.94084 21.0831 2.03526 20.7369L3.39694 15.7441C3.44273 15.5762 3.53154 15.4231 3.6546 15.3001L15.9097 3.04493C16.241 2.71365 16.6343 2.45086 17.0671 2.27157Z" fill="#5068a8"/>\n            </svg>\n          </button>\n          ${"Location"===(null===(n=this.data)||void 0===n?void 0:n.PageType)||"Reception"===(null===(i=this.data)||void 0===i?void 0:i.PageType)?"":`\n          <button ${B} class="tb-delete-image-icon">\n            <svg fill="#5068a8" ${B} width="14px" height="14px" viewBox="0 0 36 36" version="1.1"  preserveAspectRatio="xMidYMid meet" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">\n                <title ${B}>delete</title>\n                <path fill="#5068a8" ${B} class="clr-i-outline clr-i-outline-path-1" d="M27.14,34H8.86A2.93,2.93,0,0,1,6,31V11.23H8V31a.93.93,0,0,0,.86,1H27.14A.93.93,0,0,0,28,31V11.23h2V31A2.93,2.93,0,0,1,27.14,34Z"></path><path class="clr-i-outline clr-i-outline-path-2" d="M30.78,9H5A1,1,0,0,1,5,7H30.78a1,1,0,0,1,0,2Z"></path>\n                <rect fill="#5068a8" ${B} class="clr-i-outline clr-i-outline-path-3" x="21" y="13" width="2" height="15"></rect>\n                <rect fill="#5068a8" ${B} class="clr-i-outline clr-i-outline-path-4" x="13" y="13" width="2" height="15"></rect>\n                <path fill="#5068a8" ${B} class="clr-i-outline clr-i-outline-path-5" d="M23,5.86H21.1V4H14.9V5.86H13V4a2,2,0,0,1,1.9-2h6.2A2,2,0,0,1,23,4Z"></path>\n                <rect fill="#5068a8" ${B} x="0" y="0" width="36" height="36" fill-opacity="0"/>\n            </svg>\n          </button>\n          `}\n        <img\n            id="product-service-image"\n            ${B}\n            src="${null==e?void 0:e.ContentValue}"\n            data-gjs-type="default"\n            alt="Image Not Found" onerror="this.src='https://staging.comforta.yukon.software/Resources/UCGrapes/public/images/default.jpg'"\n        />\n      </div>\n    `}contentDescription(e){return`\n    <div\n        style="flex: 1; padding: 0; margin: 0; height: auto; white-space: normal;"\n        class="content-page-block"\n        ${y} \n        id="${(null==e?void 0:e.ContentId)?null==e?void 0:e.ContentId:Ne(15)}"\n        data-gjs-type="product-service-description"\n    >\n      <button ${B} class="tb-edit-content-icon">\n        <svg ${B} width="14px" height="14px" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">\n          <path ${B} fill-rule="evenodd" clip-rule="evenodd" d="M18.4324 4C18.2266 4 18.0227 4.04055 17.8325 4.11933C17.6423 4.19811 17.4695 4.31358 17.3239 4.45914L5.25659 16.5265L4.42524 19.5748L7.47353 18.7434L19.5409 6.67608C19.6864 6.53051 19.8019 6.3577 19.8807 6.16751C19.9595 5.97732 20 5.77348 20 5.56761C20 5.36175 19.9595 5.1579 19.8807 4.96771C19.8019 4.77752 19.6864 4.60471 19.5409 4.45914C19.3953 4.31358 19.2225 4.19811 19.0323 4.11933C18.8421 4.04055 18.6383 4 18.4324 4ZM17.0671 2.27157C17.5 2.09228 17.9639 2 18.4324 2C18.9009 2 19.3648 2.09228 19.7977 2.27157C20.2305 2.45086 20.6238 2.71365 20.9551 3.04493C21.2864 3.37621 21.5492 3.7695 21.7285 4.20235C21.9077 4.63519 22 5.09911 22 5.56761C22 6.03611 21.9077 6.50003 21.7285 6.93288C21.5492 7.36572 21.2864 7.75901 20.9551 8.09029L8.69996 20.3454C8.57691 20.4685 8.42387 20.5573 8.25597 20.6031L3.26314 21.9648C2.91693 22.0592 2.54667 21.9609 2.29292 21.7071C2.03917 21.4534 1.94084 21.0831 2.03526 20.7369L3.39694 15.7441C3.44273 15.5762 3.53154 15.4231 3.6546 15.3001L15.9097 3.04493C16.241 2.71365 16.6343 2.45086 17.0671 2.27157Z" fill="#5068a8"/>\n        </svg>\n      </button>\n      ${this.addGrapesAttributes(`<div ${B} id="contentDescription">${null==e?void 0:e.ContentValue}</div>`)}      \n    </div>\n    `}}class ba{constructor(e,t){this.toolboxService=new s,this.editor=e,this.pageData=t}setupEditor(){return e=this,t=void 0,n=function*(){try{if(this.locationData=yield this.toolboxService.getLocationData(),!this.locationData)return void console.warn("Location data could not be retrieved.");const e=this.updatePageData(),t=new Ca(e).generateHTML();this.editor.setComponents(t),localStorage.setItem(`data-${this.pageData.PageId}`,JSON.stringify(e))}catch(e){console.error("Error fetching location data:",e)}},new((A=void 0)||(A=Promise))((function(i,r){function o(e){try{a(n.next(e))}catch(e){r(e)}}function s(e){try{a(n.throw(e))}catch(e){r(e)}}function a(e){var t;e.done?i(e.value):(t=e.value,t instanceof A?t:new A((function(e){e(t)}))).then(o,s)}a((n=n.apply(e,t||[])).next())}));var e,t,A,n}updatePageData(){var e,t,A;if(!(null===(t=null===(e=this.pageData)||void 0===e?void 0:e.PageContentStructure)||void 0===t?void 0:t.Content))return this.pageData;const n=(null===(A=this.locationData)||void 0===A?void 0:A.BC_Trn_Location)||{};return this.pageData.PageContentStructure.Content=this.pageData.PageContentStructure.Content.map((e=>"Image"===(null==e?void 0:e.ContentType)?Object.assign(Object.assign({},e),{ContentValue:n.LocationImage||e.ContentValue}):"Description"===(null==e?void 0:e.ContentType)?Object.assign(Object.assign({},e),{ContentValue:n.LocationDescription||e.ContentValue}):e)),this.pageData}}class Ia{constructor(e){this.editor=e,this.themeManager=new Os}load(){this.editor.setComponents(this.htmlData())}htmlData(){return`\n         <div class="tb-chat-container" ${B}>\n            <div class="tb-toggle-buttons"  ${B}>\n                <button style="background-color: ${this.themeManager.getThemeColor("backgroundColor")};border-radius: 6px;"  ${B}>${Me.t("Messages")}</button>\n                <button style="background-color: #e1e1e1;border-radius: 6px;color: #262626;"  ${B}>${Me.t("Requests")}</button>\n            </div>\n            <div class="tb-chat-body" ${B}>${Me.t("NoMessagesYet")}</div>\n         </div>\n         `}}class Ea{constructor(e,t){this.toolboxService=new s,this.editor=e,this.pageData=t}setupEditor(){return e=this,t=void 0,n=function*(){try{if(this.locationData=yield this.toolboxService.getLocationData(),!this.locationData)return void console.warn("Location data could not be retrieved.");const e=this.updatePageData(),t=new Ca(e).generateHTML();this.editor.setComponents(t),localStorage.setItem(`data-${this.pageData.PageId}`,JSON.stringify(e))}catch(e){console.error("Error fetching location data:",e)}},new((A=void 0)||(A=Promise))((function(i,r){function o(e){try{a(n.next(e))}catch(e){r(e)}}function s(e){try{a(n.throw(e))}catch(e){r(e)}}function a(e){var t;e.done?i(e.value):(t=e.value,t instanceof A?t:new A((function(e){e(t)}))).then(o,s)}a((n=n.apply(e,t||[])).next())}));var e,t,A,n}updatePageData(){var e,t,A;if(!(null===(t=null===(e=this.pageData)||void 0===e?void 0:e.PageContentStructure)||void 0===t?void 0:t.Content))return this.pageData;const n=(null===(A=this.locationData)||void 0===A?void 0:A.BC_Trn_Location)||{};return this.pageData.PageContentStructure.Content=this.pageData.PageContentStructure.Content.map((e=>"Image"===(null==e?void 0:e.ContentType)?Object.assign(Object.assign({},e),{ContentValue:n.ReceptionImage?n.ReceptionImage:"https://staging.comforta.yukon.software/media/receptie-197@3x.png"}):"Description"===(null==e?void 0:e.ContentType)?Object.assign(Object.assign({},e),{ContentValue:n.ReceptionDescription?n.ReceptionDescription:"Welkom bij de receptie van onze app. Hier kunt u al uw vragen stellen en krijgt u direct hulp van ons team. Of het nu gaat om technische ondersteuning, informatie over diensten, of algemene vragen, wij zijn er om u te helpen."}):e)),this.pageData}}class Qa{constructor(e){this.editor=e}initialise(e){return t=this,A=void 0,i=function*(){try{this.editor.DomComponents.clear(),navigator.geolocation.getCurrentPosition((e=>{const t=e.coords.latitude,A=e.coords.longitude;this.createMapComponent(t,A)}),(e=>{console.error("Geolocation error:",e.message),this.createMapComponent(52.0907,5.1214)}))}catch(e){console.error("Error setting up iframe component:",e.message);const t=52.0907,A=5.1214;this.createMapComponent(t,A)}},new((n=void 0)||(n=Promise))((function(e,r){function o(e){try{a(i.next(e))}catch(e){r(e)}}function s(e){try{a(i.throw(e))}catch(e){r(e)}}function a(t){var A;t.done?e(t.value):(A=t.value,A instanceof n?A:new n((function(e){e(A)}))).then(o,s)}a((i=i.apply(t,A||[])).next())}));var t,A,n,i}createMapComponent(e,t){var A;const n=`https://www.google.com/maps/embed/v1/view?key=AIzaSyBBaQo7_sF2xk3uNIyKp_Z-4BbaTebGGa4&center=${e},${t}&zoom=18`,i=this.editor.addComponents(`\n      <div ${B} id="frame-container" style="position: relative; width: 100%; height: 100vh; overflow: hidden;">\n        <div ${B} id="map-preloader" style="position: absolute; top: 50%; left: 50%; transform: translate(-50%, -50%); z-index: 1000;">\n          <img ${B} src="/Resources/UCGrapes/public/images/spinner.gif" width="32" height="32" alt="Loading...">\n        </div>\n        <iframe \n          id="map-frame"\n          src="${n}"\n          width="100%"\n          height="100%"\n          frameborder="0"\n          allowfullscreen="true"\n          loading="lazy"\n          ${B}\n          style="display: block; border: none; height: 100vh;">\n        </iframe>\n      </div>\n    `)[0],r=null===(A=i.find("#map-frame")[0])||void 0===A?void 0:A.getEl();r&&(r.onload=()=>{const e=i.find("#map-preloader")[0];e&&(e.getEl().style.display="none")}),setTimeout((()=>{const e=i.find("#map-preloader")[0];e&&(e.getEl().style.display="none")}),2e3)}}class Ua{constructor(e){this.editor=e}initialise(e){return t=this,A=void 0,i=function*(){try{this.editor.DomComponents.clear(),this.editor.DomComponents.addType("object",{isComponent:e=>"OBJECT"===e.tagName,model:{defaults:{tagName:"object",draggable:!0,droppable:!1,attributes:{width:"100%",height:"300vh"},styles:"\n                  .form-frame-container {\n                    overflow-x: hidden;\n                    overflow-y: auto;\n                    position: relative;\n                    min-height: 300px;\n                  }\n      \n                  /* Preloader styles */\n                  .preloader-wrapper {\n                    position: absolute;\n                    top: 50%;\n                    left: 50%;\n                    transform: translate(-50%, -50%);\n                    z-index: 1000;\n                  }\n      \n                  .preloader {\n                    width: 32px;\n                    height: 32px;\n                    background-image: url('/Resources/UCGrapes/public/images/spinner.gif');\n                    background-size: contain;\n                    background-repeat: no-repeat;\n                  }\n      \n                  /* Custom scrollbar styles */\n                  .form-frame-container::-webkit-scrollbar {\n                    width: 6px;\n                    height: 0;\n                  }\n      \n                  .form-frame-container::-webkit-scrollbar-track {\n                    background: #f1f1f1;\n                    border-radius: 3px;\n                  }\n      \n                  .form-frame-container::-webkit-scrollbar-thumb {\n                    background: #888;\n                    border-radius: 3px;\n                  }\n      \n                  .form-frame-container::-webkit-scrollbar-thumb:hover {\n                    background: #555;\n                  }\n      \n                  /* Firefox scrollbar styles */\n                  .form-frame-container {\n                    scrollbar-width: thin;\n                    scrollbar-color: #888 #f1f1f1;\n                  }\n                  .fallback-message {\n                    margin-bottom: 10px;\n                    color: #666;\n                  }\n                "}},view:{onRender({el:e,model:t}){const A=`\n                  <div class="fallback-content">\n                    <p class="fallback-message">${t.get("attributes").fallbackMessage||"Content cannot be displayed"}</p>\n                    <a href="${t.get("attributes").data}" \n                       target="_blank" \n                       class="fallback-link">\n                      Open in New Window\n                    </a>\n                  </div>\n                `;e.insertAdjacentHTML("beforeend",A),e.addEventListener("load",(()=>{const t=e.closest(".form-frame-container").querySelector(".preloader-wrapper");t&&(t.style.display="none"),e.querySelector(".fallback-content").style.display="none";const A=e.contentDocument;window.DynamicForm=A;const n=A.querySelectorAll(".MobileSubmitBtn");window.DynamicFormSubmitButtons=n,n.forEach((e=>{e.style.backgroundColor=window.DynamicFormSubmitButtonColor,e.style.border="0px"}));const i=A.querySelectorAll(".fileinput-button");window.DynamicFormFileInputButtons=i,i.forEach((e=>{e.style.backgroundColor=window.DynamicFormSubmitButtonColor,e.style.fontWeight="normal",e.style.fontSize="14px",e.style.fontStyle="normal",e.style.border="0px",e.style.borderRadius="4px"}));const r=A.querySelectorAll(".TableStepBulletSelected");window.DynamicFormstepNumberBulletSelecteds=r,r.forEach((e=>{e.style.backgroundColor=window.DynamicFormSubmitButtonColor}));const o=A.querySelectorAll(".TableStepBulletChecked");window.DynamicFormtableStepBulletCheckeds=o,o.forEach((e=>{e.style.backgroundColor=window.DynamicFormSubmitButtonColor}));let s=A.querySelectorAll(".NxtWzdBtn");window.DynamicFormWizardNext=s;let a=A.querySelectorAll(".PrevWzdBtn");window.DynamicFormWizardPrevious=a,A.querySelectorAll(".CellWizardActions").forEach((e=>{const t=new MutationObserver((e=>{e.forEach((e=>{"attributes"===e.type?console.log("Actions Attribute changed:",e.attributeName):"childList"===e.type?console.log("Actions Child elements changed"):"characterData"===e.type&&console.log("Actions Text content changed");let t=A.querySelectorAll(".NxtWzdBtn");window.DynamicFormWizardNext=t,t.forEach((e=>{e.style.backgroundColor=window.DynamicFormSubmitButtonColor,e.style.border="0px"}));let n=A.querySelectorAll(".PrevWzdBtn");window.DynamicFormWizardPrevious=n,n.forEach((e=>{e.style.backgroundColor=window.DynamicFormSubmitButtonColor,e.style.border="0px"}))}))}));t.observe(e,{attributes:!0,childList:!0,characterData:!0,subtree:!0})})),A.querySelectorAll(".WizardStepsCell").forEach((e=>{const t=new MutationObserver((e=>{e.forEach((e=>{"attributes"===e.type?console.log("Steps Attribute changed:",e.attributeName):"childList"===e.type?console.log("Steps Child elements changed"):"characterData"===e.type&&console.log("Steps Text content changed");const t=A.querySelectorAll(".TableStepBulletSelected");window.DynamicFormstepNumberBulletSelecteds=t,t.forEach((e=>{e.style.backgroundColor=window.DynamicFormSubmitButtonColor}));const n=A.querySelectorAll(".TableStepBulletChecked");window.DynamicFormtableStepBulletCheckeds=n,n.forEach((e=>{e.style.backgroundColor=window.DynamicFormSubmitButtonColor}));const i=A.querySelectorAll(".fileinput-button");window.DynamicFormFileInputButtons=i,i.forEach((e=>{e.style.backgroundColor=window.DynamicFormSubmitButtonColor,e.style.fontWeight="normal",e.style.fontSize="14px",e.style.fontStyle="normal",e.style.border="0px",e.style.borderRadius="4px"}))}))}));t.observe(e,{attributes:!0,childList:!0,characterData:!0,subtree:!0})}))})),e.addEventListener("error",(t=>{const A=e.closest(".form-frame-container").querySelector(".preloader-wrapper");A&&(A.style.display="none");const n=e.querySelector(".fallback-content");n&&(n.style.display="flex",n.style.flexDirection="column",n.style.justifyContent="start")}))}}}),this.editor.setComponents(`\n            <div class="form-frame-container" id="frame-container">\n              <div class="preloader-wrapper">\n                <div class="preloader"></div>\n              </div>\n              <object \n                data="${e}"\n                type="text/html"\n                width="100%"\n                height="800px"\n                fallbackMessage="Unable to load the content. Please try opening it in a new window.">\n              </object>\n            </div>\n          `)}catch(e){console.error("Error setting up object component:",e.message)}},new((n=void 0)||(n=Promise))((function(e,r){function o(e){try{a(i.next(e))}catch(e){r(e)}}function s(e){try{a(i.throw(e))}catch(e){r(e)}}function a(t){var A;t.done?e(t.value):(A=t.value,A instanceof n?A:new n((function(e){e(A)}))).then(o,s)}a((i=i.apply(t,A||[])).next())}));var t,A,n,i}}class xa{constructor(e,t,A=!1){this.pageId=e,this.pageData=t,this.isNewPage=A,this.themeManager=new Os,this.editorManager=new ec,this.editorEvents=new Rl}init(e){var t,A,n,i,r,o,s,a,l,c,d,u,h,p,g;let f=`gjs-${this.getEditorId()}`;this.pageTitle=null===(t=this.pageData)||void 0===t?void 0:t.PageName,this.createNewEditor(f);const m=this.editorManager.initializeGrapesEditor(f);window.app.editors[f]=m;const v=e=>{if(e){const t=e.generateHTML();m.setComponents(t),localStorage.setItem(`data-${this.pageId}`,JSON.stringify(this.pageData))}else console.error("Invalid PageType or pageData is undefined:",this.pageData)};let B;if("Menu"===(null===(A=this.pageData)||void 0===A?void 0:A.PageType)||"MyLiving"===(null===(n=this.pageData)||void 0===n?void 0:n.PageType)||"MyCare"===(null===(i=this.pageData)||void 0===i?void 0:i.PageType)||"MyService"===(null===(r=this.pageData)||void 0===r?void 0:r.PageType))B=new pa(this.pageData),v(B);else if("Information"===(null===(o=this.pageData)||void 0===o?void 0:o.PageType))B=new wa(this.pageData,this.isNewPage),v(B);else if("Location"===(null===(s=this.pageData)||void 0===s?void 0:s.PageType))new ba(m,this.pageData).setupEditor();else if("Reception"===(null===(a=this.pageData)||void 0===a?void 0:a.PageType))new Ea(m,this.pageData).setupEditor();else if("WebLink"===(null===(l=this.pageData)||void 0===l?void 0:l.PageType)||"DynamicForm"===(null===(c=this.pageData)||void 0===c?void 0:c.PageType)){const e=new Ua(m);(null===(u=null===(d=this.pageData)||void 0===d?void 0:d.PageLinkStructure)||void 0===u?void 0:u.Url)?e.initialise(this.pageData.PageLinkStructure.Url):(console.error("Missing URL for WebLink/DynamicForm page:",this.pageData),e.initialise("htps://www.example.com"))}else"Map"===(null===(h=this.pageData)||void 0===h?void 0:h.PageType)?new Qa(m).initialise(e.Action):"MyActivity"===(null===(p=this.pageData)||void 0===p?void 0:p.PageType)?new Ia(m).load():"Calendar"===(null===(g=this.pageData)||void 0===g?void 0:g.PageType)&&new ya(m).load();this.editorEvents.init(m,this.pageData,f,!1,this.isNewPage),this.editorManager.finalizeEditorSetup(m),this.themeManager.applyTheme(this.themeManager.currentTheme),this.updatePositions()}createNewEditor(e){const t=document.getElementById("child-container");new Jl(e,!1,this.pageData,this.pageTitle,this.isNewPage).render(t)}getEditorId(){let e=0;return document.querySelectorAll(".mobile-frame").forEach((t=>{e++})),e}refreshPage(){}addImageContent(e){const t=e.DomComponents.getWrapper().find(".content-page-wrapper");t.length>0&&t[0].append(`\n      <img ${y} id="${Ne(5)}" data-gjs-type="product-service-image" draggable="true" src="https://plus.unsplash.com/premium_photo-1686949554005-78d1370ab4f3?w=500&auto=format&fit=crop&q=60&ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxmZWF0dXJlZC1waG90b3MtZmVlZHw2fHx8ZW58MHx8fHx8" alt="Product Service Image" class="content-page-block">\n      `)}addDescriptionContent(e){const t=e.DomComponents.getWrapper().find(".content-page-wrapper");t.length>0&&t[0].append(`\n      <div ${y} id="${Ne(5)}" data-gjs-type="product-service-description" draggable="true" class="content-page-block">\n          lorem ipsum dolor sit amet consectetur adipiscing elit sed do eiusmod tempor incididunt ut labore et dolore magna aliqua\n      </div>\n      `)}updateFrame(){this.editorEvents.removeOtherEditors(),this.editorEvents.activateNavigators()}updatePositions(){const e=document.getElementById("child-container");e.scrollLeft=e.scrollWidth-e.clientWidth,e.style.justifyContent="right"}}var Fa=function(e,t,A,n){return new(A||(A=Promise))((function(i,r){function o(e){try{a(n.next(e))}catch(e){r(e)}}function s(e){try{a(n.throw(e))}catch(e){r(e)}}function a(e){var t;e.done?i(e.value):(t=e.value,t instanceof A?t:new A((function(e){e(t)}))).then(o,s)}a((n=n.apply(e,t||[])).next())}))};class Ta{constructor(){this.appVersionManager=new h,this.toolboxService=new s}attachNewServiceToTile(e){return Fa(this,void 0,void 0,(function*(){const t=(yield this.toolboxService.getServices()).find((t=>t.ProductServiceId==e));if(t){const A={PageId:e,PageName:t.ProductServiceName,TileName:t.ProductServiceTileName,PageType:"Content"};this.attachToTile(A,"Content",Me.t("sidebar.action_list.services"));const n=document.getElementById("menu-page-section"),i=document.getElementById("content-page-section");n&&(n.style.display="block"),i&&i.remove()}}))}attachToTile(e,t,A){return Fa(this,arguments,void 0,(function*(e,t,A,n=!1){var i;const r=globalThis.selectedComponent;if(!r)return;r.find(".tile-title")[0];const o=r.parent().getId(),s=r.parent().parent().getId();if(globalThis.currentPageId===e.PageId)return void new a("error",Me.t("messages.error.page_linking"));const l=[["Action.ObjectType",`${t}`],["Action.ObjectId",e.PageId]];let c;if("Information"===globalThis.pageData.PageType){const e=new hl;if(r.is("info-cta-section"));else if(r.parent().parent().is("info-tiles-section")){for(const[t,A]of l)e.updateInfoTileAttributes(r.parent().parent().getId(),r.parent().getId(),t,A);const t=globalThis.infoContentMapper.getInfoContent(s);c=null===(i=null==t?void 0:t.Tiles)||void 0===i?void 0:i.find((e=>e.Id===o))}}else{for(const[e,t]of l)globalThis.tileMapper.updateTile(o,e,t);c=globalThis.tileMapper.getTile(s,o)}const d=yield this.appVersionManager.getActiveVersion();this.attachPage(e,d,c,n),r&&c&&new Bl(r,c).setTileAttributes()}))}attachPage(e,t,A,n){const i=e.PageId,r=(null==t?void 0:t.Pages.find((e=>e.PageId===i)))||null;this.removeOtherEditors(),r?new xa(e.PageId,r,n).init(A):this.toolboxService.createServicePage(t.AppVersionId,i).then((e=>{new xa(e.ContentPage.PageId,e.ContentPage).init(A)}))}removeOtherEditors(){(new Rl).removeOtherEditors(),(new Rl).activateNavigators()}updateActionProperty(e,t){const A=document.querySelector("#sidebar_select_action_label");A&&(A.innerText=`${e}, ${t.length>10?t.substring(0,10)+"...":t}`)}}class La{constructor(e){this.activeFilter=null,this.debugResults=e,this.container=document.createElement("div"),this.container.classList.add("tb_debug_dashboard")}debugSummary(){var e,t,A;if(!this.debugResults||!this.debugResults.Summary||!this.debugResults.Pages||0===this.debugResults.Pages.length){const e=document.createElement("div");return e.classList.add("tb_debug_no_results"),e.innerHTML=`\n                <h3>${Me.t("navbar.debug.no_results")}</h3>\n                <p>${Me.t("navbar.debug.no_results_message")}</p>\n            `,e}const n=document.createElement("div");n.classList.add("tb_debug_summary");const i=this.createSummaryItem(null===(e=this.debugResults)||void 0===e?void 0:e.Summary.TotalUrls,`${Me.t("navbar.debug.total_urls")}`,!0),r=this.createSummaryItem(null===(t=this.debugResults)||void 0===t?void 0:t.Summary.SuccessCount,`${Me.t("navbar.debug.total_successful")}`),o=this.createSummaryItem(null===(A=this.debugResults)||void 0===A?void 0:A.Summary.FailureCount,`${Me.t("navbar.debug.total_failed")}`);return n.appendChild(i),n.appendChild(r),n.appendChild(o),n}createSummaryItem(e,t,A=!1){const n=document.createElement("div");return n.classList.add("tb_debug_summary_item"),A&&n.classList.add("active"),n.innerHTML=`\n            <h3>${parseFloat(e).toString()}</h3>\n            <p>${t}</p>\n        `,n.addEventListener("click",(()=>{this.container.querySelectorAll(".tb_debug_summary_item").forEach((e=>e.classList.remove("active"))),n.classList.add("active"),this.activeFilter=t===`${Me.t("navbar.debug.total_urls")}`?null:t,this.filterPageSections()})),n}filterPageSections(){this.debugResults&&this.debugResults.Pages&&0!==this.debugResults.Pages.length&&this.container.querySelectorAll(".tb_debug_page-section").forEach((e=>{const t=e.querySelector(".tb_debug_url-list");if(!t)return;const A=t.querySelectorAll(".tb_debug_url-item");let n=!1;A.forEach((e=>{const t=e.querySelector(".tb_debug_url-status"),A=this.shouldShowUrlItem(t);e.classList.toggle("hidden",!A),A&&(n=!0)})),e.classList.toggle("hidden",!n)}))}shouldShowUrlItem(e){var t,A;return!e||null===this.activeFilter||(this.activeFilter===`${Me.t("navbar.debug.total_successful")}`?e.classList.contains("tb_debug_status-200"):this.activeFilter!==`${Me.t("navbar.debug.total_failed")}`||Number(null===(t=e.textContent)||void 0===t?void 0:t.split(" ")[0])>=400||0==Number(null===(A=e.textContent)||void 0===A?void 0:A.split(" ")[0]))}debugPageSections(){if(!this.debugResults||!this.debugResults.Pages||0===this.debugResults.Pages.length)return document.createElement("div");const e=document.createElement("div");return e.classList.add("tb_debug_page-sections"),this.debugResults.Pages.forEach((t=>{const A=this.debugPageSection(t);e.appendChild(A)})),e}debugPageSection(e){const t=document.createElement("div");t.classList.add("tb_debug_page-section");const A=document.createElement("div");A.classList.add("tb_debug_page-title"),A.innerText=e.Page,t.appendChild(A);const n=this.createUrlList(e.UrlList);return t.appendChild(n),t}createUrlList(e){const t=document.createElement("div");return t.classList.add("tb_debug_url-list"),e.forEach(((e,A)=>{const n=this.createUrlItem(e);t.appendChild(n)})),t}createUrlItem(e){const t=document.createElement("div");return t.classList.add("tb_debug_url-item"),t.innerHTML=`\n            <details>\n                <summary class="tb_debug_url-header">\n                    <div class="tb_debug_url-text">${Oe(e.Url,70)}</div>\n                    <div class="tb_debug_url-status tb_debug_status-${e.StatusCode}">${e.StatusCode} ${Oe(e.StatusMessage,10)}</div>\n                </summary>\n                <div class="tb_debug_details-content">\n                    <strong>${Me.t("navbar.debug.full_url")}:</strong> ${e.Url}\n                    <br><strong>${Me.t("navbar.debug.status_code")}:</strong> ${e.StatusCode}\n                    <br><strong>${Me.t("navbar.debug.status_message")}:</strong> ${e.StatusMessage}\n                    ${e.StatusCode>=400||0==e.StatusCode?`${this.getAffectedTiles(e)}`:""}\n                </div>\n            </details>\n        `,t}getAffectedTiles(e){return"Tile"===e.AffectedType?`<br><strong>${Me.t("navbar.debug.affected_tile")}:</strong> <div class="tb_debug-badge">${e.AffectedName}</div>`:"Cta"===e.AffectedType?`<br><strong>${Me.t("navbar.debug.affected_cta")}: </strong><div class="tb_debug-badge">${e.AffectedName}</div>`:"Content"===e.AffectedType?`<br><strong>${Me.t("navbar.debug.affected_content")}: </strong><div class="tb_debug-badge">${e.AffectedName}</div>`:""}buildDebugUI(){if(this.debugResults&&this.debugResults.Summary&&this.debugResults.Pages&&0!==this.debugResults.Pages.length)this.container.appendChild(this.debugSummary()),this.container.appendChild(this.debugPageSections()),this.filterPageSections();else{const e=document.createElement("div");e.classList.add("tb_debug_empty_state"),e.innerHTML='\n                <div class="tb_debug_empty_icon">โ๏ธ</div>\n                <h3>No Debug Results Available</h3>\n                <p>There are no debug results to display. Please run a debug scan first.</p>\n            ',this.container.appendChild(e)}return this.container}}var Sa=function(e,t,A,n){return new(A||(A=Promise))((function(i,r){function o(e){try{a(n.next(e))}catch(e){r(e)}}function s(e){try{a(n.throw(e))}catch(e){r(e)}}function a(e){var t;e.done?i(e.value):(t=e.value,t instanceof A?t:new A((function(e){e(t)}))).then(o,s)}a((n=n.apply(e,t||[])).next())}))};class Ha{constructor(){this.appVersions=new h}init(){return Sa(this,void 0,void 0,(function*(){const e=yield this.getUrls();console.log("Page URLs to debug:",e),this.debugProcess(e)}))}debugProcess(e){return Sa(this,void 0,void 0,(function*(){let t;try{const A=new s,n=yield A.debugApp(e);n&&(t=n.DebugResults)}catch(e){console.error(e)}finally{this.displayResults(t)}}))}getUrls(){return Sa(this,void 0,void 0,(function*(){var e,t,A,n,i,r,o,s,a,l;let c=[];const d=yield this.appVersions.getActiveVersion(),u=null==d?void 0:d.Pages;for(const d of u){let h=[];const p=null===(e=d.PageMenuStructure)||void 0===e?void 0:e.Rows;if(p)for(const e of p){const A=e.Tiles;if(A)for(const e of A)(null===(t=e.Action)||void 0===t?void 0:t.ObjectUrl)&&h.push({url:e.Action.ObjectUrl,affectedType:"Tile",affectedName:e.Name||"Unnamed Tile"}),e.BGImageUrl&&h.push({url:e.BGImageUrl,affectedType:"Tile",affectedName:e.Name||"Unnamed Tile"})}const g=null===(A=d.PageInfoStructure)||void 0===A?void 0:A.InfoContent;if(g)for(const e of g){if("Image"===e.InfoType&&e.Images){const t=e.Images;for(const A of t)h.push({url:A.InfoImageValue||"",affectedType:"Content",affectedName:e.InfoType||"Unnamed Content"})}"Cta"===e.InfoType&&e.CtaAttributes&&(null===(n=e.CtaAttributes)||void 0===n?void 0:n.CtaButtonImgUrl)&&(h.push({url:null===(i=e.CtaAttributes)||void 0===i?void 0:i.CtaButtonImgUrl,affectedType:"Cta",affectedName:e.InfoType||"Unnamed Cta"}),!(null===(r=e.CtaAttributes)||void 0===r?void 0:r.CtaAction)||"WebLink"!==(null===(o=e.CtaAttributes)||void 0===o?void 0:o.CtaType)&&"Form"!==(null===(s=e.CtaAttributes)||void 0===s?void 0:s.CtaType)||h.push({url:null===(a=e.CtaAttributes)||void 0===a?void 0:a.CtaAction,affectedType:"Cta",affectedName:e.InfoType||"Unnamed Cta"})),"TileRow"===e.InfoType&&e.Tiles&&(null===(l=e.Tiles)||void 0===l||l.forEach((e=>{var t;(null===(t=e.Action)||void 0===t?void 0:t.ObjectUrl)&&h.push({url:e.Action.ObjectUrl,affectedType:"Tile",affectedName:e.Name||"Unnamed Tile"}),e.BGImageUrl&&h.push({url:e.BGImageUrl,affectedType:"Tile",affectedName:e.Name||"Unnamed Tile"})})))}h.length>0&&c.push({page:d.PageName||`Page-${u.indexOf(d)+1}`,urls:h})}return c}))}displayResults(e){const t=new La(e),A=document.getElementById("tb-debugging");A&&(A.innerHTML="",A.appendChild(t.buildDebugUI()))}}var Ma=function(e,t,A,n){return new(A||(A=Promise))((function(i,r){function o(e){try{a(n.next(e))}catch(e){r(e)}}function s(e){try{a(n.throw(e))}catch(e){r(e)}}function a(e){var t;e.done?i(e.value):(t=e.value,t instanceof A?t:new A((function(e){e(t)}))).then(o,s)}a((n=n.apply(e,t||[])).next())}))};class ka{constructor(){this.appVersionController=new d,this.toolboxManager=new cl}createButton(e,t,A){const n=document.createElement("button");return n.id=e,n.classList.add("tb-btn",t),n.innerText=A,n}openShareLinkModal(){return Ma(this,void 0,void 0,(function*(){try{const e=this.createModalContent(),t=new l({title:Me.t("navbar.share.modal_title"),width:"500px",body:e});t.open(),this.setupModalEventListeners(e,t)}catch(e){console.error("Error opening share link modal:",e)}}))}createModalContent(){const e=document.createElement("div"),t=document.createElement("p");t.innerText=Me.t("navbar.share.modal_description");const A=this.createLinkSection(),n=this.createSubmitSection(A);return e.appendChild(t),e.appendChild(A),e.appendChild(n),e}createLinkSection(){const e=document.createElement("div");e.classList.add("share-link-body"),e.style.display="flex",e.style.flexDirection="column",e.style.padding="10px";const t=document.createElement("a");return t.target="_blank",t.style.overflowWrap="break-word",t.style.maxWidth="100%",this.populateLinkAsync(t),e.appendChild(t),e}populateLinkAsync(e){return Ma(this,void 0,void 0,(function*(){try{const t=yield this.appVersionController.generateShareLink();e.href=t,e.innerText=t}catch(t){e.innerText="Failed to generate link",e.href="#"}}))}createSubmitSection(e){const t=document.createElement("div");t.classList.add("popup-footer"),t.style.marginBottom="-12px";const A=this.createButton("copy-link","tb-btn-primary",Me.t("navbar.share.copy")),n=this.createButton("cancel","tb-btn-outline",Me.t("navbar.share.close"));return t.appendChild(A),t.appendChild(n),t}setupModalEventListeners(e,t){const A=e.querySelector("a"),n=e.querySelector("#copy-link"),i=e.querySelector("#cancel");n&&A&&n.addEventListener("click",(e=>Ma(this,void 0,void 0,(function*(){e.preventDefault(),A.href&&((yield this.appVersionController.copyToClipboard(A.href))?setTimeout((()=>{t.close(),this.toolboxManager.openToastMessage(Me.t("navbar.share.copied"))}),500):(t.close(),console.error("Failed to copy link")))})))),i&&i.addEventListener("click",(e=>{e.preventDefault(),t.close()}))}}Math.pow(10,8);const Pa=43200,Na=Symbol.for("constructDateFrom");function Da(e,t){return"function"==typeof e?e(t):e&&"object"==typeof e&&Na in e?e[Na](t):e instanceof Date?new e.constructor(t):new Date(t)}const Oa={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}};function _a(e){return(t={})=>{const A=t.width?String(t.width):e.defaultWidth;return e.formats[A]||e.formats[e.defaultWidth]}}const Va={date:_a({formats:{full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},defaultWidth:"full"}),time:_a({formats:{full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},defaultWidth:"full"}),dateTime:_a({formats:{full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},defaultWidth:"full"})},$a={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"};function ja(e){return(t,A)=>{let n;if("formatting"===(A?.context?String(A.context):"standalone")&&e.formattingValues){const t=e.defaultFormattingWidth||e.defaultWidth,i=A?.width?String(A.width):t;n=e.formattingValues[i]||e.formattingValues[t]}else{const t=e.defaultWidth,i=A?.width?String(A.width):e.defaultWidth;n=e.values[i]||e.values[t]}return n[e.argumentCallback?e.argumentCallback(t):t]}}function Ka(e){return(t,A={})=>{const n=A.width,i=n&&e.matchPatterns[n]||e.matchPatterns[e.defaultMatchWidth],r=t.match(i);if(!r)return null;const o=r[0],s=n&&e.parsePatterns[n]||e.parsePatterns[e.defaultParseWidth],a=Array.isArray(s)?function(e){for(let t=0;t<e.length;t++)if(e[t].test(o))return t}(s):function(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t)&&e[t].test(o))return t}(s);let l;return l=e.valueCallback?e.valueCallback(a):a,l=A.valueCallback?A.valueCallback(l):l,{value:l,rest:t.slice(o.length)}}}var Ra;const qa={code:"en-US",formatDistance:(e,t,A)=>{let n;const i=Oa[e];return n="string"==typeof i?i:1===t?i.one:i.other.replace("{{count}}",t.toString()),A?.addSuffix?A.comparison&&A.comparison>0?"in "+n:n+" ago":n},formatLong:Va,formatRelative:(e,t,A,n)=>$a[e],localize:{ordinalNumber:(e,t)=>{const A=Number(e),n=A%100;if(n>20||n<10)switch(n%10){case 1:return A+"st";case 2:return A+"nd";case 3:return A+"rd"}return A+"th"},era:ja({values:{narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},defaultWidth:"wide"}),quarter:ja({values:{narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},defaultWidth:"wide",argumentCallback:e=>e-1}),month:ja({values:{narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},defaultWidth:"wide"}),day:ja({values:{narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},defaultWidth:"wide"}),dayPeriod:ja({values:{narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},defaultWidth:"wide",formattingValues:{narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},defaultFormattingWidth:"wide"})},match:{ordinalNumber:(Ra={matchPattern:/^(\d+)(th|st|nd|rd)?/i,parsePattern:/\d+/i,valueCallback:e=>parseInt(e,10)},(e,t={})=>{const A=e.match(Ra.matchPattern);if(!A)return null;const n=A[0],i=e.match(Ra.parsePattern);if(!i)return null;let r=Ra.valueCallback?Ra.valueCallback(i[0]):i[0];return r=t.valueCallback?t.valueCallback(r):r,{value:r,rest:e.slice(n.length)}}),era:Ka({matchPatterns:{narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},defaultMatchWidth:"wide",parsePatterns:{any:[/^b/i,/^(a|c)/i]},defaultParseWidth:"any"}),quarter:Ka({matchPatterns:{narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},defaultMatchWidth:"wide",parsePatterns:{any:[/1/i,/2/i,/3/i,/4/i]},defaultParseWidth:"any",valueCallback:e=>e+1}),month:Ka({matchPatterns:{narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},defaultMatchWidth:"wide",parsePatterns:{narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},defaultParseWidth:"any"}),day:Ka({matchPatterns:{narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},defaultMatchWidth:"wide",parsePatterns:{narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},defaultParseWidth:"any"}),dayPeriod:Ka({matchPatterns:{narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},defaultMatchWidth:"any",parsePatterns:{any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},defaultParseWidth:"any"})},options:{weekStartsOn:0,firstWeekContainsDate:1}};let Ga={};function Wa(e,t){return Da(t||e,e)}function Za(e){const t=Wa(e),A=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));return A.setUTCFullYear(t.getFullYear()),+e-+A}function za(e,...t){const A=Da.bind(null,e||t.find((e=>"object"==typeof e)));return t.map(A)}function Ja(e,t){const A=+Wa(e)-+Wa(t);return A<0?-1:A>0?1:A}function Xa(e,t){const A=Wa(e,t?.in);return+function(e,t){const A=Wa(e,t?.in);return A.setHours(23,59,59,999),A}(A,t)==+function(e,t){const A=Wa(e,t?.in),n=A.getMonth();return A.setFullYear(A.getFullYear(),n+1,0),A.setHours(23,59,59,999),A}(A,t)}function Ya(e,t,A){const[n,i,r]=za(A?.in,e,e,t),o=Ja(i,r),s=Math.abs(function(e,t,A){const[n,i]=za(A?.in,e,t);return 12*(n.getFullYear()-i.getFullYear())+(n.getMonth()-i.getMonth())}(i,r));if(s<1)return 0;1===i.getMonth()&&i.getDate()>27&&i.setDate(30),i.setMonth(i.getMonth()-o*s);let a=Ja(i,r)===-o;Xa(n)&&1===s&&1===Ja(n,r)&&(a=!1);const l=o*(s-+a);return 0===l?0:l}function el(e,t,A){const n=function(e,t){return+Wa(e)-+Wa(t)}(e,t)/1e3;return(i=A?.roundingMethod,e=>{const t=(i?Math[i]:Math.trunc)(e);return 0===t?0:t})(n);var i}function tl(e,t){return function(e,t,A){const n=Ga,i=A?.locale??n.locale??qa,r=Ja(e,t);if(isNaN(r))throw new RangeError("Invalid time value");const o=Object.assign({},A,{addSuffix:A?.addSuffix,comparison:r}),[s,a]=za(A?.in,...r>0?[t,e]:[e,t]),l=el(a,s),c=(Za(a)-Za(s))/1e3,d=Math.round((l-c)/60);let u;if(d<2)return A?.includeSeconds?l<5?i.formatDistance("lessThanXSeconds",5,o):l<10?i.formatDistance("lessThanXSeconds",10,o):l<20?i.formatDistance("lessThanXSeconds",20,o):l<40?i.formatDistance("halfAMinute",0,o):l<60?i.formatDistance("lessThanXMinutes",1,o):i.formatDistance("xMinutes",1,o):0===d?i.formatDistance("lessThanXMinutes",1,o):i.formatDistance("xMinutes",d,o);if(d<45)return i.formatDistance("xMinutes",d,o);if(d<90)return i.formatDistance("aboutXHours",1,o);if(d<1440){const e=Math.round(d/60);return i.formatDistance("aboutXHours",e,o)}if(d<2520)return i.formatDistance("xDays",1,o);if(d<Pa){const e=Math.round(d/1440);return i.formatDistance("xDays",e,o)}if(d<86400)return u=Math.round(d/Pa),i.formatDistance("aboutXMonths",u,o);if(u=Ya(a,s),u<12){const e=Math.round(d/Pa);return i.formatDistance("xMonths",e,o)}{const e=u%12,t=Math.trunc(u/12);return e<3?i.formatDistance("aboutXYears",t,o):e<9?i.formatDistance("overXYears",t,o):i.formatDistance("almostXYears",t+1,o)}}(e,function(e){return Da(e,Date.now())}(e),t)}class Al{constructor(e){this.validateFn=e.validate,this.formField=document.createElement("div"),this.formField.className="form-field",this.formField.style.marginBottom="10px",e.hidden&&(this.formField.style.display="none");const t=document.createElement("label");e.label&&(t.htmlFor=e.id,t.textContent=e.label);const A=document.createElement("input");A.type=e.type,A.id=e.id,A.className="tb-form-control",A.value=e.value||"",e.placeholder&&(A.placeholder=e.placeholder),e.required&&(A.required=!0);const n=document.createElement("span");n.className="error-message",n.style.cssText="\n            color: red;\n            font-size: 12px;\n            display: none;\n            margin-top: 5px;\n            font-weight: 300;\n        ",n.textContent=e.errorMessage||"Error message",e.label&&this.formField.appendChild(t),this.formField.appendChild(A),this.formField.appendChild(n)}getElement(){return this.formField}showError(e){const t=this.formField.querySelector(".error-message");t.style.display="block",e&&(t.textContent=e)}hideError(){this.formField.querySelector(".error-message").style.display="none"}validate(){const e=this.formField.querySelector("input");if(this.validateFn)return this.validateFn(e.value);{const t=e.checkValidity();return t?this.hideError():this.showError(e.validationMessage||"Invalid input"),t}}}class nl{constructor(e){this.selectedSupplierId=null,this.form=document.createElement("form"),this.form.id=e,this.fields=[]}addField(e){const t=new Al(e);return this.fields.push(t),this.form.appendChild(t.getElement()),t}render(e){e.appendChild(this.form)}setSelectedSupplierId(e){this.selectedSupplierId=e}getSelectedSupplierId(){return this.selectedSupplierId}getData(){const e={};return this.fields.forEach((t=>{const A=t.getElement().querySelector("input");e[A.id]=A.value})),this.selectedSupplierId&&(e.supplier_id=this.selectedSupplierId),e}}var il=function(e,t,A,n){return new(A||(A=Promise))((function(i,r){function o(e){try{a(n.next(e))}catch(e){r(e)}}function s(e){try{a(n.throw(e))}catch(e){r(e)}}function a(e){var t;e.done?i(e.value):(t=e.value,t instanceof A?t:new A((function(e){e(t)}))).then(o,s)}a((n=n.apply(e,t||[])).next())}))};class rl{constructor(){this.versionController=new d,this.container=document.createElement("div"),this.selectionDiv=document.createElement("div"),this.versionSelection=document.createElement("div"),this.versionList=document.createElement("div"),this.activeVersion=document.createElement("span"),this.appVersions=[],this.init(),document.addEventListener("click",this.handleOutsideClick.bind(this))}init(){this.container.classList.add("tb-custom-theme-selection");const e=this.createSelectionButton();this.selectionDiv.appendChild(e),this.container.appendChild(this.selectionDiv),this.initializeVersionOptions()}createSelectionButton(){const e=document.createElement("button");return e.classList.add("theme-select-button"),e.setAttribute("aria-haspopup","listbox"),this.activeVersion.classList.add("selected-theme-value"),this.activeVersion.textContent="Select Version",e.appendChild(this.activeVersion),e.onclick=t=>{t.preventDefault(),e.classList.contains("open")?this.closeSelection():this.toggleSelection(e)},e}toggleSelection(e){this.versionSelection.classList.toggle("show"),e.classList.toggle("open"),e.setAttribute("aria-expanded",e.classList.contains("open").toString())}initializeVersionOptions(){return il(this,void 0,void 0,(function*(){const e=this.selectionDiv.querySelector(".theme-options-list");e&&e.remove(),this.versionSelection.className="theme-options-list",this.versionSelection.setAttribute("role","listbox"),this.versionSelection.innerHTML="",this.versionList.classList.add("tb-version-list"),this.versionList.innerHTML="",this.addNewVersionButton(),this.versionSelection.appendChild(this.versionList);const t=yield this.versionController.getVersions();this.appVersions=t,t.forEach((e=>this.createVersionOption(e))),this.selectionDiv.appendChild(this.versionSelection)}))}addNewVersionButton(){const e=document.createElement("div");e.className="theme-option",e.style.justifyContent="start",e.innerHTML=`<i class="fa fa-plus"></i> &nbsp; ${Me.t("navbar.appversion.create_new")}`,e.onclick=()=>this.openVersionModal(),this.versionSelection.appendChild(e)}addTemplatesButton(){const e=document.createElement("div");e.className="theme-option",e.innerHTML="Select Templates",e.onclick=()=>{t.getInstance().addTemplatesButtonEvent()},this.versionSelection.appendChild(e)}createVersionOption(e){return il(this,void 0,void 0,(function*(){const t=document.createElement("div");t.className="theme-option submenu",t.setAttribute("role","option"),t.setAttribute("data-value",e.AppVersionName),t.textContent=Oe(e.AppVersionName,25);const A=document.createElement("div");A.className="option-buttons",t.append(A);const n=globalThis.activeVersion||(yield this.versionController.getActiveVersion()),i=e.AppVersionId===(null==n?void 0:n.AppVersionId);i&&(t.classList.add("selected"),this.activeVersion.textContent=Oe(e.AppVersionName,15)),t.addEventListener("click",(t=>this.handleVersionSelection(t,e)));const r=this.createVersionSubMenu(e,i);t.appendChild(r),this.versionList.appendChild(t)}))}createVersionSubMenu(e,t){const A=document.createElement("div");A.className="submenu-list";const n=document.createElement("div");n.classList.add("theme-option"),n.innerHTML="Duplicate",n.addEventListener("click",(t=>{t.stopPropagation(),this.openVersionModal(e.AppVersionName+" - Copy","Duplicate version","Duplicate","duplicate",e.AppVersionId)})),A.appendChild(n);const i=document.createElement("div");if(i.classList.add("theme-option"),i.innerHTML="Rename",i.addEventListener("click",(t=>{t.stopPropagation(),this.openVersionModal(e.AppVersionName,"Rename version","Rename","rename",e.AppVersionId)})),A.appendChild(i),!t){const t=document.createElement("div");t.classList.add("theme-option"),t.innerHTML="Move to Trash",t.addEventListener("click",(t=>{t.stopPropagation(),this.confirmDeleteVersion(e)})),A.appendChild(t)}return t&&(A.style.marginTop="33px"),A}confirmDeleteVersion(e){new ke("Are you sure you want to delete this version?","Delete version",(()=>il(this,void 0,void 0,(function*(){try{yield this.versionController.deleteVersion(e.AppVersionId),yield this.refreshVersionList()}catch(e){console.error("Error deleting version:",e)}})))).render(document.body)}handleVersionSelection(e,t){return il(this,void 0,void 0,(function*(){if(!e.target.closest(".submenu-list"))try{this.versionSelection.querySelectorAll(".theme-option").forEach((e=>e.classList.remove("selected"))),e.currentTarget.classList.add("selected"),this.activeVersion.textContent=Oe(t.AppVersionName,15);const A=yield this.versionController.activateVersion(t.AppVersionId);A&&this.reloadPage(A.AppVersion),this.closeSelection()}catch(e){console.error("Error activating version:",e)}}))}reloadPage(e){return il(this,void 0,void 0,(function*(){this.clearGlobalVariables(),Ac.createWithVersion(e,null==e?void 0:e.ThemeId),this.refreshVersionList()}))}clearGlobalVariables(){globalThis.selectedComponent=null,globalThis.pageData=null,globalThis.activeVersion=null,globalThis.tileMapper=null,globalThis.activeEditor=null,globalThis.currentPageId=null,globalThis.ctaContainerId=null,globalThis.frameId=null,globalThis.wrapper=null}updateTheme(e){if(!e)return;const t=document.getElementById("tb-custom-theme-selection");t&&t.querySelectorAll(".theme-option").forEach((A=>{if(A.classList.remove("selected"),A.id===e){A.classList.add("selected");const e=t.querySelector(".selected-theme-value");e&&(e.innerText=A.innerText)}}))}openVersionModal(e="",t="Create new version",A="Save",n="create",i){const r=new nl("page-form"),o=r.addField({type:"text",id:"version_name",placeholder:"Version name",required:!0,value:e,errorMessage:"",validate:e=>e.trim()?this.appVersions.some((t=>t.AppVersionName===e.trim()))?(null==o||o.showError(Me.t("messages.error.existing_version_name")),!1):e.length>50?(null==o||o.showError(Me.t("messages.error.long_version_name")),!1):(null==o||o.hideError(),!0):(null==o||o.showError(Me.t("messages.error.empty_version_name")),!1)});this.versionNameField=o;const s=document.createElement("div");r.render(s);const a=this.createSubmitSection(A);s.appendChild(a);const c=new l({title:t,width:"400px",body:s});c.open(),this.setupModalButtons(c,s,n,i)}createSubmitSection(e="Save"){const t=document.createElement("div");t.classList.add("popup-footer"),t.style.marginBottom="-12px";const A=this.createButton("submit_form","tb-btn-primary",e),n=this.createButton("cancel_form","tb-btn-secondary","Cancel");return t.appendChild(A),t.appendChild(n),t}setupModalButtons(e,t,A,n){const i=t.querySelector("#submit_form"),r=t.querySelector("#cancel_form"),o=t.querySelector("#version_name");null==o||o.addEventListener("input",(()=>{var e;return null===(e=this.versionNameField)||void 0===e?void 0:e.hideError()})),null==i||i.addEventListener("click",(t=>il(this,void 0,void 0,(function*(){var i;if(t.preventDefault(),!(null===(i=this.versionNameField)||void 0===i?void 0:i.validate()))return void o.focus();const r=o.value.trim();try{let t;switch(A){case"create":t=yield this.versionController.createVersion(r);break;case"duplicate":n&&(t=yield this.versionController.duplicateVersion(n,r));break;case"rename":n&&(t=yield this.versionController.renameVersion(n,r))}e.close(),!t||"create"!==A&&"duplicate"!==A||this.reloadPage(t.AppVersion)}catch(e){console.error(`Error during ${A} operation:`,e)}})))),null==r||r.addEventListener("click",(()=>e.close()))}createButton(e,t,A){const n=document.createElement("button");return n.id=e,n.classList.add("tb-btn",t),n.innerText=A,n}closeSelection(){if(this.versionSelection.classList.contains("show")){this.versionSelection.classList.remove("show");const e=this.container.querySelector(".theme-select-button");e.setAttribute("aria-expanded","false"),e.classList.remove("open")}}handleOutsideClick(e){this.versionSelection.classList.contains("show")&&!this.container.contains(e.target)&&this.closeSelection()}refreshVersionList(){return il(this,void 0,void 0,(function*(){this.container.innerHTML="",this.selectionDiv=document.createElement("div"),this.versionSelection=document.createElement("div"),this.versionList=document.createElement("div"),this.activeVersion=document.createElement("span"),yield this.init()}))}render(e){e.appendChild(this.container)}}var ol=function(e,t,A,n){return new(A||(A=Promise))((function(i,r){function o(e){try{a(n.next(e))}catch(e){r(e)}}function s(e){try{a(n.throw(e))}catch(e){r(e)}}function a(e){var t;e.done?i(e.value):(t=e.value,t instanceof A?t:new A((function(e){e(t)}))).then(o,s)}a((n=n.apply(e,t||[])).next())}))};class sl{constructor(){}openTrashModal(){return ol(this,void 0,void 0,(function*(){try{const e=yield this.createModalContent();new l({title:Me.t("navbar.trash.modal_title"),width:"800px",body:e}).open()}catch(e){console.error("Error opening trash modal:",e)}}))}createModalContent(){return ol(this,void 0,void 0,(function*(){const e=document.createElement("div");e.className="trash-container";const t=document.createElement("div");t.className="trash-content",e.appendChild(t);const A=this.createHeader();t.appendChild(A);const n=this.createTabs();t.appendChild(n);const i=document.createElement("div");i.className="content",t.appendChild(i);const r=yield this.createPageTabContent();r.classList.add("active"),i.appendChild(r);const o=yield this.createVersionTabContent();return i.appendChild(o),this.setupEventListeners(e),e}))}createHeader(){const e=document.createElement("div");e.className="trash-header";const t=document.createElement("div");t.className="trash-search-bar";const A=document.createElement("i");A.className="material-icons",A.innerHTML='\n        <svg width="20px" height="20px" version="1.1" id="Layer_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" \n                viewBox="0 0 32 32" enable-background="new 0 0 32 32" xml:space="preserve">\n            <circle fill="none" stroke="#000000" stroke-width="2" stroke-miterlimit="10" cx="19.5" cy="12.5" r="8.5"/>\n            <line fill="none" stroke="#000000" stroke-width="2" stroke-miterlimit="10" x1="4" y1="28" x2="14" y2="18"/>\n        </svg>\n        ',t.appendChild(A);const n=document.createElement("input");n.type="text",n.placeholder="Search in trash",t.appendChild(n),e.appendChild(t);const i=document.createElement("div");i.className="trash-action-buttons",i.id="trash-action-buttons";const r=document.createElement("button");r.className="btn btn-outline",r.id="restore-btn";const o=document.createElement("i");o.className="material-icons",o.innerHTML='<svg width="20px" height="20px" viewBox="0 0 32 32" xmlns="http://www.w3.org/2000/svg"><path d="M 15 4 C 14.478 4 13.9405 4.1845 13.5625 4.5625 C 13.1855 4.9395 13 5.478 13 6 L 13 7 L 7 7 L 7 9 L 8 9 L 8 25 C 8 26.645 9.355 28 11 28 L 23 28 C 24.645 28 26 26.645 26 25 L 26 9 L 27 9 L 27 7 L 21 7 L 21 6 C 21 5.478 20.8155 4.9405 20.4375 4.5625 C 20.0605 4.1855 19.522 4 19 4 L 15 4 z M 15 6 L 19 6 L 19 7 L 15 7 L 15 6 z M 10 9 L 24 9 L 24 25 C 24 25.555 23.555 26 23 26 L 11 26 C 10.445 26 10 25.555 10 25 L 10 9 z M 17 12 L 13 16 L 16 16 L 16 23 L 18 23 L 18 16 L 21 16 L 17 12 z"/></svg>',o.style.fontSize="18px",r.appendChild(o),r.appendChild(document.createTextNode(" Restore")),i.appendChild(r);const s=document.createElement("button");s.className="btn btn-danger",s.id="delete-forever-btn";const a=document.createElement("i");a.className="material-icons",a.innerHTML='<svg width="20px" height="20px" version="1.1" id="Layer_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px"\n                viewBox="0 0 473 473" style="enable-background:new 0 0 473 473;" xml:space="preserve" fill="#fff">\n            <g>\n                <path d="M324.285,215.015V128h20V38h-98.384V0H132.669v38H34.285v90h20v305h161.523c23.578,24.635,56.766,40,93.477,40\n                    c71.368,0,129.43-58.062,129.43-129.43C438.715,277.276,388.612,222.474,324.285,215.015z M294.285,215.015\n                    c-18.052,2.093-34.982,7.911-50,16.669V128h50V215.015z M162.669,30h53.232v8h-53.232V30z M64.285,68h250v30h-250V68z M84.285,128\n                    h50v275h-50V128z M164.285,403V128h50v127.768c-21.356,23.089-34.429,53.946-34.429,87.802c0,21.411,5.231,41.622,14.475,59.43\n                    H164.285z M309.285,443c-54.826,0-99.429-44.604-99.429-99.43s44.604-99.429,99.429-99.429s99.43,44.604,99.43,99.429\n                    S364.111,443,309.285,443z"/>\n                <polygon points="342.248,289.395 309.285,322.358 276.323,289.395 255.11,310.608 288.073,343.571 255.11,376.533 276.323,397.746 \n                    309.285,364.783 342.248,397.746 363.461,376.533 330.498,343.571 363.461,310.608 \t"/>\n            </g>\n            </svg>',s.appendChild(a),s.appendChild(document.createTextNode(" Delete forever")),i.appendChild(s),e.appendChild(i);const l=document.createElement("button");l.className="btn btn-danger",l.id="empty-trash-btn";const c=document.createElement("i");return c.className="material-icons",c.innerHTML='\n        <svg fill="#fff" width="20px" height="20px" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">\n            <path fill-rule="evenodd" d="M12,13.5857864 L14.2928932,11.2928932 L15.7071068,12.7071068 L13.4142136,15 L15.7071068,17.2928932 L14.2928932,18.7071068 L12,16.4142136 L9.70710678,18.7071068 L8.29289322,17.2928932 L10.5857864,15 L8.29289322,12.7071068 L9.70710678,11.2928932 L12,13.5857864 Z M7,4 L7,3 C7,1.8954305 7.8954305,1 9,1 L15,1 C16.1045695,1 17,1.8954305 17,3 L17,4 L20,4 C21.1045695,4 22,4.8954305 22,6 L22,8 C22,9.1045695 21.1045695,10 20,10 L19.9198662,10 L19,21 C19,22.1045695 18.1045695,23 17,23 L7,23 C5.8954305,23 5,22.1045695 5.00345424,21.0830455 L4.07986712,10 L4,10 C2.8954305,10 2,9.1045695 2,8 L2,6 C2,4.8954305 2.8954305,4 4,4 L7,4 Z M7,6 L4,6 L4,8 L20,8 L20,6 L17,6 L7,6 Z M6.08648886,10 L7,21 L17,21 L17.0034542,20.9169545 L17.9132005,10 L6.08648886,10 Z M15,4 L15,3 L9,3 L9,4 L15,4 Z"/>\n        </svg>\n        ',l.appendChild(c),l.appendChild(document.createTextNode(" Empty Trash now")),e.appendChild(l),e}createTabs(){const e=document.createElement("div");e.className="trash-tabs";const t=document.createElement("div");t.className="trash-tab active",t.dataset.tab="trash-page",t.textContent="Pages",e.appendChild(t);const A=document.createElement("div");return A.className="trash-tab",A.dataset.tab="trash-version",A.textContent="Versions",e.appendChild(A),e}createPageTabContent(){return ol(this,void 0,void 0,(function*(){const e=document.createElement("div");e.className="trash-tab-content",e.id="trash-page-tab";const t=yield this.getTrashItems();if(t&&t.TrashItems.length&&Array.isArray(t.TrashItems)){const A=t.TrashItems.filter((e=>"Page"===e.Type));A.length?A.forEach((t=>{e.appendChild(this.createListItem(t))})):e.appendChild(this.createEmptyTrashContent())}else e.appendChild(this.createEmptyTrashContent());return e}))}createVersionTabContent(){return ol(this,void 0,void 0,(function*(){const e=document.createElement("div");e.className="trash-tab-content",e.id="trash-version-tab";const t=yield this.getTrashItems();if(t&&t.TrashItems.length&&Array.isArray(t.TrashItems)){const A=t.TrashItems.filter((e=>"Version"===e.Type));A.length?A.forEach((t=>{e.appendChild(this.createListItem(t))})):e.appendChild(this.createEmptyTrashContent())}else e.appendChild(this.createEmptyTrashContent());return e}))}createListItem(e){let t="Title",A=tl(new Date,{addSuffix:!0});"Page"===e.Type?(t=e.Page.PageName,A=tl(new Date(e.DeletedAt),{addSuffix:!0})):"Version"===e.Type&&(t=e.Version.AppVersionName,A=tl(new Date(e.DeletedAt),{addSuffix:!0}));const n=document.createElement("div");n.className="trash-item";const i=document.createElement("input");i.type="checkbox",i.className="trash-checkbox",n.appendChild(i);const r=document.createElement("div");r.className="trash-sender",r.textContent=t,n.appendChild(r);const o=document.createElement("div");o.className="trash-content",n.appendChild(o);const s=document.createElement("div");return s.className="trash-time",s.textContent=A,n.appendChild(s),n.id=e.TrashId,n.setAttribute("data-type",e.Type),n}createEmptyTrashContent(){const e=document.createElement("div");e.className="empty-trash";const t=document.createElement("i");t.className="material-icons",t.innerHTML='\n            <svg fill="#cdcecf" height="50" width="50" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">\n                <path fill-rule="evenodd" d="M12,13.5857864 L14.2928932,11.2928932 L15.7071068,12.7071068 L13.4142136,15 L15.7071068,17.2928932 L14.2928932,18.7071068 L12,16.4142136 L9.70710678,18.7071068 L8.29289322,17.2928932 L10.5857864,15 L8.29289322,12.7071068 L9.70710678,11.2928932 L12,13.5857864 Z M7,4 L7,3 C7,1.8954305 7.8954305,1 9,1 L15,1 C16.1045695,1 17,1.8954305 17,3 L17,4 L20,4 C21.1045695,4 22,4.8954305 22,6 L22,8 C22,9.1045695 21.1045695,10 20,10 L19.9198662,10 L19,21 C19,22.1045695 18.1045695,23 17,23 L7,23 C5.8954305,23 5,22.1045695 5.00345424,21.0830455 L4.07986712,10 L4,10 C2.8954305,10 2,9.1045695 2,8 L2,6 C2,4.8954305 2.8954305,4 4,4 L7,4 Z M7,6 L4,6 L4,8 L20,8 L20,6 L17,6 L7,6 Z M6.08648886,10 L7,21 L17,21 L17.0034542,20.9169545 L17.9132005,10 L6.08648886,10 Z M15,4 L15,3 L9,3 L9,4 L15,4 Z"/>\n            </svg>\n        ',e.appendChild(t);const A=document.createElement("p");A.textContent="No items in trash",e.appendChild(A);const n=document.createElement("p");return n.textContent="Items in trash will be automatically deleted after 30 days",e.appendChild(n),e}setupEventListeners(e){this.setupTabSwitching(e);const t=e.querySelector("#trash-action-buttons"),A=e.querySelector("#restore-btn"),n=e.querySelector("#delete-forever-btn"),i=e.querySelector("#empty-trash-btn");this.setupItemSelection(e,t,i),A&&this.setupRestoreButton(e,A,t,i),n&&this.setupDeleteForeverButton(e,n,t,i),i&&this.setupEmptyTrashButton(e,i)}setupTabSwitching(e){e.querySelectorAll(".trash-tab").forEach((t=>{t.addEventListener("click",(()=>{e.querySelectorAll(".trash-tab").forEach((e=>e.classList.remove("active"))),e.querySelectorAll(".trash-tab-content").forEach((e=>e.classList.remove("active"))),t.classList.add("active");const A=t.getAttribute("data-tab");if(A){const t=e.querySelector(`#${A}-tab`);t&&t.classList.add("active")}}))}))}setupItemSelection(e,t,A){e.querySelectorAll(".trash-item").forEach((n=>{const i=n.querySelector(".trash-checkbox");i.addEventListener("change",(()=>{i.checked?n.classList.add("selected"):n.classList.remove("selected"),this.updateActionButtonsVisibility(e,t,A)})),n.addEventListener("click",(e=>{e.target!==i&&(i.checked=!i.checked,i.dispatchEvent(new Event("change")))}))}))}updateActionButtonsVisibility(e,t,A){const n=e.querySelectorAll(".trash-checkbox:checked");t&&A&&(n.length>0?(t.classList.add("visible"),A.style.display="none"):(t.classList.remove("visible"),A.style.display="flex"))}setupRestoreButton(e,t,A,n){t.addEventListener("click",(()=>{const t=e.querySelectorAll(".trash-checkbox:checked");t.length>0&&confirm(`Restore ${t.length} selected item(s)?`)&&(this.removeSelectedItems(t,"restore"),this.updateActionButtonsVisibility(e,A,n),(new h).refreshVersion())}))}setupDeleteForeverButton(e,t,A,n){t.addEventListener("click",(()=>{const t=e.querySelectorAll(".trash-checkbox:checked");t.length>0&&confirm(`Permanently delete ${t.length} selected item(s)? This action cannot be undone.`)&&(this.removeSelectedItems(t,"delete"),this.updateActionButtonsVisibility(e,A,n))}))}removeSelectedItems(e,t){e.forEach((e=>{const A=e.closest(".trash-item");if(A){const e=new s,n=A.getAttribute("data-type"),i=A.getAttribute("id");n&&i&&"delete"===t?(e.deleteTrashForver(n,i),A.remove()):n&&i&&"restore"===t&&(e.restoreTrash(n,i),A.remove(),(new rl).refreshVersionList(),this.createModalContent())}this.refreshTabContent()}))}refreshTabContent(){const e=document.querySelector(".trash-tab.active");if(e){const t=e.getAttribute("data-tab");if(t){const e=document.querySelector(`#${t}-tab`);e&&0===e.querySelectorAll(".trash-item").length&&(e.innerHTML="",e.appendChild(this.createEmptyTrashContent()))}}}setupEmptyTrashButton(e,t){t.addEventListener("click",(()=>{const t=e.querySelector(".trash-tab.active");if(t){const A=t.getAttribute("data-tab");if(A){const t=e.querySelector(`#${A}-tab`);if(confirm("Are you sure you want to permanently delete all items in trash?")&&t){const e=t.querySelectorAll(".trash-checkbox");e&&(this.removeSelectedItems(e,"delete"),t.innerHTML="",t.appendChild(this.createEmptyTrashContent()))}}}}))}getTrashItems(){return(new s).getTrashItems()}}class al{constructor(){this.appVersions=new h,this.debugController=new Ha,this.container=document.getElementById("navbar-buttons-left"),this.init()}init(){let e=document.createElement("button");e.innerHTML='\n        <svg xmlns="http://www.w3.org/2000/svg" width="19.043" height="21.199" viewBox="0 0 19.043 21.199">\n          <g id="debug" transform="translate(-26.101 512)">\n            <path id="Path_2337" data-name="Path 2337" d="M144.787-511.909a.7.7,0,0,0-.373.551,8.048,8.048,0,0,0,.654,2.158l.2.451-.228.248A4,4,0,0,0,144-506.45a.655.655,0,0,0,1.118.464,1,1,0,0,0,.244-.443,3.438,3.438,0,0,1,1.76-1.926,3.89,3.89,0,0,1,3.032,0,3.413,3.413,0,0,1,1.764,1.938.8.8,0,0,0,.248.443.663.663,0,0,0,1.048-.191c.224-.422-.253-1.537-1.006-2.357l-.207-.228.207-.456a6.542,6.542,0,0,0,.638-2.232.709.709,0,0,0-.663-.563.787.787,0,0,0-.555.3,3.619,3.619,0,0,0-.207.629,7.436,7.436,0,0,1-.526,1.454c-.046.066-.075.062-.356-.054a3.982,3.982,0,0,0-1.9-.323,3.972,3.972,0,0,0-1.876.311,2.461,2.461,0,0,1-.331.124,6.153,6.153,0,0,1-.63-1.694c-.079-.389-.182-.555-.41-.663A.587.587,0,0,0,144.787-511.909Z" transform="translate(-113.017)" fill="#7c8791"/>\n            <path id="Path_2338" data-name="Path 2338" d="M29.116-406.013a.83.83,0,0,0-.236.277.667.667,0,0,0-.07.48,3.714,3.714,0,0,0,1.259,2.386,1.068,1.068,0,0,1,.248.269c-.008.017-.1.191-.207.385s-.244.48-.306.634c-.1.244-.128.282-.2.257a16.882,16.882,0,0,0-2.684-.4c-.4-.012-.563.058-.729.3a.485.485,0,0,0-.083.389c.029.447.244.617.841.663a17.491,17.491,0,0,1,1.814.253c.48.091.567.12.551.178a16.06,16.06,0,0,0-.041,4.622,7.775,7.775,0,0,0,1.822,4.286,6.04,6.04,0,0,0,4.821,1.727,6.4,6.4,0,0,0,3.259-.9,6.22,6.22,0,0,0,1.537-1.52,9.364,9.364,0,0,0,1.321-4.108,21.11,21.11,0,0,0,0-3.624c-.041-.228-.083-.443-.1-.48-.017-.058.07-.087.551-.178a17.834,17.834,0,0,1,1.835-.253c.576-.046.8-.224.82-.663a.485.485,0,0,0-.083-.389c-.166-.244-.331-.315-.729-.3a16.882,16.882,0,0,0-2.684.4c-.075.025-.1-.012-.2-.257-.062-.153-.2-.439-.306-.634s-.2-.369-.207-.385a1.068,1.068,0,0,1,.248-.269,3.714,3.714,0,0,0,1.259-2.386.667.667,0,0,0-.07-.48.617.617,0,0,0-.58-.373c-.41,0-.638.232-.7.712a2.005,2.005,0,0,1-.468,1.139,3.117,3.117,0,0,1-.4.431l-.207.17-.153-.1a7.46,7.46,0,0,0-2.928-.841,10.165,10.165,0,0,0-5.5.816l-.195.128-.215-.178a3.516,3.516,0,0,1-.646-.8,2.212,2.212,0,0,1-.22-.77.7.7,0,0,0-.331-.617A.69.69,0,0,0,29.116-406.013Zm7.293,2.725a10.04,10.04,0,0,1,2.477.534,3.619,3.619,0,0,1,1.416,2.009,8.015,8.015,0,0,1,.46,2.974c-.008,3.061-.675,5.131-1.992,6.171a4.507,4.507,0,0,1-2.858.928,5.324,5.324,0,0,1-2.713-.485c-1.47-.716-2.29-2.187-2.609-4.659a20.054,20.054,0,0,1-.1-2.746c.112-1.942,1.006-3.868,1.967-4.233a11.946,11.946,0,0,1,2.477-.509A9.768,9.768,0,0,1,36.409-403.288Z" transform="translate(0 -101.502)" fill="#7c8791"/>\n            <path id="Path_2339" data-name="Path 2339" d="M194.807-327.881a.811.811,0,0,0-.447.505.724.724,0,0,0,.149.572,5.654,5.654,0,0,0,.634.431c.3.178.663.406.82.505l.277.178v4.291a34.46,34.46,0,0,0,.066,4.431.7.7,0,0,0,1.147.083l.091-.128.021-4.349.021-4.349.766-.464c.87-.53,1.015-.646,1.077-.882a.612.612,0,0,0-.182-.65.632.632,0,0,0-.663-.178c-.066.025-.472.261-.9.522l-.779.476-.779-.476C195.143-327.964,195.118-327.972,194.807-327.881Z" transform="translate(-161.281 -176.453)" fill="#7c8791"/>\n            <path id="Path_2340" data-name="Path 2340" d="M39.478-215.775c-.306.108-.447.311-.692.994a12.842,12.842,0,0,0-.435,1.739,3.47,3.47,0,0,0,.128,1.574c.058.273.124.712.149.973.062.646.012.882-.236,1.135a.756.756,0,0,0-.257.658.67.67,0,0,0,.965.493,1.891,1.891,0,0,0,.8-1.073,5.355,5.355,0,0,0-.1-2.51,2.457,2.457,0,0,1-.1-1.064,7.638,7.638,0,0,1,.58-1.976.672.672,0,0,0-.435-.961A.38.38,0,0,0,39.478-215.775Z" transform="translate(-11.53 -283.904)" fill="#7c8791"/>\n            <path id="Path_2341" data-name="Path 2341" d="M420.687-215.867a.677.677,0,0,0-.414.957,7.637,7.637,0,0,1,.58,1.976,2.457,2.457,0,0,1-.1,1.064,5.355,5.355,0,0,0-.1,2.51,1.891,1.891,0,0,0,.8,1.073.669.669,0,0,0,.969-.538.72.72,0,0,0-.282-.634c-.306-.3-.319-.87-.046-2.191a3.33,3.33,0,0,0,.1-1.479,9.7,9.7,0,0,0-.663-2.294.837.837,0,0,0-.505-.451,1,1,0,0,0-.174-.037A1.394,1.394,0,0,0,420.687-215.867Z" transform="translate(-377.776 -283.825)" fill="#7c8791"/>\n          </g>\n        </svg>\n    ',e.setAttribute("title",Me.t("navbar.debug.label")),e.classList.add("tb-icon-button"),e.addEventListener("click",(e=>{e.preventDefault(),this.initialiseDebug(),this.debugController.init()}));let t=document.createElement("button");t.setAttribute("title",Me.t("navbar.share.label")),t.innerHTML='\n        <svg xmlns="http://www.w3.org/2000/svg" width="21" height="22" viewBox="0 0 21 22">\n          <g id="share" transform="translate(21) rotate(90)" fill="#fff">\n            <path d="M 18.69462013244629 20.2500057220459 L 3.30538010597229 20.2500057220459 C 2.8575599193573 20.2500057220459 2.467750072479248 20.0302562713623 2.235919952392578 19.64711761474609 C 2.004080057144165 19.26396751403809 1.990300059318542 18.81669616699219 2.198090076446533 18.41998672485352 L 9.892709732055664 3.730276584625244 C 10.11246967315674 3.310746669769287 10.52639961242676 3.0602867603302 11 3.0602867603302 C 11.47360038757324 3.0602867603302 11.88753032684326 3.310746669769287 12.10729026794434 3.730276584625244 L 19.80191040039062 18.41999626159668 C 20.00970077514648 18.81669616699219 19.99592018127441 19.26396751403809 19.76408004760742 19.64711761474609 C 19.53224945068359 20.0302562713623 19.14244079589844 20.2500057220459 18.69462013244629 20.2500057220459 Z" stroke="none"/>\n            <path d="M 11 3.810276031494141 C 10.8870096206665 3.810276031494141 10.67922973632812 3.845096588134766 10.55708980560303 4.078277587890625 L 2.862470626831055 18.76799774169922 C 2.74867057800293 18.9852466583252 2.823099136352539 19.16877746582031 2.877599716186523 19.25883674621582 C 2.932090759277344 19.34890747070312 3.060129165649414 19.49999618530273 3.305379867553711 19.49999618530273 L 18.69462013244629 19.49999618530273 C 18.93987083435059 19.49999618530273 19.06790924072266 19.34890747070312 19.12240028381348 19.25883674621582 C 19.17689895629883 19.16877746582031 19.25132942199707 18.9852466583252 19.13752937316895 18.76799774169922 L 11.44291973114014 4.078287124633789 C 11.32077026367188 3.845096588134766 11.1129903793335 3.810276031494141 11 3.810276031494141 M 10.99999618530273 2.310276031494141 C 11.698655128479 2.310276031494141 12.39731502532959 2.667606353759766 12.77165985107422 3.382266998291016 L 20.46627998352051 18.07198715209961 C 21.16382026672363 19.40365600585938 20.19791030883789 20.99999618530273 18.69462013244629 20.99999618530273 L 3.305379867553711 20.99999618530273 C 1.802089691162109 20.99999618530273 0.8361797332763672 19.40365600585938 1.533720016479492 18.07198715209961 L 9.228340148925781 3.382266998291016 C 9.602680206298828 2.667606353759766 10.30133724212646 2.310276031494141 10.99999618530273 2.310276031494141 Z" stroke="none" fill="#7c8791"/>\n          </g>\n        </svg>\n\n    ',t.classList.add("tb-icon-button");let A=document.createElement("button");A.setAttribute("title",Me.t("navbar.trash.label")),A.innerHTML='\n    <svg version="1.1" id="Layer_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" \n      width="20" height="24" viewBox="0 0 64 64" enable-background="new 0 0 64 64" xml:space="preserve">\n      <g>\n        <polyline fill="none" stroke="#000000" stroke-width="2" stroke-miterlimit="10" points="25,8 25,1 39,1 39,8 \t"/>\n        <polyline fill="none" stroke="#000000" stroke-width="2" stroke-miterlimit="10" points="14,10 14,63 50,63 50,10 \t"/>\n        <line fill="none" stroke="#000000" stroke-width="2" stroke-miterlimit="10" x1="26" y1="20" x2="26" y2="54"/>\n        <line fill="none" stroke="#000000" stroke-width="2" stroke-miterlimit="10" x1="38" y1="20" x2="38" y2="54"/>\n        <line fill="none" stroke="#000000" stroke-width="2" stroke-miterlimit="10" x1="10" y1="9" x2="54" y2="9"/>\n      </g>\n    </svg>\n    ',A.classList.add("tb-icon-button"),(new rl).render(this.container),this.container.appendChild(e),this.container.appendChild(t),t.addEventListener("click",(e=>{e.preventDefault(),(new ka).openShareLinkModal()})),A.addEventListener("click",(e=>{e.preventDefault(),(new sl).openTrashModal()}))}initialiseDebug(){const e=document.createElement("div");e.id="tb-debugging",e.innerHTML='\n      <div class="tb_debug-spinner-container">\n          <div class="tb_debug-spinner"></div>\n      </div>\n      <p style="text-align: center; font-size: 14px; margin-top: 10px">Please wait while we are checking the urls...</p>\n    ',new l({title:Me.t("navbar.debug.modal_title"),width:"800px",body:e}).open()}render(e){e.appendChild(this.container)}}var ll=function(e,t,A,n){return new(A||(A=Promise))((function(i,r){function o(e){try{a(n.next(e))}catch(e){r(e)}}function s(e){try{a(n.throw(e))}catch(e){r(e)}}function a(e){var t;e.done?i(e.value):(t=e.value,t instanceof A?t:new A((function(e){e(t)}))).then(o,s)}a((n=n.apply(e,t||[])).next())}))};class cl{constructor(){this.appVersions=new h,this.toolboxService=new s,this.pageAttacher=new Ta}setUpNavBar(){const e=document.getElementById("tb-navbar"),t=new Xs;(new al).render(e),t.render(e)}setUpSideBar(){const e=document.getElementById("tb-sidebar");(new va).render(e);const t=document.getElementById("tools-section");t&&(t.style.display="none")}setUpScrollButtons(){const e=document.getElementById("child-container"),t=document.querySelector(".navigator .page-navigator-left"),A=document.querySelector(".navigator .page-navigator-right"),n=()=>{t.style.display=e.scrollLeft>0?"none":"block";const n=e.scrollWidth-e.clientWidth;A.style.display=e.scrollLeft<n-5?"none":"block"};t.onclick=()=>{e.scrollLeft-=300},A.onclick=()=>{e.scrollLeft+=300},e.addEventListener("scroll",n),window.addEventListener("resize",n),n()}savePages(){return ll(this,arguments,void 0,(function*(e=!1){try{const e=new Map,t=yield this.appVersions.getActiveVersion(),A=t.Pages;return yield Promise.all(A.map((A=>ll(this,void 0,void 0,(function*(){const n=A.PageId,i=`data-${n}`,r=JSON.parse(localStorage.getItem(i)||"{}");let o=null;if("Menu"===A.PageType||"MyCare"===A.PageType||"MyLiving"===A.PageType||"MyService"===A.PageType?o="PageMenuStructure":"Content"===A.PageType||"Location"===A.PageType||"Reception"===A.PageType?o="PageContentStructure":"Information"===A.PageType&&(o="PageInfoStructure"),!o||!r[o])return;const s=JSON.stringify(r[o]);if(s!==("string"==typeof A.PageStructure?A.PageStructure:JSON.stringify(A.PageStructure))){const i={AppVersionId:t.AppVersionId,PageId:n,PageName:A.PageName,PageType:A.PageType,PageStructure:s};try{yield this.toolboxService.autoSavePage(i),e.set(n,s)}catch(e){throw console.error(`Failed to save page ${A.PageName}:`,e),e}}}))))),e}catch(e){throw console.error("Error saving pages:",e),e}}))}openToastMessage(e){const t=document.createElement("div");t.id="toast",t.textContent=e||"Your changes are saved",document.body.appendChild(t),setTimeout((()=>{t.style.opacity="1",t.style.transform="translateX(-50%) translateY(0)"}),100),setTimeout((()=>{t.style.opacity="0",setTimeout((()=>{document.body.removeChild(t)}),500)}),3e3)}unDoReDo(){const e=document.getElementById("undo"),t=document.getElementById("redo"),A=globalThis.currentPageId;if(!A)return void console.log("No editor found");const n=new dl(A),i=()=>{e&&(e.disabled=!n.canUndo()),t&&(t.disabled=!n.canRedo())};i(),e&&(e.onclick=e=>{e.preventDefault();const t=n.undo();t&&this.applyNewState(t,A),i()}),t&&(t.onclick=e=>{e.preventDefault();const t=n.redo();t&&this.applyNewState(t,A),i()})}applyNewState(e,t){const A=globalThis.activeEditor;if(!A)return;const n=A.getWrapper().find("#frame-container")[0];if(!n)return;const i=this.captureCurrentState(n);this.replaceFrameContent(e,t,n),this.restoreUIState(A,i)}captureCurrentState(e){const t=globalThis.selectedComponent;let A={top:0,left:0},n=null;try{n=e.getEl(),n&&(A={top:n.scrollTop||0,left:n.scrollLeft||0},n.style.visibility="hidden")}catch(e){console.warn("Could not capture current state:",e)}return{selectedComponent:t||null,scrollPosition:A,frameContainerEl:n}}replaceFrameContent(e,t,A){const n=new wa(e).generateHTML(),i=`data-${t}`;A.replaceWith(n),localStorage.setItem(i,JSON.stringify(e)),this.savePages()}restoreUIState(e,t){const{selectedComponent:A,scrollPosition:n}=t,i=()=>{this.restoreScrollPosition(e,n),this.restoreSelectedComponent(e,A)};requestAnimationFrame((()=>{i(),setTimeout(i,10)}))}restoreScrollPosition(e,t){try{const A=e.getWrapper().find("#frame-container")[0],n=null==A?void 0:A.getEl();if(!n)return;(t.top>0||t.left>0)&&(n.scrollTop=t.top,n.scrollLeft=t.left),n.style.visibility="visible"}catch(t){console.log("Could not restore scroll position:",t),this.ensureContainerVisibility(e)}}restoreSelectedComponent(e,t){t&&setTimeout((()=>{var A;try{if(!e.getWrapper().find("#frame-container")[0])return;let n,i;if(t.is("info-cta-section"))n=t.getId(),i=e.getWrapper().find(`#${n}`)[0];else{const n=null===(A=null==t?void 0:t.parent())||void 0===A?void 0:A.getId();if(!n)return;const r=e.getWrapper().find(`#${n}`)[0];if(!r)return;i=r.find(".template-block")[0]}i?(e.select(i),globalThis.selectedComponent=i):console.log("Previously selected component no longer exists")}catch(e){console.log("Could not restore selected component:",e)}}),150)}ensureContainerVisibility(e){try{const t=e.getWrapper().find("#frame-container")[0],A=null==t?void 0:t.getEl();A&&(A.style.visibility="visible")}catch(e){console.log("Could not ensure container visibility:",e)}}}class dl{get pages(){return dl.pagesStore}constructor(e){this.currentPageId=e,this.limit=50,this.pages[e]||this.addPage(e)}addPage(e=this.currentPageId){this.pages[e]||(this.pages[e]={history:[],currentIndex:-1})}get currentState(){if(!this.currentPageId||!this.pages[this.currentPageId])return null;const e=this.pages[this.currentPageId];return e.history[e.currentIndex]}addState(e){if(!this.currentPageId)return null;this.pages[this.currentPageId]||this.addPage(this.currentPageId);const t=this.pages[this.currentPageId];if(0===t.history.length)return t.history.push(JSON.parse(JSON.stringify(e))),t.currentIndex=0,this.currentState;t.currentIndex<t.history.length-1&&(t.history=t.history.slice(0,t.currentIndex+1));const A=t.history[t.currentIndex];return JSON.stringify(A)===JSON.stringify(e)||(t.history.push(JSON.parse(JSON.stringify(e))),t.history.length>this.limit?t.history.shift():t.currentIndex++,(new cl).unDoReDo()),this.currentState}canUndo(){return!(!this.currentPageId||!this.pages[this.currentPageId])&&this.pages[this.currentPageId].currentIndex>0}canRedo(){if(!this.currentPageId||!this.pages[this.currentPageId])return!1;const e=this.pages[this.currentPageId];return e.currentIndex<e.history.length-1}undo(){return this.canUndo()?(this.pages[this.currentPageId].currentIndex--,this.currentState):null}redo(){return this.canRedo()?(this.pages[this.currentPageId].currentIndex++,this.currentState):null}getHistoryStatus(){if(!this.currentPageId||!this.pages[this.currentPageId])return"No page selected";const e=this.pages[this.currentPageId];return`History: ${e.currentIndex+1}/${e.history.length}`}getPageData(e){return this.pages[e]||this.addPage(e),this.pages[e]?this.pages[e].history[this.pages[e].currentIndex]:null}getAllHistory(){return this.pages}static getAllPages(){return dl.pagesStore}static clearAllHistory(){dl.pagesStore={}}}dl.pagesStore={};class ul{constructor(e){this.pageId=e,this.historyManager=new dl(this.pageId)}saveData(e){const t=`data-${this.pageId}`;localStorage.setItem(t,JSON.stringify(e)),this.historyManager.addState(e),(new cl).savePages()}contentRow(e){return JSON.parse(localStorage.getItem(`data-${this.pageId}`)||"{}"),{InfoId:e.InfoId,InfoType:e.InfoType||"",InfoValue:e.InfoValue||"",InfoNextSectionId:e.InfoPositionId||"",CtaAttributes:null==e?void 0:e.CtaAttributes,Tiles:null==e?void 0:e.Tiles,Images:null==e?void 0:e.Images}}addInfoType(e){var t,A;const n=`data-${this.pageId}`,i=JSON.parse(localStorage.getItem(n)||"{}");if(!i.PageInfoStructure)return;null!==(t=(A=i.PageInfoStructure).InfoContent)&&void 0!==t||(A.InfoContent=[]);const r=this.contentRow(e),o=r.InfoNextSectionId,s=i.PageInfoStructure.InfoContent.findIndex((e=>e.InfoId===o));delete r.InfoNextSectionId,-1!==s?(delete r.InfoNextSectionId,i.PageInfoStructure.InfoContent.splice(s,0,r)):i.PageInfoStructure.InfoContent.push(r),this.saveData(i)}moveContentRow(e,t){var A;const n=JSON.parse(localStorage.getItem(`data-${this.pageId}`)||"{}");if(!(null===(A=null==n?void 0:n.PageInfoStructure)||void 0===A?void 0:A.InfoContent))return;const i=n.PageInfoStructure.InfoContent,r=i.findIndex((t=>t.InfoId===e));if(-1===r||t<0||t>=i.length)return;const[o]=i.splice(r,1);i.splice(t,0,o),this.saveData(n)}updateInfoContent(e,t){var A;const n=JSON.parse(localStorage.getItem(`data-${this.pageId}`)||"{}");if(!(null===(A=null==n?void 0:n.PageInfoStructure)||void 0===A?void 0:A.InfoContent))return!1;const i=n.PageInfoStructure.InfoContent,r=i.findIndex((t=>t.InfoId===e));return-1!==r&&(i[r]=t,this.saveData(n),!0)}removeInfoContent(e){var t;const A=JSON.parse(localStorage.getItem(`data-${this.pageId}`)||"{}");if(!(null===(t=null==A?void 0:A.PageInfoStructure)||void 0===t?void 0:t.InfoContent))return!1;const n=A.PageInfoStructure.InfoContent,i=n.findIndex((t=>t.InfoId===e));if(-1===i)return!1;n.splice(i,1),this.saveData(A);const r=globalThis.activeEditor;return r&&r.getSelected()&&(r.select(null),globalThis.selectedComponent=null),!0}getInfoContent(e){var t;const A=JSON.parse(localStorage.getItem(`data-${this.pageId}`)||"{}");if(!(null===(t=null==A?void 0:A.PageInfoStructure)||void 0===t?void 0:t.InfoContent))return null;const n=A.PageInfoStructure.InfoContent,i=n.findIndex((t=>t.InfoId===e));return-1===i?null:n[i]}}class hl{constructor(){this.infoSectionUI=new Vs,this.editor=globalThis.activeEditor,this.editor}createMenuItem(e,t){const A=document.createElement("li");return A.classList.add("menu-item"),A.innerHTML=e.label.length>20?e.label.substring(0,20)+"...":e.label,A.setAttribute("data-name",e.name||""),A.addEventListener("click",(n=>{var i;n.stopPropagation(),e.action&&(e.action(),t&&t()),(null===(i=A.parentElement)||void 0===i?void 0:i.parentElement).remove()})),A.id=e.id,A}addCtaButton(e,t,A){var n,i;const r=document.createElement("div");r.innerHTML=e;const o=r.firstElementChild;if(this.appendComponent(e,A)){const e={InfoId:o.id,InfoType:"Cta",InfoPositionId:A,CtaAttributes:t};this.addToMapper(e);const r=null===(n=this.editor)||void 0===n?void 0:n.getWrapper().find(`#${o.id}`)[0];r&&(null===(i=this.editor)||void 0===i||i.select(r))}}addImage(e,t){const A=this.infoSectionUI.getImage(e),n=document.createElement("div");n.innerHTML=A;const i=n.firstElementChild;if(this.appendComponent(A,t)){const A={InfoId:i.id,InfoType:"Image",InfoValue:e,InfoPositionId:t};this.addToMapper(A)}}addMultipleImages(e=[],t=!1,A,n){var i;console.log("Selected images: ",e);const r=this.infoSectionUI.getMultipleImages(e.map((e=>e.Url)),t,A),o=document.createElement("div");o.innerHTML=r;const s=o.firstElementChild;if(t){const t=null===(i=this.editor)||void 0===i?void 0:i.getWrapper().find(`#${A}`)[0];t&&(t.replaceWith(r),this.updateInfoMapper(A||"",{InfoId:s.id,InfoType:"Images",Images:e.map((e=>({InfoImageId:`id-${e.Id}`||Ne(15),InfoImageValue:e.Url})))}))}else if(this.appendComponent(r,n)){const t={InfoId:s.id,InfoType:"Images",InfoPositionId:n,Images:e.map((e=>({InfoImageId:`id-${e.Id}`||Ne(15),InfoImageValue:e.Url})))};this.addToMapper(t)}}openContentEditModal(e){const t=document.createElement("div"),A=document.createElement("div");A.id="editor",A.innerHTML="",A.style.minHeight="150px";const n=document.createElement("div");n.classList.add("popup-footer"),n.style.marginBottom="-12px";const i=this.createButton("submit_form","tb-btn-primary","Save");i.disabled=!0,i.style.opacity="0.6",i.style.cursor="not-allowed";const r=this.createButton("cancel_form","tb-btn-outline","Cancel"),o=document.createElement("div");o.classList.add("row");const s=document.createElement("span");o.style.paddingLeft="20px",s.style.fontSize="small",s.style.fontStyle="italic",o.appendChild(s),s.innerHTML="0/1000",n.appendChild(i),n.appendChild(r),t.appendChild(A),t.appendChild(o),t.appendChild(n);const a=new l({title:"Description",width:"500px",body:t});a.open();const c=Us.import("delta"),d=new Us("#editor",{formats:["bold","italic","underline","link","list"],modules:{toolbar:[["bold","italic","underline","link"],[{list:"ordered"},{list:"bullet"}]],clipboard:{matchers:[[Node.ELEMENT_NODE,(e,t)=>t.compose((new c).retain(t.length(),{background:!1,color:!1,font:!1,code:!1,size:!1,strike:!1,script:!1,blockquote:!1,header:!1,indent:!1,align:!1,direction:!1,formula:!1,image:!1,video:!1}))]]}},theme:"snow",placeholder:"Start typing here..."});setTimeout((()=>{d.focus()}),0),d.on("text-change",(()=>{const e=d.root.innerHTML,t="<p><br></p>"!==e&&""!==e.trim();if(i.disabled=!t,d.getLength()>1e3)d.deleteText(1e3,d.getLength()),s.innerHTML="1000/1000";else{const e=d.getLength()-1;s.innerHTML=e+"/1000"}i.disabled?(i.style.opacity="0.6",i.style.cursor="not-allowed"):(i.style.opacity="1",i.style.cursor="pointer")})),i.addEventListener("click",(()=>{const t=document.querySelector("#editor .ql-editor"),A=this.correctULTagFromQuill(t.innerHTML);this.addDescription(A.trim(),e),a.close()})),r.addEventListener("click",(()=>{a.close()}))}correctULTagFromQuill(e){if(!e)return e;const t=(new DOMParser).parseFromString(e,"text/html");return t.querySelectorAll("ol").forEach((e=>{if(Array.from(e.children).every((e=>"bullet"===e.getAttribute("data-list")))){const t=document.createElement("ul");Array.from(e.children).forEach((e=>{t.appendChild(e.cloneNode(!0))})),e.replaceWith(t)}})),t.body.innerHTML}addDescription(e,t){const A=this.infoSectionUI.getDescription(e),n=document.createElement("div");n.innerHTML=A;const i=n.firstElementChild;if(this.appendComponent(A,t)){const A={InfoId:i.id,InfoType:"Description",InfoPositionId:t,InfoValue:e};this.addToMapper(A)}}addTile(e,t){var A,n,i;const r=document.createElement("div");r.innerHTML=e;const o=r.firstElementChild,s=null===(A=o.querySelector(".template-wrapper"))||void 0===A?void 0:A.id;if(this.appendComponent(e,t)){const e={InfoId:o.id,InfoType:"TileRow",InfoPositionId:t,Tiles:[{Id:s||Ne(15),Name:"Title",Text:"Title",Color:"#333333",Align:"left",Action:{ObjectType:"",ObjectId:"",ObjectUrl:""}}]};this.addToMapper(e);const A=null===(n=this.editor)||void 0===n?void 0:n.getWrapper().find(`#${s}`)[0];if(A){const e=A.find(".template-block")[0];e&&(null===(i=this.editor)||void 0===i||i.select(e))}}}updateDescription(e,t){var A;const n=this.infoSectionUI.getDescription(e,t),i=null===(A=this.editor)||void 0===A?void 0:A.getWrapper().find(`#${t}`)[0];i&&(i.replaceWith(n),this.updateInfoMapper(t,{InfoId:t,InfoType:"Description",InfoValue:e}))}updateInfoImage(e,t,A){var n;const i=this.infoSectionUI.getImage(e),r=null===(n=this.editor)||void 0===n?void 0:n.getWrapper().find(`#${t}`)[0];r?(r.replaceWith(i),this.updateInfoMapper(t||"",{InfoId:t||Ne(15),InfoType:"Image",InfoValue:e})):this.addImage(e,A)}updateInfoCtaButtonImage(e,t){var A;const n=null===(A=this.editor)||void 0===A?void 0:A.getWrapper().find(`#${t}`)[0];if(n){n.getEl().style.backgroundImage="";const A=n.find("img")[0];A&&t&&(A.setAttributes({src:e}),this.updateInfoCtaAttributes(t,"CtaButtonType","Image"),this.updateInfoCtaAttributes(t,"CtaButtonImgUrl",e))}}deleteInfoImageOrDesc(e){var t;const A=null===(t=this.editor)||void 0===t?void 0:t.getWrapper().find(`#${e}`)[0];A&&(console.log("component deleteInfoImageOrDesc",A),A.remove(),this.removeInfoMapper(e),this.removeConsecutivePlusButtons(),this.restoreEmptyStateIfNoSections())}deleteCtaButton(e){var t;const A=null===(t=this.editor)||void 0===t?void 0:t.getWrapper().find(`#${e}`)[0];A&&(A.remove(),this.removeInfoMapper(e),this.removeConsecutivePlusButtons(),this.restoreEmptyStateIfNoSections())}appendComponent(e,t){var A,n,i,r;const o=null===(A=this.editor)||void 0===A?void 0:A.getWrapper().find(".container-column-info")[0];if(!o)return!1;const s=o.components().models,a=!t,l=t?s.findIndex((e=>e.getId()===t)):s.length,c=(new Ba).getHTML(),d=(new Ba(!1,!0).getHTML(),null===(n=this.editor)||void 0===n?void 0:n.addComponents(c));o.append(d,{at:l});const u=null===(i=this.editor)||void 0===i?void 0:i.addComponents(e);o.append(u,{at:l+1});const h=null===(r=this.editor)||void 0===r?void 0:r.addComponents(c);return o.append(h,{at:l+2}),this.removeConsecutivePlusButtons(),this.markFirstAndLastPlusButtons("first"),this.markFirstAndLastPlusButtons("last"),this.removeEmptyState(),a&&setTimeout((()=>{var e;const t=null===(e=this.editor)||void 0===e?void 0:e.getWrapper().find(".content-frame-container")[0];if(t){const e=t.getEl();e.scrollTo({top:e.scrollHeight,behavior:"smooth"})}}),0),!0}addToMapper(e){const t=globalThis.currentPageId;new ul(t).addInfoType(e)}updateInfoCtaAttributes(e,t,A){const n=this.getInfoContent(e);if(n){const i=n.CtaAttributes;i&&(this.setNestedProperty(i,t,A),this.updateInfoMapper(e,n),this.removeConsecutivePlusButtons())}}getInfoContent(e){const t=globalThis.currentPageId;return new ul(t).getInfoContent(e)}updateInfoTileAttributes(e,t,A,n){var i;globalThis.currentPageId;const r=this.getInfoContent(e);if(r){const o=null===(i=r.Tiles)||void 0===i?void 0:i.find((e=>e.Id===t));o&&this.setNestedProperty(o,A,n),this.updateInfoMapper(e,r)}}setNestedProperty(e,t,A){const n=t.split(".");let i=e;for(let e=0;e<n.length-1;e++){const t=n[e];t in i||(i[t]={}),i=i[t]}i[n[n.length-1]]=A}updateInfoMapper(e,t){const A=globalThis.currentPageId;new ul(A).updateInfoContent(e,t),this.removeEmptyRows(A)}removeInfoMapper(e){const t=globalThis.currentPageId;new ul(t).removeInfoContent(e)}removeEmptyRows(e){var t;const A=JSON.parse(localStorage.getItem(`data-${e}`)||"{}");(null===(t=null==A?void 0:A.PageInfoStructure)||void 0===t?void 0:t.InfoContent)&&A.PageInfoStructure.InfoContent.forEach((e=>{"TileRow"===(null==e?void 0:e.InfoType)&&(e.Tiles&&0!==e.Tiles.length||this.removeInfoMapper(e.InfoId))}))}restoreEmptyStateIfNoSections(){var e,t,A;const n=null===(e=this.editor)||void 0===e?void 0:e.getWrapper().find(".container-column-info")[0];if(n&&n.components().models.length<=1){const e=new Ba(!0).getHTML(),i=null===(t=this.editor)||void 0===t?void 0:t.addComponents(e);n.append(i);const r=null===(A=this.editor)||void 0===A?void 0:A.getWrapper().find(".content-frame-container")[0];r&&(r.addClass("empty-state"),this.removeConsecutivePlusButtons())}}markFirstAndLastPlusButtons(e){var t;const A=null===(t=this.editor)||void 0===t?void 0:t.getWrapper().find(".container-column-info")[0];if(!A)return;const n=A.find(".info-section-spacing-container");if(0===n.length)return;const i="first"===e?"first-section":"last-section";n.forEach((e=>e.removeClass(i)));const r="first"===e?n[0]:n[n.length-1];if(r){const t="first"===e?"first-section":"last-section";r.addClass(t)}}removeConsecutivePlusButtons(e=this.editor){var t;if(!e)return;const A=null==e?void 0:e.getWrapper().find(".container-column-info")[0];if(!A)return;let n=A.components().models,i=1;for(;i<n.length;){const r=n[i],o=n[i-1],s=r.getClasses(),a=o.getClasses(),l=s.includes("info-section-spacing-container"),c=a.includes("info-section-spacing-container");if(l&&c){const i=null===(t=r.getId)||void 0===t?void 0:t.call(r),o=e.getWrapper().find(`#${i}`)[0];if(o){o.remove(),n=A.components().models;continue}}i++}this.updateRoundCtaWidths(e)}removeEmptyState(){const e=this.editor.getWrapper().find(".content-frame-container")[0];e&&e.removeClass("empty-state")}updateRoundCtaWidths(e=this.editor){var t;if(!e)return;const A=null==e?void 0:e.getWrapper().find(".container-column-info")[0];if(!A)return;const n=A.components().models;if(!n.some((e=>{const t=e.getClasses();return t.includes("cta-container-child")&&t.includes("cta-child")})))return;for(let A=0;A<n.length;A++){const i=n[A];if(i.getClasses().includes("info-section-spacing-container")){const r=A>0?n[A-1]:null,o=A+1<n.length?n[A+1]:null,s=r&&r.getClasses().includes("cta-container-child")&&r.getClasses().includes("cta-child"),a=o&&o.getClasses().includes("cta-container-child")&&o.getClasses().includes("cta-child"),l=null===(t=i.getId)||void 0===t?void 0:t.call(i),c=e.getWrapper().find(`#${l}`)[0];c&&(s&&a?c.addStyle({width:"auto"}):c.removeStyle("width"))}}const i=[];n.forEach(((e,t)=>{const A=e.getClasses();A.includes("cta-container-child")&&A.includes("cta-child")&&i.push(t)}));let r=[];const o=[];for(let e=0;e<i.length;e++)if(0===r.length)r.push(i[e]);else{let t=!0;for(let A=i[e-1]+1;A<i[e];A++)if(!n[A].getClasses().includes("info-section-spacing-container")){t=!1;break}t?r.push(i[e]):(o.push(r),r=[i[e]])}r.length&&o.push(r);const s=[];o.forEach((e=>{for(let t=0;t<e.length;t+=3)s.push(e.slice(t,t+3))})),s.forEach((t=>{var A;if(1===t.length){const i=n[t[0]],r=null===(A=i.getId)||void 0===A?void 0:A.call(i),o=e.getWrapper().find(`#${r}`)[0];o&&(o.addStyle({width:"100%"}),o.addClass("cta-width-full"),o.removeClass("cta-width-medium"),o.removeClass("cta-width-small"))}else 2===t.length?t.forEach((t=>{var A;const i=n[t],r=null===(A=i.getId)||void 0===A?void 0:A.call(i),o=e.getWrapper().find(`#${r}`)[0];o&&(o.addStyle({width:"40%"}),o.addClass("cta-width-medium"),o.removeClass("cta-width-full"),o.removeClass("cta-width-small"))})):3===t.length&&t.forEach((t=>{var A;const i=n[t],r=null===(A=i.getId)||void 0===A?void 0:A.call(i),o=e.getWrapper().find(`#${r}`)[0];o&&(o.addStyle({width:"calc(100% / 4.5)"}),o.addClass("cta-width-small"),o.removeClass("cta-width-full"),o.removeClass("cta-width-medium"))}))}))}createButton(e,t,A){const n=document.createElement("button");return n.id=e,n.classList.add("tb-btn",t),n.innerText=A,n}}class pl{constructor(e,t){return this.selectedOption=null,this.onChangeCallback=null,this.options=e,this.config=t,this.placeholder=t.placeholder||"Select an option...",this.element=this.createSelectElement(),this}createSelectElement(){const e=document.createElement("div");e.className="simple-select-container";const t=document.createElement("div");t.className="select-field";const A=document.createElement("span");A.className="select-value",A.textContent=this.placeholder;const n=document.createElement("span");n.className="select-arrow";const i=document.createElement("span");i.className="select-clear-icon",i.innerHTML="&times;",i.style.display="none",i.style.cursor="pointer",i.style.marginLeft="8px",i.addEventListener("click",(e=>{e.stopPropagation(),document.querySelectorAll(".select-dropdown.show").forEach((e=>e.classList.remove("show"))),document.querySelectorAll(".select-field.active").forEach((e=>e.classList.remove("active"))),this.removeSelection(),i.style.display="none"})),t.appendChild(A),t.appendChild(n),t.appendChild(i);const r=document.createElement("div");r.className="select-dropdown";const o=document.createElement("div");o.className="supplier-search-container";const s=document.createElement("div");s.className="search-icon",s.innerHTML='<i class="fas fa-search"></i>&nbsp;&nbsp;';const a=document.createElement("input");a.className="search-input",a.type="text",a.placeholder="Search...",o.appendChild(s),o.appendChild(a);const l=document.createElement("div");return l.className="options-container",this.options.forEach((e=>{const A=document.createElement("div");A.className="select-option";const n=e[this.config.labelField],i=e[this.config.valueField];A.textContent=n,A.dataset.value=i,A.addEventListener("click",(A=>{A.stopPropagation(),this.selectOption(e),r.classList.remove("show"),t.classList.remove("active")})),l.appendChild(A)})),r.appendChild(o),r.appendChild(l),t.addEventListener("click",(e=>{e.stopPropagation();const A=document.querySelectorAll(".select-field.active"),n=document.querySelectorAll(".select-dropdown.show");A.forEach((e=>{e!==t&&e.classList.remove("active")})),n.forEach((e=>{e!==r&&e.classList.remove("show")}));const i=r.classList.contains("show");t.classList.toggle("active",!i),r.classList.toggle("show",!i),i||(a.value="",this.filterOptions("",l),setTimeout((()=>a.focus()),100))})),a.addEventListener("input",(e=>{const t=e.target;this.filterOptions(t.value,l)})),a.addEventListener("click",(e=>e.stopPropagation())),document.addEventListener("click",(()=>{r.classList.remove("show"),t.classList.remove("active")})),this.addStyles(),e.appendChild(t),e.appendChild(r),e}filterOptions(e,t){const A=t.querySelectorAll(".select-option");let n=!1;A.forEach((t=>{var A;const i=t;((null===(A=i.textContent)||void 0===A?void 0:A.toLowerCase())||"").includes(e.toLowerCase())?(i.style.display="block",n=!0):i.style.display="none"}));let i=t.querySelector(".no-results");n?i&&t.removeChild(i):i||(i=document.createElement("div"),i.className="no-results",i.textContent="No records found",t.appendChild(i))}selectOption(e){this.selectedOption=e;const t=e[this.config.labelField],A=e[this.config.valueField];this.element.querySelector(".select-value").textContent=t,this.element.querySelector(".select-clear-icon").style.display="flex";const n=this.element.querySelector(".select-arrow");n&&(n.style.display="none"),this.element.querySelectorAll(".select-option").forEach((e=>{e.getAttribute("data-value")===A?e.classList.add("selected"):e.classList.remove("selected")})),this.onChangeCallback&&this.onChangeCallback(e)}removeSelection(){const e=document.querySelector("#field_value");e&&(e.value="",e.disabled=!1),this.selectedOption=null,this.element.querySelector(".select-value").textContent=this.placeholder,this.element.querySelectorAll(".select-option").forEach((e=>e.classList.remove("selected")));const t=this.element.querySelector(".select-clear-icon");t&&(t.style.display="none");const A=this.element.querySelector(".select-arrow");A&&(A.style.display="inline");const n=new CustomEvent("supplier-cleared",{bubbles:!0});this.getElement().dispatchEvent(n)}addStyles(){if(!document.getElementById("simple-select-styles")){const e=document.createElement("style");e.id="simple-select-styles",e.innerHTML="\n          .simple-select-container {\n            position: relative;\n            width: 100%;\n            font-family: Arial, sans-serif;\n          }\n\n          .select-field {\n            padding: 6px 7px;\n            background: white;\n            border: 1px solid #b4b9bd;\n            border-radius: 6px;\n            display: flex;\n            justify-content: space-between;\n            align-items: center;\n            align-items: center;\n            cursor: pointer;\n            user-select: none;\n          }\n\n          .select-field:hover {\n            border-color: #bbb;\n          }\n\n          .select-field.active {\n            border-color: #b4b9bd;\n          }\n\n          .select-arrow {\n            border-right: 2px solid #b4b9bd;\n            border-bottom: 2px solid #b4b9bd;\n            width: 8px;\n            height: 8px;\n            transform: rotate(45deg);\n            transition: transform 0.2s;\n          }\n          \n          .select-field.active .select-arrow {\n            transform: rotate(-135deg);\n          }\n\n          .select-clear-icon {\n            display: flex;\n            align-items: center;\n            justify-content: center;\n            font-size: 14px;\n            width: 18px;\n            height: 18px;\n            border-radius: 50%;\n            background: #fff;\n            color: #ccc;\n            border: 1px solid #ccc;\n            box-shadow: 0 1px 2px rgba(0,0,0,0.04);\n            margin-left: 8px;\n            cursor: pointer;\n            line-height: 1;\n            padding: 0;\n            transition: color 0.2s, border-color 0.2s, background 0.2s;\n          }\n          .select-clear-icon:hover {\n            color: #4e4e4e;\n            border-color: #4e4e4e;\n            background: #fff;\n          }\n          \n          .select-dropdown {\n            position: absolute;\n            top: 100%;\n            left: 0;\n            width: 100%;\n            background: white;\n            border: 1px solid #e2e2e2;\n            border-radius: 6px;\n            margin-top: 5px;\n            box-shadow: 0 2px 5px rgba(0, 0, 0, 0.1);\n            z-index: 100;\n            display: none;\n          }\n          \n          .select-dropdown.show {\n            display: block;\n          }\n          \n          .supplier-search-container {\n            padding: 10px;\n            position: relative;\n          }\n          \n          .search-icon {\n            position: absolute;\n            left: 20px;\n            top: 50%;\n            transform: translateY(-50%);\n            color: #888;\n          }\n          \n          .search-input {\n            width: 100% !important;\n            padding: 6px 6px 6px 40px !important;\n            border: 1px solid #ddd;\n            border-radius: 6px;\n            font-size: 14px;\n            outline: none;\n          }\n          \n          .options-container {\n            max-height: 200px;\n            max-height: 170px;\n            overflow-y: auto;\n            scrollbar-width: thin;\n            scrollbar-color: #ccc transparent;\n          }\n          \n          .select-option {\n            padding: 10px 15px;\n            cursor: pointer;\n          }\n          \n          .select-option:hover {\n            background-color: #f5f5f5;\n          }\n          \n          .select-option.selected {\n            background-color: #e9ecef;\n            color: #333333;\n          }\n          \n          .no-results {\n            padding: 10px 15px;\n            color: #666;\n            font-style: italic;\n            text-align: center;\n          }\n        ",document.head.appendChild(e)}}getElement(){return this.element}getValue(){return this.selectedOption}setValue(e){if(void 0===e)return;const t=this.options.find((t=>t[this.config.valueField]===e));t&&this.selectOption(t)}onChange(e){this.onChangeCallback=e}}class gl{constructor(e=!1,A){this.isInfoCtaSection=e,this.type=A,this.config=t.getInstance(),this.toolBoxService=new s}createForm(e,t){const A=new nl(e);return t.forEach((e=>A.addField(e))),A}createModal({title:e,form:t,onSave:A}){const n=document.createElement("div");this.isInfoCtaSection&&(this.appendSupplierSelection(n,t),"Form"===this.type&&this.appendSupplierFormSelection(n,t)),t.render(n),this.isInfoCtaSection&&this.supplierSelectComponent&&this.setupSupplierSelection(this.supplierSelectComponent,n,t);const i=this.createSubmitSection(t,A),r=document.createElement("div");r.appendChild(n),r.appendChild(i),new l({title:e,width:"500px",body:r}).open()}validateFields(e){let t=!0;const A=e.fields,n=["home","my care","my living","my services","web link","dynamic form"];return A.forEach((e=>e.hideError())),A.forEach((e=>{const A=e.getElement().querySelector("input");if(!A)return;const i=A.value.trim();A.required&&""===i?(e.showError(e.errorMessage),t=!1):e.minLength&&i.length<e.minLength?(e.showError(`Must be at least ${e.minLength} characters`),t=!1):e.maxLength&&i.length>e.maxLength?(e.showError(`Cannot exceed ${e.maxLength} characters`),t=!1):e.validate&&!e.validate(i)?(e.showError(e.errorMessage),t=!1):n.includes(i.toLowerCase())&&(e.showError("Field name already exists"),t=!1)})),t}isValidUrl(e){try{const t=/^https?:\/\//i.test(e);return new URL(t?e:`http://${e}`).hostname.length>0}catch(e){return!1}}isValidPhone(e){const t=e.replace(/(?!^\+)\D/g,"");return/^\+?[0-9]{10,15}$/.test(t)}isValidEmail(e){return/^[a-zA-Z0-9.!#$%&'*+/=?^_{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?$/.test(e)&&e.length<=254}isValidAddress(e){return e.length>5&&e.length<=100}appendSupplierSelection(e,t){const A=window.app.suppliers,n=new pl(A,{labelField:"SupplierGenCompanyName",valueField:"SupplierGenId",placeholder:"Select supplier to connect..."});this.supplierSelectComponent=n;const i=document.createElement("div");i.classList.add("form-field"),i.style.marginBottom="10px";const r=document.createElement("div");r.style.display="flex",r.style.justifyContent="space-between",r.style.alignItems="center";const o=document.createElement("label");o.innerText="Connect Supplier (optional)",r.appendChild(o),i.appendChild(r);const s=n.getElement();i.appendChild(s),e.appendChild(i),s.addEventListener("supplier-cleared",(()=>{this.resetSupplierDependentFields(e,t)}))}appendSupplierFormSelection(e,t,A){const n=t.getSelectedSupplierId(),i=n&&A?this.toolBoxService.forms.filter((e=>e.SupplierId===n)):this.toolBoxService.forms,r=new pl(i,{labelField:"PageName",valueField:"FormUrl",placeholder:"Select form..."}),o=document.createElement("div");o.classList.add("form-field"),o.style.marginBottom="10px";const s=document.createElement("div");s.style.display="flex",s.style.justifyContent="space-between",s.style.alignItems="center";const a=document.createElement("label");a.innerText="Select Form",s.appendChild(a),o.appendChild(s);const l=r.getElement();o.appendChild(l);const c=e.firstElementChild;c&&c.nextSibling?e.insertBefore(o,c.nextSibling):e.appendChild(o),r.onChange((t=>{const A=e.querySelector("#field_value"),n=e.querySelector("#field_id");(A||n)&&(null==t?void 0:t.FormUrl)&&(A.value=t.FormUrl,n.value=t.FormId)}))}resetSupplierDependentFields(e,t){t.setSelectedSupplierId("");const A=e.querySelector("#field_value");if(A&&(A.value="",A.disabled=!1),"Form"===this.type){const A=e.querySelector("#field_id");A&&(A.value="",A.disabled=!1);const n=e.querySelector(".form-field select");n&&(n.selectedIndex=0),this.refreshFormSelection(e,t)}}setupSupplierSelection(e,t,A){var n;const i=this.config.suppliers,r=this.findLastConnectedSupplier();if(r){const o=null===(n=r.CtaAttributes)||void 0===n?void 0:n.CtaConnectedSupplierId;e.setValue(o),A.setSelectedSupplierId(null!=o?o:null),this.updateFieldWithSupplierData(t,i.find((e=>e.SupplierGenId===o)),A)}e.onChange((e=>{var n;A.setSelectedSupplierId(null!==(n=null==e?void 0:e.SupplierGenId)&&void 0!==n?n:null),this.updateFieldWithSupplierData(t,e,A)}))}refreshFormSelection(e,t){var A;const n=null===(A=Array.from(e.querySelectorAll(".form-field label")).find((e=>{var t;return null===(t=e.textContent)||void 0===t?void 0:t.includes("Select Form")})))||void 0===A?void 0:A.closest(".form-field");n&&e.contains(n)&&e.removeChild(n),"Form"===this.type&&this.appendSupplierFormSelection(e,t,!0)}findLastConnectedSupplier(){var e;const t=globalThis.currentPageId,A=localStorage.getItem(`data-${t}`),n=A?JSON.parse(A):null;return(null===(e=null==n?void 0:n.PageInfoStructure)||void 0===e?void 0:e.InfoContent)?[...n.PageInfoStructure.InfoContent].reverse().find((e=>{var t;return"Cta"===(null==e?void 0:e.InfoType)&&!0===(null===(t=null==e?void 0:e.CtaAttributes)||void 0===t?void 0:t.CtaSupplierIsConnected)})):null}updateFieldWithSupplierData(e,t,A){var n,i,r,o;if(!t)return;const s=e.querySelector("#field_value");if(!s)return;let a="";switch(this.type){case"Phone":a=(null===(n=t.SupplierGenContactPhone)||void 0===n?void 0:n.trim())||"";break;case"Email":a=(null===(i=t.SupplierGenEmail)||void 0===i?void 0:i.trim())||"";break;case"WebLink":a=(null===(r=t.SupplierGenWebsite)||void 0===r?void 0:r.trim())||"";break;case"Map":a=(null===(o=t.SupplierGenAddressLine1)||void 0===o?void 0:o.trim())||"";break;case"Form":this.refreshFormSelection(e,A)}s.value=a,s.disabled=!0,A.setSelectedSupplierId(t.SupplierGenId)}createSubmitSection(e,t){const A=document.createElement("div");A.classList.add("popup-footer"),A.style.marginBottom="-12px";const n=this.createButton("submit_form","tb-btn-primary","Save"),i=this.createButton("cancel_form","tb-btn-outline","Cancel");return n.addEventListener("click",(A=>{var n;A.preventDefault(),this.validateFields(e)&&(t(),null===(n=document.querySelector(".popup-modal-link"))||void 0===n||n.remove())})),i.addEventListener("click",(e=>{var t;e.preventDefault(),null===(t=document.querySelector(".popup-modal-link"))||void 0===t||t.remove()})),A.appendChild(n),A.appendChild(i),A}createButton(e,t,A){const n=document.createElement("button");return n.id=e,n.classList.add("tb-btn",t),n.innerText=A,n}}var fl=function(e,t,A,n){return new(A||(A=Promise))((function(i,r){function o(e){try{a(n.next(e))}catch(e){r(e)}}function s(e){try{a(n.throw(e))}catch(e){r(e)}}function a(e){var t;e.done?i(e.value):(t=e.value,t instanceof A?t:new A((function(e){e(t)}))).then(o,s)}a((n=n.apply(e,t||[])).next())}))};class ml{constructor(e=!1,t,A){this.isInfoCtaSection=e,this.sectionId=A,this.appVersionManager=new h,this.toolBoxService=new s,this.formModalService=new gl(e,t),this.infoSectionUi=new Vs,this.InfoSectionManager=new hl}handlePhone(){this.createFormAndModal("phone-form","Add Phone Number","Phone",[{label:"Phone Number",type:"tel",id:"field_value",placeholder:"123-456-7890",required:!0,errorMessage:"Please enter a valid phone number",validate:e=>this.formModalService.isValidPhone(e)},{label:"Label",type:"text",id:"field_label",placeholder:"Call us now",required:!0,errorMessage:"Please enter a label for your phone tile",minLength:2}])}handleEmail(){this.createFormAndModal("email-form","Add Email Address","Email",[{label:"Email Address",type:"email",id:"field_value",placeholder:"example@example.com",required:!0,errorMessage:"Please enter a valid email address",validate:e=>this.formModalService.isValidEmail(e)},{label:"Label",type:"text",id:"field_label",placeholder:"Get in touch",required:!0,errorMessage:"Please enter a label for email tile",minLength:2}])}handleForm(){this.createFormAndModal("form-form","Add Form","Form",[{label:"Form Url",type:"url",id:"field_value",placeholder:"https://example.com",required:!0,hidden:!0,errorMessage:"Please select a form",validate:e=>this.formModalService.isValidUrl(e)},{label:"Form ID",type:"number",id:"field_id",required:!1,hidden:!0,errorMessage:"Please select a form",validate:e=>this.formModalService.isValidUrl(e)},{label:"Label",type:"text",id:"field_label",placeholder:"Fill Form",required:!0,errorMessage:"Please enter a label for your form",minLength:5}])}handleWebLinks(){this.createFormAndModal("web-link-form","Add Web Link","WebLink",[{label:"Link Url",type:"url",id:"field_value",placeholder:"https://example.com",required:!0,errorMessage:"Please enter a valid URL",validate:e=>this.formModalService.isValidUrl(e)},{label:"Label",type:"text",id:"field_label",placeholder:"Example Link",required:!0,errorMessage:"Please enter a label for your link",minLength:5}])}handleAddress(){this.createFormAndModal("address-form","Add Address","Map",[{label:"Address",type:"text",id:"field_value",placeholder:"Address",required:!0,errorMessage:"Please enter a Address",validate:e=>this.formModalService.isValidAddress(e)},{label:"Label",type:"text",id:"field_label",placeholder:"Visit us",required:!0,errorMessage:"Please enter a label for your address",minLength:5}])}createFormAndModal(e,t,A,n){const i=this.formModalService.createForm(e,n);this.formModalService.createModal({title:t,form:i,onSave:()=>this.processFormData(i.getData(),A)})}processFormData(e,t){return fl(this,void 0,void 0,(function*(){var A;if(this.isInfoCtaSection)return void this.addCtaButtonSection(t,e);const n=globalThis.selectedComponent;if(!n)return;const i=n.find(".tile-title")[0];i&&i.components(e.field_label);const r=n.parent().getId(),o=n.parent().parent().getId();let s;"WebLink"!==t&&"Form"!==t||(s=yield this.findOrCreateChildPage(t,e));const a=[["Text",e.field_label],["Name",e.field_label],["Action.ObjectType",t],["Action.ObjectId",(null==s?void 0:s.PageId)||Ne(10)],["Action.ObjectUrl",e.field_value]];let l;if("Information"===globalThis.pageData.PageType){for(const[e,t]of a)this.InfoSectionManager.updateInfoTileAttributes(o,r,e,t);const e=globalThis.infoContentMapper.getInfoContent(o);l=null===(A=null==e?void 0:e.Tiles)||void 0===A?void 0:A.find((e=>e.Id===r))}else{for(const[e,t]of a)globalThis.tileMapper.updateTile(r,e,t);l=globalThis.tileMapper.getTile(o,r)}(new Ta).removeOtherEditors(),s&&new xa(s.PageId,s).init(l)}))}findOrCreateChildPage(e,t){return fl(this,void 0,void 0,(function*(){const A=globalThis.activeVersion;let n=null==A?void 0:A.Pages.find((A=>"WebLink"===e&&"WebLink"===A.PageType&&A.PageLinkStructure.Url===t.field_value));if(!n)try{const A=yield this.appVersionManager.getActiveVersion(),i="Form"===e?Number(null==t?void 0:t.field_id):0;n=(yield this.toolBoxService.createLinkPage(A.AppVersionId,t.field_label,t.field_value,i)).MenuPage}catch(e){return console.error("Error creating link page:",e),null}return n}))}addCtaButtonSection(){return fl(this,arguments,void 0,(function*(e="Phone",t={}){const A={Phone:"Phone",Email:"Email",WebLink:"Link",Map:"Globe",Form:"Document",Address:"Globe"}[e]||"Info",n={CtaId:Ne(15),CtaType:e,CtaLabel:t.field_label||"Call Us",CtaAction:t.field_value,CtaColor:"#ffffff",CtaBGColor:"ctaColor1",CtaButtonType:"Image",CtaButtonImgUrl:"/Resources/UCGrapes/public/images/image.png",CtaButtonIcon:A,CtaSupplierIsConnected:Boolean(t.supplier_id),CtaConnectedSupplierId:t.supplier_id||null,Action:{ObjectId:"Form"===e?null==t?void 0:t.field_id:Ne(2),ObjectType:"Form"===e?"DynamicForm":e,ObjectUrl:t.field_value}},i=this.infoSectionUi.addCtaButton(n);this.InfoSectionManager.addCtaButton(i,n,this.sectionId)}))}}class vl{constructor(e,t,A="label",n){this.type="label",this.actionType="cta",this.updateTimeoutId=null,this.value=e,this.ctaAttributes=t,this.type=A,this.actionType=n,this.pageData=globalThis.pageData,this.inputId=`cta-${this.type}-input`,this.input=document.createElement("input"),this.debouncedUpdate=this.debounce(this.updateInfoSection.bind(this),500),this.init()}debounce(e,t){return()=>{this.updateTimeoutId&&clearTimeout(this.updateTimeoutId),this.updateTimeoutId=window.setTimeout((()=>{e()}),t)}}updateInfoSection(){if("Information"!==this.pageData.PageType)return;const e=globalThis.selectedComponent;if(!e)return;const t=new hl;if("cta"===this.actionType){const A="label"===this.type?"CtaLabel":"CtaAction";t.updateInfoCtaAttributes(e.getId(),A,this.input.value.trim())}else if("tile"===this.actionType){const A=e.parent();t.updateInfoTileAttributes(A.parent().getId(),A.getId(),"Action.ObjectUrl",this.input.value.trim())}}updateUIElements(){const e=globalThis.selectedComponent;if(e&&"label"===this.type){const t=e.find(".label")[0];if(t){let e=this.input.value;"Round"===this.ctaAttributes.CtaButtonType||"FullWidth"===this.ctaAttributes.CtaButtonType?e=this.truncate(36):"Icon"!==this.ctaAttributes.CtaButtonType&&"Image"!==this.ctaAttributes.CtaButtonType||(e=this.truncate(20)),t.components(e),t.addAttributes({title:this.input.value})}}}handleInputChange(){this.updateUIElements(),this.debouncedUpdate()}init(){this.setupInputElement(),this.attachEventListeners()}setupInputElement(){this.input.type="text",this.input.placeholder="label"===this.type?"Label":"Action",this.input.classList.add("tb-form-control",`cta-${this.type}-input`),this.input.id=this.inputId,this.input.style.marginTop="10px",this.input.value=this.value||"","Form"===this.ctaAttributes.CtaType&&(this.input.readOnly=!0,this.input.style.cursor="pointer",this.input.style.backgroundColor="#f8f9fa")}attachEventListeners(){this.input.addEventListener("input",(()=>{this.handleInputChange()})),this.input.addEventListener("click",(e=>{"Form"===this.ctaAttributes.CtaType&&(e.preventDefault(),console.log("form clicked"),this.openFormEditModal())}))}openFormEditModal(){new ml(!0,"Form").handleForm()}truncate(e){return this.input.value.length>e?this.input.value.substring(0,e)+"..":this.input.value}getInputElement(){return this.input}render(e){const t=document.getElementById(this.inputId);t?t.value=this.input.value:e.appendChild(this.input)}destroy(){this.updateTimeoutId&&(clearTimeout(this.updateTimeoutId),this.updateTimeoutId=null)}}class Bl{constructor(e,t){this.tileAttributes=t,this.selectedComponent=e,this.themeManager=new Os}setTileAttributes(){this.setBgColorProperties(),this.setOpacityProperties(),this.setTitleStyleProperties(),this.setTileActionProperties(),this.setTileIconProperties()}setBgColorProperties(){var e,t;const A=document.getElementById("theme-color-palette"),n=this.selectedComponent.getEl(),i=function(e){if(!e)return"";const t=e.match(/\d+/g);return t&&3===t.length?`#${t.map((e=>Number(e).toString(16).padStart(2,"0"))).join("")}`:""}(window.getComputedStyle(n).backgroundColor||n.style.backgroundColor),r=null===(e=this.selectedComponent.getStyle())||void 0===e?void 0:e["background-image"],o=this.themeManager.getThemeColor(null===(t=this.tileAttributes)||void 0===t?void 0:t.BGColor),s=null==A?void 0:A.children;for(let e=0;e<s.length;e++){const t=s[e].querySelector("input");r||i!==o||i!==t.value?t.checked=!1:t.checked=!0}}setOpacityProperties(){var e,t,A;const n=null===(e=this.tileAttributes)||void 0===e?void 0:e.BGImageUrl,i=(null===(t=this.tileAttributes)||void 0===t?void 0:t.Opacity)||0,r=null===(A=this.selectedComponent.getStyle())||void 0===A?void 0:A["background-image"];let o="";if(r&&r.startsWith("url(")&&(o=r.replace(/^url\(["']?/,"").replace(/["']?\)$/,"")),o&&n){if(o===n){const e=document.querySelector(".tile-img-section");if(e){e.querySelector("#slider-wrapper").style.display="flex";const t=e.querySelector("#bg-opacity"),A=Math.round(100*i)/100;t.value=A.toString(),e.querySelector("#valueDisplay").textContent=t.value+"%";const n=e.querySelector("#tile-img-container");n&&(n.style.display="flex"),this.selectedComponent.addStyle({"background-color":`rgba(0, 0, 0, ${i/100})`})}}}else{const e=document.querySelector("#tile-img-container");e&&(e.style.display="none");const t=document.querySelector("#slider-wrapper");t&&(t.style.display="none")}}setTitleStyleProperties(){var e,t,A,n,i,r,o,s;const a=document.querySelector("#tile-title"),l=null===(e=this.tileAttributes)||void 0===e?void 0:e.Text;a.focus(),l&&!["title","titel"].includes(l.toLowerCase())?a.value=l:a.value="";const c=a.parentElement.querySelector(".cta-action-input");if(c&&c.remove(),"Phone"===(null===(A=null===(t=this.tileAttributes)||void 0===t?void 0:t.Action)||void 0===A?void 0:A.ObjectType)||"Email"===(null===(i=null===(n=this.tileAttributes)||void 0===n?void 0:n.Action)||void 0===i?void 0:i.ObjectType)||"WebLink"===(null===(o=null===(r=this.tileAttributes)||void 0===r?void 0:r.Action)||void 0===o?void 0:o.ObjectType)){const e=this.tileActionDisplay();a.insertAdjacentElement("afterend",e)}const d=null===(s=this.tileAttributes)||void 0===s?void 0:s.Color,u=document.querySelector("#text-color-palette"),h=null==u?void 0:u.querySelectorAll("input");null==h||h.forEach((e=>{e.value===d?e.checked=!0:e.checked=!1}))}setTileActionProperties(){var e;const t=null===(e=this.tileAttributes)||void 0===e?void 0:e.Align,A=document.querySelector(".text-alignment"),n=null==A?void 0:A.querySelectorAll("input");null==n||n.forEach((e=>{e.value===t?e.checked=!0:e.checked=!1}))}setTileIconProperties(){var e,t;const A=null===(e=this.tileAttributes)||void 0===e?void 0:e.Icon;if(A){const e=this.themeManager.getIconCategory(A);if(this.themeManager.updateThemeIcons(e),!e)return;const t=Ve().find((t=>t.name.toLowerCase()===e.toLowerCase()));if(!t)return;const n=document.querySelector("#icon-categories-list"),i=n.querySelectorAll(".category-option");console.log(i),i.forEach((A=>{if(A.classList.remove("selected"),A.getAttribute("data-value")===e){A.classList.add("selected");const e=n.querySelector(".selected-category-value");e&&(e.textContent=t.label)}}))}const n=this.selectedComponent.getEl().querySelector(".tile-icon"),i=null!==(t=null==n?void 0:n.getAttribute("title"))&&void 0!==t?t:"";document.querySelector("#icons-list").querySelectorAll(".icon").forEach((e=>{var t;const n=e,r=null!==(t=n.getAttribute("title"))&&void 0!==t?t:"";if(A&&r===A&&r===i){n.style.border="2px solid #5068A8";const e=n.querySelector("svg path");e&&e.setAttribute("fill","#5068A8")}else{n.style.border="";const e=n.querySelector("svg path");e&&e.setAttribute("fill","#7c8791")}}))}tileActionDisplay(){var e,t;const A=null===(t=null===(e=this.tileAttributes)||void 0===e?void 0:e.Action)||void 0===t?void 0:t.ObjectUrl;return new vl(A,this.tileAttributes,"action","tile").getInputElement()}}var wl=function(e,t,A,n){return new(A||(A=Promise))((function(i,r){function o(e){try{a(n.next(e))}catch(e){r(e)}}function s(e){try{a(n.throw(e))}catch(e){r(e)}}function a(e){var t;e.done?i(e.value):(t=e.value,t instanceof A?t:new A((function(e){e(t)}))).then(o,s)}a((n=n.apply(e,t||[])).next())}))};class yl{constructor(e,t,A,n){this.currentPosition=null,this.type=e,this.infoId=t,this.sectionId=A,this.saveCallback=n,this.toolboxService=new s,this.selectedImages=new Map,this.imageUploadUi=new je(this),this.infoSectionManager=new hl}addSelectedImage(e){this.selectedImages.set(e.Id,e),this.imageUploadUi.updateModalActions()}removeSelectedImage(e){this.selectedImages.delete(e),this.imageUploadUi.updateModalActions()}clearSelectedImages(){this.selectedImages.clear(),this.imageUploadUi.updateModalActions()}hasSelectedImages(){return this.selectedImages.size>0}getSelectedImages(){return Array.from(this.selectedImages.values())}getInfoContent(){return this.infoId?this.infoSectionManager.getInfoContent(this.infoId):null}captureCurrentPosition(e,t,A){const n=e.getBoundingClientRect(),i=t.getBoundingClientRect(),r=(n.left-i.left)/i.width*100,o=(n.top-i.top)/i.height*100,s=i.width/n.width,a=i.height/n.height,l=Math.max(s,a);let c=100*l;globalThis.selectedComponent;const d=r/(100-n.width/i.width*100)*100,u=o/(100-n.height/i.height*100)*100,h=Math.max(0,Math.min(100,d||0)),p=Math.max(0,Math.min(100,u||0));return this.currentPosition={x:r,y:o,left:e.style.left,top:e.style.top,scale:l,backgroundSize:`${c}%`,backgroundPosition:`${h}% ${p}%`},this.imgFrame=e,this.currentPosition}getCurrentPosition(){return this.currentPosition}createImageFromUrl(e){return wl(this,void 0,void 0,(function*(){if(!this.currentPosition||!this.imgFrame)return;const t=new Image;t.crossOrigin="anonymous",t.src=e,yield new Promise(((e,A)=>{t.onload=()=>e(),t.onerror=()=>A(new Error("Image failed to load"))}));const A=document.createElement("canvas"),n=A.getContext("2d");if(!n)return;const i=this.imgFrame.offsetWidth,r=this.imgFrame.offsetHeight;A.width=i,A.height=r;const o=parseFloat(this.currentPosition.backgroundSize)/100,[s,a]=this.currentPosition.backgroundPosition.split(" ").map((e=>parseFloat(e)/100)),l=t.naturalWidth/o,c=t.naturalHeight/o,d=(t.naturalWidth-l)*s,u=(t.naturalHeight-c)*a;n.drawImage(t,d,u,l,c,0,0,i,r);const h=n.getImageData(0,0,A.width,A.height),p=h.data;for(let e=0;e<p.length;e+=4)p[e]=Math.min(255,1.1*p[e]),p[e+1]=Math.min(255,1.1*p[e+1]),p[e+2]=Math.min(255,1.1*p[e+2]);n.putImageData(h,0,0);const g=A.toDataURL("image/jpeg"),f=Math.round(g.length*(3/4)-2),m=Date.now().toString(),v={MediaId:m,MediaName:`cropped-image-${m}.jpeg`,MediaUrl:g,MediaType:"jpeg",MediaSize:f};return(yield this.toolboxService.uploadCroppedFile(v.MediaUrl,v.MediaName,v.MediaSize,v.MediaType)).BC_Trn_Media.MediaUrl}))}handleSave(e,t){return wl(this,void 0,void 0,(function*(){try{const A=this.getSelectedImages();this.saveCallback?this.saveCallback(A):"info"===this.type?yield this.saveMultipleImages(A,t):"cta"===this.type?this.updateInfoCtaButtonImage(A[0]):yield this.saveSingleImage(A[0],e)}catch(e){throw console.error("Error during save:",e),e}}))}saveMultipleImages(e,t){return wl(this,void 0,void 0,(function*(){yield this.infoSectionManager.addMultipleImages(e,Boolean(this.infoId),this.infoId,t)}))}saveSingleImage(e,t){return wl(this,void 0,void 0,(function*(){const A=globalThis.selectedComponent;if(!A)return;A.getEl().style.removeProperty("background-color");const n=encodeURI(e.Url),i=yield this.createImageFromUrl(e.Url),r=encodeURI(i||e.Url),o={"background-image":`url(${r})`,"background-blend-mode":"overlay","background-color":"transparent"};this.currentPosition&&(console.log("this.currentPosition",this.currentPosition),o["background-size"]="cover",o["background-position"]="center",o["background-color"]=`rgba(0, 0, 0, ${t}) !important`),A.addStyle(o);const s=A.parent(),a=s.parent();if("Information"===globalThis.pageData.PageType){const e=a.getId(),i=s.getId(),o={BGImageUrl:r,OriginalImageUrl:n,Opacity:t};this.currentPosition&&Object.assign(o,{BGSize:this.currentPosition.backgroundSize,BGPosition:this.currentPosition.backgroundPosition,Top:this.currentPosition.top,Left:this.currentPosition.left});for(const[t,A]of Object.entries(o))this.infoSectionManager.updateInfoTileAttributes(e,i,t,A);const l=this.updateInfoTileAttributes(e,i);new Bl(A,l).setTileAttributes()}}))}updateInfoTileAttributes(e,t){var A;if(!e||!t)return;const n=globalThis.infoContentMapper.getInfoContent(e);return null===(A=null==n?void 0:n.Tiles)||void 0===A?void 0:A.find((e=>e.Id===t))}updateInfoCtaButtonImage(e){const t=encodeURI(e.Url);this.infoSectionManager.updateInfoCtaButtonImage(t,this.infoId)}loadMediaFiles(){return wl(this,void 0,void 0,(function*(){try{const e=yield this.toolboxService.getMediaFiles();return e&&e.length>0?this.sortMediaBySelection(e):[]}catch(e){throw console.error("Error loading media files:",e),e}}))}sortMediaBySelection(e){return"info"===this.type&&this.infoId?e.sort(((e,t)=>{const A=this.isMediaSelected(e.MediaId);return A===this.isMediaSelected(t.MediaId)?0:A?-1:1})):e}isMediaSelected(e){try{return this.getExistingImages().some((t=>t.InfoImageId===`id-${e}`))}catch(e){return console.error("Error checking selected media:",e),!1}}getExistingImages(){var e,t;const A=globalThis.currentPageId;if(!A)return[];const n=localStorage.getItem(`data-${A}`);if(!n)return[];const i=JSON.parse(n),r=null===(t=null===(e=null==i?void 0:i.PageInfoStructure)||void 0===e?void 0:e.InfoContent)||void 0===t?void 0:t.find((e=>e.InfoId===this.infoId));return(null==r?void 0:r.Images)||[]}handleFilesUpload(e){return wl(this,void 0,void 0,(function*(){const t=Array.from(e),A=[];for(const e of t)if(e.type.startsWith("image/"))try{const t=yield this.readFileAsDataURL(e),n=this.cleanFileName(e.name),i={MediaId:Date.now().toString(),MediaName:n,MediaUrl:t,MediaType:e.type,MediaSize:e.size};yield this.toolboxService.uploadFile(i.MediaUrl,i.MediaName,i.MediaSize,i.MediaType),A.push({Id:i.MediaId,Url:i.MediaUrl})}catch(e){console.error("Error processing file:",e)}return A}))}getFile(e){return wl(this,void 0,void 0,(function*(){const t=yield fetch(e),A=yield t.blob();return new File([A],"image.jpg",{type:A.type})}))}getBackgroundImage(){const e=globalThis.selectedComponent;if(!e)return null;const t=e.parent(),A=t.parent(),n=(globalThis.pageData,this.updateInfoTileAttributes(A.getId(),t.getId()));let i;if(null==n?void 0:n.OriginalImageUrl)i=null==n?void 0:n.OriginalImageUrl;else if(i=e.getStyle()["background-image"],!i)return null;return i.replace(/url\(["']?|["']?\)/g,"")}readFileAsDataURL(e){return new Promise(((t,A)=>{const n=new FileReader;n.onload=()=>{n.result?t(n.result):A(new Error("FileReader did not produce a result"))},n.onerror=()=>A(n.error),n.readAsDataURL(e)}))}cleanFileName(e){const t=e.split("."),A=t.pop();return`${t.join(".").toLowerCase().replace(/\s+/g,"-").replace(/[()]/g,"").replace(/[^a-z0-9-_]/g,"")}.${A}`}createFileList(e){const t=new DataTransfer;return e.forEach((e=>t.items.add(e))),t.files}compressLargeFiles(e){return wl(this,void 0,void 0,(function*(){const t=2097152,A=[];for(let n=0;n<e.length;n++){const i=e[n];if(i.size>t){const e=yield this.compressImage(i,t);A.push(e)}else A.push(i)}return A}))}compressImage(e,t){return wl(this,void 0,void 0,(function*(){return new Promise((A=>{const n=document.createElement("canvas"),i=n.getContext("2d"),r=new Image;r.onload=()=>{let{width:o,height:s}=r;const a=1920;o>s&&o>a?(s=s*a/o,o=a):s>a&&(o=o*a/s,s=a),n.width=o,n.height=s,i.drawImage(r,0,0,o,s);let l=.9;const c=()=>{n.toBlob((n=>{if(n&&(n.size<=t||l<=.1)){const t=new File([n],e.name,{type:e.type,lastModified:Date.now()});A(t)}else l-=.1,c()}),e.type,l)};c()},r.src=URL.createObjectURL(e)}))}))}render(e){this.imageUploadUi.render(e)}get getInfoId(){return this.infoId}get getType(){return this.type}get getSectionId(){return this.sectionId}}var Cl=function(e,t,A,n){return new(A||(A=Promise))((function(i,r){function o(e){try{a(n.next(e))}catch(e){r(e)}}function s(e){try{a(n.throw(e))}catch(e){r(e)}}function a(e){var t;e.done?i(e.value):(t=e.value,t instanceof A?t:new A((function(e){e(t)}))).then(o,s)}a((n=n.apply(e,t||[])).next())}))};class bl{constructor(e,t){this.editor=e,this.page=t,this.toolBoxService=new s,this.contentMapper=new Fs(this.page.PageId)}saveContentDescription(e){"Location"===this.page.PageName?this.saveLocationContent(e):"Reception"===this.page.PageName?this.saveReceptionContent(e):this.saveContentPageInfo(e)}saveContentPageInfo(e){return Cl(this,void 0,void 0,(function*(){const t={ProductServiceId:this.page.PageId,ProductServiceDescription:e};if(yield this.toolBoxService.updateDescription(t)){const t=this.editor.Components.getWrapper().find("#contentDescription")[0];t&&this.updateMapper(t,e)}}))}saveLocationContent(e){return Cl(this,void 0,void 0,(function*(){const t={LocationDescription:e,LocationImageBase64:"",ReceptionDescription:"",ReceptionImageBase64:""};if(yield this.toolBoxService.updateLocationInfo(t)){const t=this.editor.Components.getWrapper().find("#contentDescription")[0];t&&this.updateMapper(t,e)}}))}saveReceptionContent(e){return Cl(this,void 0,void 0,(function*(){const t={LocationDescription:"",LocationImageBase64:"",ReceptionDescription:e,ReceptionImageBase64:""};if(yield this.toolBoxService.updateLocationInfo(t)){const t=this.editor.Components.getWrapper().find("#contentDescription")[0];t&&this.updateMapper(t,e)}}))}updateMapper(e,t){const A=e.parent();e.replaceWith(`<div ${B} id="contentDescription">${this.addGrapesAttributes(t)}</div>`),this.contentMapper.updateContentDescription(A.getId(),t)}updateContentImage(e){"Reception"===this.page.PageName||"Location"===this.page.PageName?this.updateLocationImage(e):this.updateServiceContentImage(e)}updateCtaButtonImage(e){const t=globalThis.ctaContainerId,A=this.editor.Components.getWrapper().find(`#${t}`)[0];if(A){const n=A.find("img")[0],i=A.find("svg")[0];if(n){n.setAttributes({src:e,alt:"cta Image"});const A=`\n                    <svg ${B} xmlns="http://www.w3.org/2000/svg" id="Component_57_1" data-name="Component 57 โ 1" width="22" height="22" viewBox="0 0 33 33">\n                        <g ${B} id="Ellipse_532" data-name="Ellipse 532" fill="#fff" stroke="#5068a8" stroke-width="2">\n                        <circle ${B} cx="16.5" cy="16.5" r="16.5" stroke="none"/>\n                        <circle ${B} cx="16.5" cy="16.5" r="16" fill="none"/>\n                        </g>\n                        <path ${B} id="Icon_feather-edit-2" data-name="Icon feather-edit-2" d="M12.834,3.8a1.854,1.854,0,0,1,2.622,2.622L6.606,15.274,3,16.257l.983-3.606Z" transform="translate(7 6.742)" fill="#5068a8" stroke="#5068a8" stroke-linecap="round" stroke-linejoin="round" stroke-width="1"/>\n                    </svg>\n                    `;i.replaceWith(A),this.contentMapper.updateContentButtonType(t,"Image",e)}}}updateServiceContentImage(e){return Cl(this,void 0,void 0,(function*(){try{const t=yield De(e),A={ProductServiceId:this.page.PageId,ProductServiceDescription:"",ProductServiceImageBase64:t};if(yield this.toolBoxService.updateContentImage(A)){const t=this.editor.Components.getWrapper().find("#product-service-image")[0];t&&(t.setAttributes({src:e,alt:`${this.page.PageName} Image`}),this.contentMapper.updateContentImage(t.parent().getId(),e))}}catch(e){console.error("Error:",e)}}))}updateLocationImage(e){return Cl(this,void 0,void 0,(function*(){try{const t=yield De(e);let A;if("Location"===this.page.PageName?A={LocationDescription:"",LocationImageBase64:t,ReceptionDescription:"",ReceptionImageBase64:""}:"Reception"===this.page.PageName&&(A={LocationDescription:"",LocationImageBase64:"",ReceptionDescription:"",ReceptionImageBase64:t}),yield this.toolBoxService.updateLocationInfo(A)){const t=this.editor.Components.getWrapper().find("#product-service-image")[0];t&&(t.setAttributes({src:e,alt:`${this.page.PageName} Image`}),this.contentMapper.updateContentImage(t.parent().getId(),e))}}catch(e){console.error("Error:",e)}}))}deleteContentImage(){return Cl(this,void 0,void 0,(function*(){try{const e={ProductServiceId:this.page.PageId};if(yield this.toolBoxService.deleteContentImage(e)){const e=this.editor.Components.getWrapper().find("#product-service-image")[0];if(e){const t=e.parent();t&&t.remove()}}}catch(e){console.error("Error deleting media:",e)}}))}addGrapesAttributes(e){const t=document.createElement("div");return"string"==typeof e&&(t.innerHTML=e),t.querySelectorAll("*").forEach((e=>{e.setAttribute("data-gjs-draggable","false"),e.setAttribute("data-gjs-selectable","false"),e.setAttribute("data-gjs-editable","false"),e.setAttribute("data-gjs-highlightable","false"),e.setAttribute("data-gjs-droppable","false"),e.setAttribute("data-gjs-resizable","false"),e.setAttribute("data-gjs-hoverable","false")})),t.innerHTML}}var Il=function(e,t,A,n){return new(A||(A=Promise))((function(i,r){function o(e){try{a(n.next(e))}catch(e){r(e)}}function s(e){try{a(n.throw(e))}catch(e){r(e)}}function a(e){var t;e.done?i(e.value):(t=e.value,t instanceof A?t:new A((function(e){e(t)}))).then(o,s)}a((n=n.apply(e,t||[])).next())}))};class El{constructor(e,t,A,n){this.fileListElement=null,this.selectedImages=new Map,this.currentPosition=null,this.type=e,this.infoId=t,this.sectionId=A,this.saveCallback=n,this.modalContent=document.createElement("div"),this.toolboxService=new s,this.init()}init(){this.modalContent.innerHTML="",this.modalContent.className="tb-modal-content",this.createModalHeader(),this.createUploadArea(),this.createFileListElement(),this.loadExistingImageAndFiles(),this.createModalActions()}createModalHeader(){const e=document.createElement("div");e.className="tb-modal-header";const t=document.createElement("h2");t.innerText=Me.t("sidebar.image_upload.modal_title");const A=document.createElement("span");A.className="close",A.innerHTML='\n      <svg xmlns="http://www.w3.org/2000/svg" width="21" height="21" viewBox="0 0 21 21">\n        <path id="Icon_material-close" data-name="Icon material-close" d="M28.5,9.615,26.385,7.5,18,15.885,9.615,7.5,7.5,9.615,15.885,18,7.5,26.385,9.615,28.5,18,20.115,26.385,28.5,28.5,26.385,20.115,18Z" transform="translate(-7.5 -7.5)" fill="#6a747f" opacity="0.54"></path>\n      </svg>\n    ',A.addEventListener("click",(e=>{e.preventDefault(),this.closeModal()})),e.appendChild(t),e.appendChild(A),this.modalContent.appendChild(e)}createUploadArea(){const e=document.createElement("div");e.className="upload-area",e.id="uploadArea",e.innerHTML=`\n      <svg xmlns="http://www.w3.org/2000/svg" width="40.999" height="28.865" viewBox="0 0 40.999 28.865">\n        <path id="Path_1040" data-name="Path 1040" d="M21.924,11.025a3.459,3.459,0,0,0-3.287,3.608,3.459,3.459,0,0,0,3.287,3.608,3.459,3.459,0,0,0,3.287-3.608A3.459,3.459,0,0,0,21.924,11.025ZM36.716,21.849l-11.5,14.432-8.218-9.02L8.044,39.89h41Z" transform="translate(-8.044 -11.025)" fill="#afadad"></path>\n      </svg>\n      <div class="upload-text">\n        ${Me.t("sidebar.image_upload.upload_message")}\n      </div>\n    `,this.setupDragAndDrop(e),this.modalContent.appendChild(e)}createFileListElement(){this.fileListElement=document.createElement("div"),this.fileListElement.className="file-list",this.fileListElement.id="fileList";const e=document.createElement("div");e.id="loading-media",e.className="loading-media",this.fileListElement.appendChild(e),this.modalContent.appendChild(this.fileListElement)}createModalActions(){const e=document.createElement("div");e.className="modal-actions",e.style.display="none";const t=document.createElement("button");t.className="tb-btn tb-btn-outline",t.id="cancel-modal",t.innerText=Me.t("sidebar.image_upload.cancel"),t.addEventListener("click",(e=>{e.preventDefault(),this.closeModal()}));const A=document.createElement("button");A.className="tb-btn tb-btn-primary",A.id="save-modal",A.innerText=Me.t("sidebar.image_upload.save"),A.addEventListener("click",(e=>Il(this,void 0,void 0,(function*(){e.preventDefault(),yield this.handleSave()})))),e.appendChild(t),e.appendChild(A),this.modalContent.appendChild(e)}addSelectedImage(e){this.selectedImages.set(e.Id,e),this.updateModalActions()}removeSelectedImage(e){this.selectedImages.delete(e),this.updateModalActions()}clearSelectedImages(){this.selectedImages.clear(),this.updateModalActions()}updateModalActions(){const e=this.modalContent.querySelector(".modal-actions");e&&(e.style.display=this.selectedImages.size>0?"flex":"none")}captureCurrentPosition(e,t,A){const n=e.getBoundingClientRect(),i=t.getBoundingClientRect(),r=(A.getBoundingClientRect(),(i.left-n.left)/n.width*100),o=(i.top-n.top)/n.height*100,s=i.width/n.width,a=i.height/n.height,l=Math.min(s,a),c=-1*r,d=-1*o;return this.currentPosition={x:r,y:o,scale:l,backgroundSize:1/l*100+"%",backgroundPosition:`${c}% ${d}%`},this.currentPosition}handleSave(){return Il(this,void 0,void 0,(function*(){try{const e=Array.from(this.selectedImages.values());this.currentPosition&&console.log("Final position data being saved:",this.currentPosition),this.saveCallback?this.saveCallback(e):"info"===this.type?yield this.saveMultipleImages(e):"cta"===this.type?this.updateInfoCtaButtonImage(e[0]):yield this.saveSingleImage(e[0]),this.closeModal()}catch(e){console.error("Error during save:",e)}}))}saveMultipleImages(e){return Il(this,void 0,void 0,(function*(){const t=new hl;yield t.addMultipleImages(e,Boolean(this.infoId),this.infoId)}))}saveSingleImage(e){return Il(this,void 0,void 0,(function*(){const t=globalThis.selectedComponent;if(!t)return;const A=encodeURI(e.Url),n={"background-image":`url(${A})`,"background-blend-mode":"overlay"};this.currentPosition?(n["background-size"]=this.currentPosition.backgroundSize,n["background-position"]=this.currentPosition.backgroundPosition,console.log("Applying positioned background styles:",n)):(n["background-size"]="cover",n["background-position"]="center"),t.addStyle(n);const i=t.parent(),r=i.parent();if("Information"===globalThis.pageData.PageType){const e=new hl;e.updateInfoTileAttributes(r.getId(),i.getId(),"BGImageUrl",A),this.currentPosition&&(e.updateInfoTileAttributes(r.getId(),i.getId(),"BackgroundSize",this.currentPosition.backgroundSize),e.updateInfoTileAttributes(r.getId(),i.getId(),"BackgroundPosition",this.currentPosition.backgroundPosition));const n=this.updateInfoTileAttributes(r.getId(),i.getId());new Bl(t,n).setTileAttributes()}}))}updateInfoTileAttributes(e,t){var A;if(!e||!t)return;const n=globalThis.infoContentMapper.getInfoContent(e);return null===(A=null==n?void 0:n.Tiles)||void 0===A?void 0:A.find((e=>e.Id===t))}updateInfoCtaButtonImage(e){const t=encodeURI(e.Url);(new hl).updateInfoCtaButtonImage(t,this.infoId)}loadExistingImageAndFiles(){const e=globalThis.selectedComponent;if(e){const t=e.getStyle()["background-image"];if(void 0!==t){const e=t.replace(/url\(["']?|["']?\)/g,"");e&&this.displayImageEditor(e)}}this.loadMediaFiles()}loadMediaFiles(){return Il(this,void 0,void 0,(function*(){try{const e=yield this.toolboxService.getMediaFiles();if(this.fileListElement&&(this.fileListElement.innerHTML="",e&&e.length>0)){this.sortMediaBySelection(e).forEach((e=>{}));const t=document.getElementById("loading-media");t&&(t.style.display="none")}}catch(e){console.error("Error loading media files:",e),this.fileListElement&&(this.fileListElement.innerHTML='<div class="error-message">Error loading media files. Please try again.</div>')}}))}sortMediaBySelection(e){return"info"===this.type&&this.infoId?e.sort(((e,t)=>{const A=this.isMediaSelected(e.MediaId);return A===this.isMediaSelected(t.MediaId)?0:A?-1:1})):e}isMediaSelected(e){try{return this.getExistingImages().some((t=>t.InfoImageId===`id-${e}`))}catch(e){return console.error("Error checking selected media:",e),!1}}getExistingImages(){var e,t;const A=globalThis.currentPageId;if(!A)return[];const n=localStorage.getItem(`data-${A}`);if(!n)return[];const i=JSON.parse(n),r=null===(t=null===(e=null==i?void 0:i.PageInfoStructure)||void 0===e?void 0:e.InfoContent)||void 0===t?void 0:t.find((e=>e.InfoId===this.infoId));return(null==r?void 0:r.Images)||[]}setupDragAndDrop(e){return Il(this,void 0,void 0,(function*(){const t=document.createElement("input");t.type="file",t.id="fileInput",t.multiple=!0,t.accept="image/jpeg, image/jpg, image/png",t.style.display="none",e.appendChild(t);const A=e.querySelector(".upload-text");A&&A.addEventListener("click",(e=>{e.stopPropagation(),t.click()})),e.addEventListener("click",(A=>{A.target===e&&t.click()})),t.addEventListener("change",(()=>{t.files&&t.files.length>0&&this.handleFiles(t.files)})),e.addEventListener("dragover",(t=>{t.preventDefault(),e.classList.add("drag-over")})),e.addEventListener("dragleave",(t=>{t.preventDefault(),e.classList.remove("drag-over")})),e.addEventListener("drop",(t=>Il(this,void 0,void 0,(function*(){var A;t.preventDefault(),e.classList.remove("drag-over"),(null===(A=t.dataTransfer)||void 0===A?void 0:A.files)&&t.dataTransfer.files.length>0&&(yield this.handleFiles(t.dataTransfer.files))}))))}))}handleFiles(e){return Il(this,void 0,void 0,(function*(){const t=Array.from(e);for(const e of t)if(e.type.startsWith("image/"))try{const t=yield this.readFileAsDataURL(e),A={MediaId:Date.now().toString(),MediaName:e.name,MediaUrl:t,MediaType:e.type,MediaSize:e.size};yield this.toolboxService.uploadFile(A.MediaUrl,A.MediaName,A.MediaSize,A.MediaType).then((()=>{const n={Id:A.MediaId,Url:A.MediaUrl};"tile"===this.type&&this.displayImageEditor(t,e),this.loadMediaFiles(),this.addSelectedImage(n)}))}catch(e){console.error("Error processing file:",e)}}))}getFile(e){return Il(this,void 0,void 0,(function*(){const t=yield fetch(e),A=yield t.blob();return new File([A],"image.jpg",{type:A.type})}))}displayImageEditor(e,t){return Il(this,void 0,void 0,(function*(){t||(t=yield this.getFile(e));const A=this.modalContent.querySelector(".upload-area");A&&(A.innerHTML="");const n=document.createElement("div");n.className="image-editor-container",Object.assign(n.style,{position:"relative",width:"100%",height:"400px",overflow:"hidden",border:"1px solid #ccc"});const i=document.createElement("img");i.id="selected-image",i.src=e;const r=document.createElement("div");r.id="position-frame",Object.assign(r.style,{position:"absolute",border:"2px solid #5068a8",backgroundColor:"rgba(80, 104, 168, 0.1)",cursor:"move"}),this.setupPositionFrame(i,r,n),n.appendChild(i),n.appendChild(r),A&&A.appendChild(n),this.createOpacitySlider(i,A),this.updateModalActions()}))}setupPositionFrame(e,t,A){const n=globalThis.selectedComponent;let i=2;if(n){const e=n.parent().parent().find(".template-wrapper").length||1;1===e?i=2:2===e?i=1.5:3===e&&(i=1)}e.onload=()=>{const n=300*i;Object.assign(t.style,{width:`${n}px`,height:"300px",left:(A.offsetWidth-n)/2+"px",top:(A.offsetHeight-300)/2+"px"}),this.captureCurrentPosition(e,t,A)},this.addResizeHandles(t,e,A),this.addDragFunctionality(t,A,e)}addResizeHandles(e,t,A){["top-left","top-right","bottom-left","bottom-right"].forEach((n=>{const i=document.createElement("div");i.className=`resize-handle ${n}`,Object.assign(i.style,{position:"absolute",width:"10px",height:"10px",backgroundColor:"#5068a8",zIndex:"11",cursor:"nw-resize"}),n.includes("top")&&(i.style.top="-5px"),n.includes("bottom")&&(i.style.bottom="-5px"),n.includes("left")&&(i.style.left="-5px"),n.includes("right")&&(i.style.right="-5px"),e.appendChild(i),this.addResizeLogic(i,e,n,t,A)}))}addResizeLogic(e,t,A,n,i){e.addEventListener("mousedown",(e=>{e.preventDefault(),e.stopPropagation();const r=e.clientX,o=e.clientY,s=t.offsetWidth,a=t.offsetHeight,l=t.offsetLeft,c=t.offsetTop,d=e=>{const d=e.clientX-r,u=e.clientY-o;A.includes("right")&&(t.style.width=`${s+d}px`),A.includes("bottom")&&(t.style.height=`${a+u}px`),A.includes("left")&&(t.style.width=s-d+"px",t.style.left=`${l+d}px`),A.includes("top")&&(t.style.height=a-u+"px",t.style.top=`${c+u}px`),this.captureCurrentPosition(n,t,i)},u=()=>{document.removeEventListener("mousemove",d),document.removeEventListener("mouseup",u),this.captureCurrentPosition(n,t,i)};document.addEventListener("mousemove",d),document.addEventListener("mouseup",u)}))}addDragFunctionality(e,t,A){let n=!1,i=0,r=0;e.addEventListener("mousedown",(t=>{t.preventDefault(),t.stopPropagation(),n=!0,i=t.clientX-e.getBoundingClientRect().left,r=t.clientY-e.getBoundingClientRect().top,document.body.style.userSelect="none"})),document.addEventListener("mousemove",(o=>{if(n){o.preventDefault(),o.stopPropagation();const n=t.getBoundingClientRect();let s=o.clientX-i-n.left,a=o.clientY-r-n.top;s<0&&(s=0),s+e.offsetWidth>n.width&&(s=n.width-e.offsetWidth),a<0&&(a=0),a+e.offsetHeight>n.height&&(a=n.height-e.offsetHeight),e.style.left=`${s}px`,e.style.top=`${a}px`,this.captureCurrentPosition(A,e,t)}})),document.addEventListener("mouseup",(i=>{if(n){i.preventDefault(),i.stopPropagation(),n=!1,document.body.style.userSelect="auto";const r=this.captureCurrentPosition(A,e,t);console.log("Drag completed - Final position:",{timestamp:(new Date).toISOString(),framePosition:{left:e.style.left,top:e.style.top,width:e.style.width,height:e.style.height},calculatedPosition:r,dragEndCoordinates:{clientX:i.clientX,clientY:i.clientY}})}}))}createOpacitySlider(e,t){const A=document.createElement("div");A.className="modal-footer-slider";const n=document.createElement("input");Object.assign(n,{type:"range",min:"0",max:"100",step:"1",value:"0"}),Object.assign(n.style,{width:"100%",marginLeft:"32px"});const i=document.createElement("span");i.innerText=`${n.value}%`,Object.assign(i.style,{fontSize:"14px",color:"#333"}),n.addEventListener("input",(()=>{const t=parseInt(n.value,10)/100;i.innerText=`${n.value}%`;const A=globalThis.selectedComponent;A&&(Object.assign(A.getEl().style,{backgroundColor:`rgba(0, 0, 0, ${t})`,backgroundImage:`url(${e.src})`,backgroundSize:"cover"}),"Information"===globalThis.pageData.PageType&&(new hl).updateInfoTileAttributes(A.parent().parent().getId(),A.parent().getId(),"Opacity",parseInt(n.value)),Object.assign(e.style,{opacity:"1",filter:`brightness(${1-t})`}),console.log("Opacity changed:",{value:t,percentage:`${n.value}%`}))}));const r=document.createElement("div");Object.assign(r.style,{display:"flex",alignItems:"center",gap:"10px"}),r.appendChild(n),r.appendChild(i),A.appendChild(r),this.modalContent.appendChild(A),t&&t.appendChild(A)}closeModal(){const e=this.modalContent.parentElement;e&&(e.style.display="none",e.remove())}readFileAsDataURL(e){return new Promise(((t,A)=>{const n=new FileReader;n.onload=()=>{n.result?t(n.result):A(new Error("FileReader did not produce a result"))},n.onerror=()=>A(n.error),n.readAsDataURL(e)}))}render(e){e.appendChild(this.modalContent)}}class Ql{constructor(e,t){this.templateContainer=e,this.parentContainer=t,this.modalContainer=document.createElement("div"),this.modalBackdrop=document.createElement("div"),this.modalContent=document.createElement("div"),this.searchContainer=document.createElement("div"),this.iconsList=document.createElement("div"),this.init()}init(){return e=this,t=void 0,n=function*(){this.modalContainer.style.display="none",this.modalContainer.style.position="fixed",this.modalContainer.style.top="0",this.modalContainer.style.left="0",this.modalContainer.style.width="100%",this.modalContainer.style.height="100%",this.modalContainer.style.zIndex="1000000",this.modalBackdrop.style.position="absolute",this.modalBackdrop.style.top="0",this.modalBackdrop.style.left="0",this.modalBackdrop.style.width="100%",this.modalBackdrop.style.height="100%",this.modalBackdrop.style.backgroundColor="rgba(0, 0, 0, 0.3)",this.modalBackdrop.addEventListener("click",(()=>{this.modalContainer.remove()})),this.modalContent.style.position="absolute",this.modalContent.style.top="30%",this.modalContent.style.left="50%",this.modalContent.style.transform="translateX(-50%)",this.modalContent.style.backgroundColor="white",this.modalContent.style.padding="15px",this.modalContent.style.borderRadius="8px",this.modalContent.style.boxShadow="0 2px 10px rgba(0, 0, 0, 0.2)",this.modalContent.style.width="350px",this.searchContainer.style.marginBottom="15px",this.searchContainer.style.marginTop="15px";const e=document.createElement("div");e.style.position="relative";const t=document.createElement("i");t.className="fas fa-search",t.style.position="absolute",t.style.left="10px",t.style.top="50%",t.style.transform="translateY(-50%)",t.style.color="#888";const A=document.createElement("input");A.type="text",A.placeholder="Search",A.style.width="100%",A.style.padding="8px 12px 8px 32px",A.style.border="1px solid #ccc",A.style.borderRadius="20px",A.style.fontSize="14px",A.style.boxSizing="border-box";const n=document.createElement("span");n.innerHTML='\n            <svg xmlns="http://www.w3.org/2000/svg" width="14" height="14" viewBox="0 0 21 21">\n                <path id="Icon_material-close" data-name="Icon material-close" d="M28.5,9.615,26.385,7.5,18,15.885,9.615,7.5,7.5,9.615,15.885,18,7.5,26.385,9.615,28.5,18,20.115,26.385,28.5,28.5,26.385,20.115,18Z" transform="translate(-7.5 -7.5)" fill="#BCBCBC" opacity="0.44"></path>\n            </svg>\n    ',n.style.position="absolute",n.style.right="5px",n.style.top="6px",n.style.cursor="pointer",n.style.color="#bcbcbc",n.addEventListener("click",(()=>{this.modalContainer.remove()})),e.appendChild(t),e.appendChild(A),this.searchContainer.appendChild(e),this.searchContainer.appendChild(n),this.iconsList.classList.add("cta-icons-list"),console.log("cta icons",Ss),null==Ss||Ss.forEach((e=>{const t=document.createElement("div");t.classList.add("cta-icon-item"),t.title=e.name,t.innerHTML=e.svg,t.addEventListener("click",(t=>{t.preventDefault(),t.stopPropagation(),this.changeIcon(e),this.modalContainer.remove()})),this.iconsList.appendChild(t)})),this.modalContent.appendChild(this.searchContainer),this.modalContent.appendChild(this.iconsList),this.modalContainer.appendChild(this.modalBackdrop),this.modalContainer.appendChild(this.modalContent)},new((A=void 0)||(A=Promise))((function(i,r){function o(e){try{a(n.next(e))}catch(e){r(e)}}function s(e){try{a(n.throw(e))}catch(e){r(e)}}function a(e){var t;e.done?i(e.value):(t=e.value,t instanceof A?t:new A((function(e){e(t)}))).then(o,s)}a((n=n.apply(e,t||[])).next())}));var e,t,A,n}render(){this.parentContainer.appendChild(this.modalContainer),this.modalContainer.style.display="block";const e=this.searchContainer.querySelector("input");e&&e.focus(),e&&e.addEventListener("input",(e=>{const t=e.target.value.toLowerCase();this.iconsList.querySelectorAll("div").forEach((e=>{e.title.toLowerCase().includes(t)?e.style.display="flex":e.style.display="none"}))}))}changeIcon(e){const t=globalThis.selectedComponent,A=globalThis.pageData;let n,i=null;if(t&&A){if("Information"===A.PageType){const e=globalThis.infoContentMapper.getInfoContent(t.getId());e&&(n=e.InfoId,i=null==e?void 0:e.CtaAttributes)}else globalThis.pageId,i=new Fs(null==A?void 0:A.PageId).getContentCta(t.getId()),n=t.getId();(new Ms).changeCtaButtonIcon(e,n,i)}}}class Ul{constructor(e,t,A){this.slideIndex=1,this.e=e,this.editor=t,this.page=A,this.infoSectionController=new hl,this.contentDataManager=new bl(this.editor,this.page),this.init()}init(){this.openContentEditModal(),this.openImageEditModal(),this.openDeleteModal(),this.updateCtaButtonImage(),this.updateCtaButtonIcon(),this.handleSliderClick()}handleSliderClick(){const e=this.e.target.closest("[data-gjs-type='info-image-section']");this.e.target.closest(".prev-img-slide")&&this.plusSlides(-1,e),this.e.target.closest(".next-img-slide")&&this.plusSlides(1,e)}plusSlides(e,t){const A=null==t?void 0:t.querySelectorAll(".mySlides");if(!A||0===A.length)return;let n=0;for(let e=0;e<A.length;e++)if("block"===A[e].style.display){n=e;break}let i=n+e;i>=A.length?i=0:i<0&&(i=A.length-1),this.showSlides(i,t)}showSlides(e,t){const A=null==t?void 0:t.querySelectorAll(".mySlides");if(A&&0!==A.length){for(let e=0;e<A.length;e++)A[e].style.display="none";A[e]&&(A[e].style.display="block")}}openContentEditModal(){if(this.e.target.closest(".tb-edit-content-icon")){const e=document.createElement("div"),t=this.e.target.closest('[data-gjs-type="info-desc-section"].info-desc-section'),A=document.createElement("div");A.id="editor",A.innerHTML=`${this.getDescription()}`,A.style.minHeight="150px";const n=document.createElement("div");n.classList.add("popup-footer"),n.style.marginBottom="-12px";const i=this.createButton("submit_form","tb-btn-primary",Me.t("tile.save_button"));"<p><br></p>"!==A.innerHTML&&""!==A.innerHTML.trim()||(i.disabled=!0,i.style.opacity="0.6",i.style.cursor="not-allowed");const r=this.createButton("cancel_form","tb-btn-outline",Me.t("tile.cancel_button")),o=document.createElement("div");o.classList.add("row");const s=document.createElement("span");o.style.paddingLeft="20px",s.style.fontSize="small",s.style.fontStyle="italic",o.appendChild(s),n.appendChild(i),n.appendChild(r),e.appendChild(A),e.appendChild(o),e.appendChild(n);const a=new l({title:Me.t("tile.edit_content"),width:"500px",body:e});a.open();const c=Us.import("delta"),d=new Us("#editor",{formats:["bold","italic","underline","link","list"],modules:{toolbar:[["bold","italic","underline","link"],[{list:"ordered"},{list:"bullet"}]],clipboard:{matchers:[[Node.ELEMENT_NODE,(e,t)=>t.compose((new c).retain(t.length(),{background:!1,color:!1,font:!1,code:!1,size:!1,strike:!1,script:!1,blockquote:!1,header:!1,indent:!1,align:!1,direction:!1,formula:!1,image:!1,video:!1}))]]}},theme:"snow",placeholder:"Start typing here..."});s.innerHTML=d.getLength()-1+"/1000",setTimeout((()=>{d.focus();const e=d.getLength();d.setSelection(e,0)}),0),d.on("text-change",(()=>{const e=d.root.innerHTML,t="<p><br></p>"!==e&&""!==e.trim();if(i.disabled=!t,d.getLength()>1e3)d.deleteText(1e3,d.getLength()),s.innerHTML="1000/1000";else{const e=d.getLength()-1;s.innerHTML=e+"/1000"}i.disabled?(i.style.opacity="0.6",i.style.cursor="not-allowed"):(i.style.opacity="1",i.style.cursor="pointer")})),i.addEventListener("click",(()=>{const e=document.querySelector("#editor .ql-editor"),A=this.correctULTagFromQuill(e.innerHTML);if("Information"===this.page.PageType&&t)return this.infoSectionController.updateDescription(A.trim(),t.id),void a.close();this.contentDataManager.saveContentDescription(A.trim()),a.close()})),r.addEventListener("click",(()=>{a.close()}))}}openImageEditModal(){if(this.e.target.closest(".tb-edit-image-icon")){const e=this.e.target.closest('[data-gjs-type="info-image-section"].info-image-section'),t=document.createElement("div");t.classList.add("tb-modal"),t.style.display="flex";const A="Information"===this.page.PageType?"info":"content";new yl(A,null==e?void 0:e.id).render(t);const n=document.createElement("input");n.type="file",n.multiple=!0,n.accept="image/jpeg, image/jpg, image/png",n.id="fileInput",n.style.display="none",document.body.appendChild(t),document.body.appendChild(n)}else if(this.e.target.closest(".tb-edit-image-icon")){const e=this.e.target.closest('[data-gjs-type="info-image-section"].info-image-section'),t=document.createElement("div");t.classList.add("tb-modal"),t.style.display="flex";const A="Information"===this.page.PageType?"info":"content";new El(A,null==e?void 0:e.id).render(t);const n=document.createElement("input");n.type="file",n.multiple=!0,n.accept="image/jpeg, image/jpg, image/png",n.id="fileInput",n.style.display="none",document.body.appendChild(t),document.body.appendChild(n)}}openDeleteModal(){if(this.e.target.closest(".tb-delete-image-icon")){if("Location"===this.page.PageType||"Reception"===this.page.PageType)return;const e=(this.page.PageType,"Remove Section");new ke("Are you sure you want to remove this section?",e,(()=>{return e=this,t=void 0,n=function*(){if("Information"===this.page.PageType){const e=this.e.target,t=e.closest('[data-gjs-type="info-desc-section"].info-desc-section')||e.closest('[data-gjs-type="info-image-section"].info-image-section');t&&this.infoSectionController.deleteInfoImageOrDesc(t.id)}else this.contentDataManager.deleteContentImage()},new((A=void 0)||(A=Promise))((function(i,r){function o(e){try{a(n.next(e))}catch(e){r(e)}}function s(e){try{a(n.throw(e))}catch(e){r(e)}}function a(e){var t;e.done?i(e.value):(t=e.value,t instanceof A?t:new A((function(e){e(t)}))).then(o,s)}a((n=n.apply(e,t||[])).next())}));var e,t,A,n})).render(document.body)}}updateCtaButtonImage(){const e=this.e.target.closest(".edit-cta-image");if(e){const t=this.e.target.closest('[data-gjs-type="info-cta-section"]'),A=e.closest(".img-button-container");globalThis.ctaContainerId=A?A.id:"";const n=document.createElement("div");n.classList.add("tb-modal"),n.style.display="flex",new yl("cta",t.id).render(n);const i=document.createElement("input");i.type="file",i.multiple=!0,i.accept="image/jpeg, image/jpg, image/png",i.id="fileInput",i.style.display="none",document.body.appendChild(n),document.body.appendChild(i)}}updateCtaButtonIcon(){const e=this.e.target.closest(".icon-edit-button"),t=globalThis.selectedComponent;if(e&&t&&(t.getClasses().includes("img-button-container")||t.getClasses().includes("cta-container-child"))){this.e.preventDefault(),this.e.stopPropagation();const t=e.closest(".icon-edit-button"),A=t.closest("[data-gjs-type='info-cta-section']"),n=document.getElementById(`${globalThis.frameId}-frame`),i=null==n?void 0:n.querySelector("iframe"),r=(null==i||i.getBoundingClientRect(),new Ql(A,n));t.getBoundingClientRect(),r.render()}}getDescription(){if("Information"===this.page.PageType){const e=this.e.target.closest('[data-gjs-type="info-desc-section"].info-desc-section');if(e)return e.querySelector(".info-desc-content").innerHTML}else if(this.e.target.closest(".content-page-block")){const e=this.editor.Components.getWrapper().find("#contentDescription")[0];if(e)return e.getEl().innerHTML}}createButton(e,t,A){const n=document.createElement("button");return n.id=e,n.classList.add("tb-btn",t),n.innerText=A,n}correctULTagFromQuill(e){if(!e)return e;const t=(new DOMParser).parseFromString(e,"text/html");return t.querySelectorAll("ol").forEach((e=>{if(Array.from(e.children).every((e=>"bullet"===e.getAttribute("data-list")))){const t=document.createElement("ul");Array.from(e.children).forEach((e=>{t.appendChild(e.cloneNode(!0))})),e.replaceWith(t)}})),t.body.innerHTML}}class xl{constructor(e){this.history=[],this.future=[],this.maxHistory=20,this.pageId=e;const t=localStorage.getItem(`data-${this.pageId}`);if(t)try{const e=JSON.parse(t);this.history.push(e)}catch(e){console.error("Failed to parse initial data:",e)}}saveState(){try{const e=localStorage.getItem(`data-${this.pageId}`);if(e){const t=JSON.parse(e),A=this.history.length?this.history[this.history.length-1]:null;return!(A&&JSON.stringify(A)===JSON.stringify(t)||(this.history.push(t),this.history.length>this.maxHistory&&this.history.shift(),this.future=[],0))}return!1}catch(e){return console.error("Error saving state:",e),!1}}undo(){if(0===this.history.length)return null;const e=JSON.parse(localStorage.getItem(`data-${this.pageId}`)||"{}");this.future.push(e);const t=this.history.pop();return localStorage.setItem(`data-${this.pageId}`,JSON.stringify(t)),this.findChanges(e,t)}redo(){if(0===this.future.length)return null;const e=JSON.parse(localStorage.getItem(`data-${this.pageId}`)||"{}");this.history.push(e);const t=this.future.pop();return localStorage.setItem(`data-${this.pageId}`,JSON.stringify(t)),this.findChanges(e,t)}findChanges(e,t){var A,n;const i=new Set,r=new Set,o=(null===(A=e.PageMenuStructure)||void 0===A?void 0:A.Rows)||[],s=(null===(n=t.PageMenuStructure)||void 0===n?void 0:n.Rows)||[],a=new Set(o.map((e=>e.Id)));return new Set(s.map((e=>e.Id))),o.forEach((e=>{const t=s.find((t=>t.Id===e.Id));t?JSON.stringify(e)!==JSON.stringify(t)&&r.add(e.Id):r.add(e.Id)})),s.forEach((e=>{a.has(e.Id)||r.add(e.Id)})),o.forEach((e=>{var t,A,n,r;const o=s.find((t=>t.Id===e.Id));if(o){const s=new Set((null===(t=e.Tiles)||void 0===t?void 0:t.map((e=>e.Id)))||[]),a=new Set((null===(A=o.Tiles)||void 0===A?void 0:A.map((e=>e.Id)))||[]);null===(n=e.Tiles)||void 0===n||n.forEach((e=>{a.has(e.Id)||i.add(e.Id)})),null===(r=o.Tiles)||void 0===r||r.forEach((t=>{if(s.has(t.Id)){const A=e.Tiles.find((e=>e.Id===t.Id));JSON.stringify(A)!==JSON.stringify(t)&&i.add(t.Id)}else i.add(t.Id)}))}})),{affectedTiles:Array.from(i),affectedRows:Array.from(r)}}addFreshRow(e,t,A){var n;this.saveState();const i=JSON.parse(localStorage.getItem(`data-${this.pageId}`)||"{}"),r={Id:e,Tiles:[{Id:t,Name:"Title",Text:"Title",Color:"#333333",Align:"left",Icon:"",BGColor:"transparent",BGImageUrl:"",Opacity:0,Action:{ObjectType:"",ObjectId:"",ObjectUrl:""},BGSize:0,BGPosition:0}]};null===(n=i.PageMenuStructure)||void 0===n||n.Rows.splice(A,0,r),localStorage.setItem(`data-${this.pageId}`,JSON.stringify(i))}addTile(e,t){var A,n;this.saveState();const i={Id:t,Name:"Title",Text:"Title",Color:"#333333",Align:"left",Icon:"",BGColor:"transparent",BGImageUrl:"",Opacity:0,Action:{ObjectType:"",ObjectId:"",ObjectUrl:""},BGSize:0,BGPosition:0},r=JSON.parse(localStorage.getItem(`data-${this.pageId}`)||"{}"),o=null===(n=null===(A=r.PageMenuStructure)||void 0===A?void 0:A.Rows)||void 0===n?void 0:n.find((t=>t.Id===e));o&&(o.Tiles.push(i),localStorage.setItem(`data-${this.pageId}`,JSON.stringify(r)))}removeTile(e,t){var A,n;this.saveState();const i=JSON.parse(localStorage.getItem(`data-${this.pageId}`)||"{}"),r=i.PageMenuStructure.Rows.find((e=>String(e.Id)===String(t)));r&&(r.Tiles=r.Tiles.filter((t=>t.Id!==e)),0===r.Tiles.length&&(i.PageMenuStructure.Rows=null===(n=null===(A=i.PageMenuStructure)||void 0===A?void 0:A.Rows)||void 0===n?void 0:n.filter((e=>e.Id!==r.Id))),localStorage.setItem(`data-${this.pageId}`,JSON.stringify(i)))}updateTile(e,t,A){var n,i;this.saveState();const r=JSON.parse(localStorage.getItem(`data-${this.pageId}`)||"{}");if("Information"===r.PageType)return r.PageInfoStructure.InfoContent.filter((e=>"TileRow"==e.InfoType)).forEach((n=>{n.Tiles.forEach((n=>{if(n.Id===e)if(t.includes(".")){const e=t.split(".");let i=n;for(let t=0;t<e.length-1;t++)i=i[e[t]];i[e[e.length-1]]=A}else n[t]=A}))})),void localStorage.setItem(`data-${this.pageId}`,JSON.stringify(r));if("Menu"===r.PageType||"MyCare"===r.PageType||"MyLiving"===r.PageType||"MyServices"===r.PageType){const o=null===(i=null===(n=null==r?void 0:r.PageMenuStructure)||void 0===n?void 0:n.Rows)||void 0===i?void 0:i.find((t=>t.Tiles.some((t=>t.Id===e))));o&&o.Tiles.forEach((n=>{if(n.Id===e)if(t.includes(".")){const e=t.split(".");let i=n;for(let t=0;t<e.length-1;t++)i=i[e[t]];i[e[e.length-1]]=A}else n[t]=A}))}localStorage.setItem(`data-${this.pageId}`,JSON.stringify(r))}getTile(e,t){var A,n;const i=JSON.parse(localStorage.getItem(`data-${this.pageId}`)||"{}");let r=null;if("Information"===i.PageType){const A=i.PageInfoStructure.InfoContent.find((t=>t.InfoId==e));if(A)return A.Tiles.find((e=>e.Id==t))}else if(("Menu"===i.PageType||"MyCare"===i.PageType||"MyLiving"===i.PageType||"MyServices"===i.PageType)&&e){const o=null===(n=null===(A=null==i?void 0:i.PageMenuStructure)||void 0===A?void 0:A.Rows)||void 0===n?void 0:n.find((t=>t.Id===e));if(o)return r=o.Tiles.find((e=>e.Id===t)),r||null}return r}getCta(e){return JSON.parse(localStorage.getItem(`data-${this.pageId}`)||"{}").PageInfoStructure.InfoContent.find((t=>"Cta"==t.InfoType&&t.InfoId==e)).CtaAttributes||{}}moveTile(e,t,A,n){var i,r,o,s,a,l,c,d;this.saveState();const u=JSON.parse(localStorage.getItem(`data-${this.pageId}`)||"{}"),h=null===(i=null==u?void 0:u.PageMenuStructure)||void 0===i?void 0:i.Rows.find((e=>e.Id===t));if(!h)return;const p=null===(r=null==h?void 0:h.Tiles)||void 0===r?void 0:r.findIndex((t=>t.Id===e));if(-1===p)return;const[g]=null===(o=null==h?void 0:h.Tiles)||void 0===o?void 0:o.splice(p,1),f=null===(a=null===(s=u.PageMenuStructure)||void 0===s?void 0:s.Rows)||void 0===a?void 0:a.find((e=>e.Id===A));f?(f.Tiles.splice(n,0,g),3===(null===(l=null==f?void 0:f.Tiles)||void 0===l?void 0:l.length)&&(null==f||f.Tiles.forEach((e=>{e.Align="center"}))),0===(null===(c=null==h?void 0:h.Tiles)||void 0===c?void 0:c.length)&&(u.PageMenuStructure.Rows=null===(d=null==u?void 0:u.PageMenuStructure)||void 0===d?void 0:d.Rows.filter((e=>e.Id!==h.Id))),localStorage.setItem(`data-${this.pageId}`,JSON.stringify(u))):h.Tiles.splice(p,0,g)}}class Fl{constructor(e){this.pageId=e||null}updateTile(e,t=!1){this.rowComponent=e;const A=e.find(".template-wrapper"),n=A.length;A.forEach((A=>{const i=this.getTileAttributes(e,A),r=A.find(".add-button-right")[0];r&&r.addStyle({display:n>=3?"none":"flex"});const o=3===n?"center":null==i?void 0:i.Align,s="left"===o?"start":o;n>1?(A.addStyle({height:"80px"}),globalThis.tileMapper.updateTile(A.getId(),"Size",80),A.find(".tile-resize-button").forEach((e=>e.remove()))):A.append(_s("Resize"));const a={"justify-content":s,"align-items":s},l={"text-align":o};this.updateTileHeight(A,n),this.updateAlignment(A,a,l),this.updateTileTitleLength(A,n),t||this.updateTileAttributes(A.getId(),"Align",o)})),this.removeEmptyRows()}getTileAttributes(e,t){var A;let n;if("Information"===globalThis.pageData.PageType){const i=new ul(this.pageId).getInfoContent(e.getId());if(!i)return;n=null===(A=null==i?void 0:i.Tiles)||void 0===A?void 0:A.find((e=>e.Id===t.getId()))}else n=globalThis.tileMapper.getTile(e.getId(),t.getId());return n}updateTileHeight(e,t){const A=e.find(".template-block")[0];1===t?A.getClasses().includes("first-tile")&&A.addClass("high-priority-template"):A.removeClass("high-priority-template")}updateAlignment(e,t,A){const n=e.find(".template-block")[0],i=e.find(".tile-title-section")[0];n.addStyle(t),i.addStyle(A)}updateTileTitleLength(e,t){var A;const n=e.find(".tile-title")[0];if(n){const e=3===t?11:2===t?15:20,i=this.truncateText(e,(null===(A=n.getAttributes())||void 0===A?void 0:A.title)||n.getEl().innerText);3===t?n.components(this.wrapTileTitle(i)):n.components(i)}}truncateText(e,t){const A=window.innerWidth;return t.length>(A<=280?e:e+4)?t.substring(0,A<=280?e:e+4).trim()+"..":t}wrapTileTitle(e){const t=e.split(" ");return t.length>1?t[0]+"<br>"+t[1]:e.replace("<br>","")}updateTileAttributes(e,t,A){const n=new xl(this.pageId);let i=A;"start"===A&&(i="left"),"Information"===globalThis.pageData.PageType?(new hl).updateInfoTileAttributes(this.rowComponent.getId(),e,"Align",i):n.updateTile(e,t,i)}removeEmptyRows(){this.rowComponent.parent().components().forEach((e=>{var t;0===(null===(t=null==e?void 0:e.components())||void 0===t?void 0:t.length)&&(null==e||e.remove())}))}}class Tl{constructor(e,t,A,n,i){this.event=e,this.editor=t,this.pageId=A,this.frameId=n,this.pageData=i,this.tileUpdate=new Fl(A),globalThis.tileMapper=new xl(this.pageId),this.page=globalThis.pageData,this.init()}init(){this.addTileBottom(),this.addTileRight(),this.deleteTile(),this.removeTileIcon(),this.removeTileTitle(),this.removeCTa()}addTileBottom(){var e,t;const A=this.event.target.closest(".action-button.add-button-bottom");if(A){const n=A.closest(".template-wrapper");if(!n)return;let i=n.parentElement,r=null==i?void 0:i.parentElement;if(!i||!r)return;const o=Array.from(r.children).indexOf(i),s=this.editor.Components.getWrapper().find("#"+r.id)[0];if(!s)return;const a=this.editor.Components.addComponent(this.getTileRow());s.append(a,{at:o+1});const l=null===(e=a.find(".template-wrapper")[0])||void 0===e?void 0:e.getId();"Information"===(null===(t=this.page)||void 0===t?void 0:t.PageType)||globalThis.tileMapper.addFreshRow(a.getId(),l,o+1)}}addTileRight(){var e,t;const A=this.event.target.closest(".action-button.add-button-right");if(A){const n=A.closest(".template-wrapper"),i=this.editor.Components.getWrapper().find("#"+(null==n?void 0:n.id))[0];if(!i)return;const r=i.parent();if(r.components().filter((e=>"tile-wrapper"===e.get("type"))).length>=3)return;const o=this.editor.Components.addComponent(this.getTile()),s=i.index();if(r.append(o,{at:s+1}),"Information"===(null===(e=this.page)||void 0===e?void 0:e.PageType)?this.updateInfoTileRow(r.getId(),"add",o.getId(),s):globalThis.tileMapper.addTile(null===(t=null==n?void 0:n.parentElement)||void 0===t?void 0:t.id,o.getId()),this.tileUpdate.updateTile(r),o){const e=o.find(".template-block")[0];e&&setTimeout((()=>{this.editor.select(e)}),0)}}}deleteTile(){var e;const t=this.event.target.closest(".action-button.delete-button");if(t){const A=t.closest(".template-wrapper");if(A){const t=this.editor.Components.getWrapper().find("#"+(null==A?void 0:A.id))[0],n=t.parent();if(t.remove(),this.tileUpdate.updateTile(n),"Information"===(null===(e=this.page)||void 0===e?void 0:e.PageType)){this.updateInfoTileRow(n.getId(),"delete",t.getId());const e=new hl;e.removeConsecutivePlusButtons(),e.restoreEmptyStateIfNoSections()}else globalThis.tileMapper.removeTile(t.getId(),n.getId());this.removeEditor(t.getId())}}}updateInfoTileRow(e,t="add",A,n){var i,r,o,s;const a=new ul(this.pageId).getInfoContent(e);if(a){if("add"===t&&void 0!==n)null===(i=a.Tiles)||void 0===i||i.splice(n+1,0,{Id:A,Name:"Title",Text:"Title",Color:"#333333",Align:"left",Action:{ObjectType:"",ObjectId:"",ObjectUrl:"",FormId:0}});else if("delete"===t){const e=null===(r=a.Tiles)||void 0===r?void 0:r.find((e=>e.Id===A));if(e){const t=null===(o=a.Tiles)||void 0===o?void 0:o.indexOf(e);void 0!==t&&t>=0&&(null===(s=a.Tiles)||void 0===s||s.splice(t,1))}}(new hl).updateInfoMapper(e,a)}}removeTileIcon(){var e;const t=this.event.target.closest(".tile-close-icon");if(t){const A=t.closest(".template-wrapper");if(A){const t=this.editor.Components.getWrapper().find("#"+(null==A?void 0:A.id))[0];if(this.checkTileHasIconOrTitle(t)){"Information"===(null===(e=this.page)||void 0===e?void 0:e.PageType)?(new hl).updateInfoTileAttributes(t.parent().getId(),t.getId(),"Icon",""):globalThis.tileMapper.updateTile(t.getId(),"Icon","");const A=t.find(".tile-icon-section")[0];A&&A.addStyle({display:"none"})}else console.warn("Tile has no icon or title")}}}removeTileTitle(){var e;const t=this.event.target.closest(".tile-close-title");if(t){const A=t.closest(".template-wrapper");if(A){const t=this.editor.Components.getWrapper().find("#"+(null==A?void 0:A.id))[0];if(this.checkTileHasIconOrTitle(t)){"Information"===(null===(e=this.page)||void 0===e?void 0:e.PageType)?(new hl).updateInfoTileAttributes(t.parent().getId(),t.getId(),"Text",""):globalThis.tileMapper.updateTile(t.getId(),"Text","");const A=t.find(".tile-title-section")[0];A&&A.addStyle({display:"none"})}else console.warn("Tile has no icon or title")}}}checkTileHasIconOrTitle(e){var t;const A=e.parent();if(!A)return!1;let n;if("Information"===this.pageData.PageType){const i=globalThis.infoContentMapper.getInfoContent(A.getId());n=null===(t=null==i?void 0:i.Tiles)||void 0===t?void 0:t.find((t=>t.Id===e.getId()))}else n=globalThis.tileMapper.getTile(A.getId(),e.getId());return!!(n&&n.Icon&&n.Text)}removeCTa(){const e=this.event.target.closest(".cta-badge");e&&(new Ms).removeCta(e)}removeEditor(e){document.querySelectorAll(".mobile-frame").forEach((t=>{var A,n,i;const r=t.querySelector(`#${e}`);if(r&&console.log(r),t.id.includes(this.frameId)){let e=t.nextElementSibling;for(;e;){const t=e;if(e=e.nextElementSibling,t){const e=document.querySelector(".editor-thumbs-list").querySelector(`div[id="${t.id}"]`);e&&(null===(i=null===(n=null===(A=e.parentElement)||void 0===A?void 0:A.parentElement)||void 0===n?void 0:n.parentElement)||void 0===i||i.remove()),t.remove(),(new Rl).activateNavigators()}}}}))}getTileRow(){const e=this.getTile(!0);return`<div class="container-row" ${w} id="${Ne(8)}">${e}</div>`}getTile(e=!1){var t;return`\n      <div ${v} ${e?'style="height:80px"':""} class="template-wrapper" id="${Ne(8)}">\n        <div ${m} class="template-block" style="background-color: transparent; color: #333333; justify-content: left">\n            <div ${B} id="igtdq" data-gjs-type="default" class="tile-icon-section">\n              <span ${B} id="is1dw" data-gjs-type="text" class="tile-close-icon top-right selected-tile-title">ร</span>\n              <span ${B} id="ic26t" data-gjs-type="text" class="tile-icon">Title</span>\n            </div>\n            <div ${B} id="igtdq" data-gjs-type="default" class="tile-title-section">\n              <span ${B} id="is1dw" data-gjs-type="text" class="tile-close-title top-right selected-tile-title">ร</span>\n              <span ${B} style="display: block" id="ic26t" data-gjs-type="text" is-hidden="false" title="${Me.t("tile.title")}" class="tile-title">${Me.t("tile.title")}</span>\n            </div>\n        </div>\n        <button ${B} id="i9sxl" data-gjs-type="default" title="Delete tile" class="action-button delete-button">&minus;</button>\n        <button ${B} id="ifvvi" data-gjs-type="default" title="Add tile right" class="action-button add-button-right">\n          <svg ${B} fill="#fff" width="15" height="15" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">\n            <path ${B} d="M19,11H13V5a1,1,0,0,0-2,0v6H5a1,1,0,0,0,0,2h6v6a1,1,0,0,0,2,0V13h6a1,1,0,0,0,0-2Z"/>\n          </svg>\n        </button>\n        ${e?`\n            ${_s("Resize")}\n          `:""}\n        ${"Information"===(null===(t=this.page)||void 0===t?void 0:t.PageType)?"":`\n          <button ${B} id="i4ubt" data-gjs-type="default" title="Add template bottom" class="action-button add-button-bottom">\n          <svg ${B} fill="#fff" width="15" height="15" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">\n            <path ${B} d="M19,11H13V5a1,1,0,0,0-2,0v6H5a1,1,0,0,0,0,2h6v6a1,1,0,0,0,2,0V13h6a1,1,0,0,0,0-2Z"/>\n          </svg>\n          </button>\n        `}\n        <svg ${B} class="tile-open-menu" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 27 27">\n          <g ${B} id="Group_2383" data-name="Group 2383" transform="translate(-921 -417.999)">\n            <g ${B} id="Group_2382" data-name="Group 2382" transform="translate(921 418)">\n              <circle ${B} id="Ellipse_534" data-name="Ellipse 534" cx="13.5" cy="13.5" r="13.5" transform="translate(0 -0.001)" fill="#6a747f"/>\n            </g>\n            <path ${B} id="Path_2320" data-name="Path 2320" d="M1.7,0a1.7,1.7,0,1,0,1.7,1.7A1.7,1.7,0,0,0,1.7,0ZM7.346,0a1.7,1.7,0,1,0,1.7,1.7A1.7,1.7,0,0,0,7.346,0ZM13,0a1.7,1.7,0,1,0,1.7,1.7A1.7,1.7,0,0,0,13,0Z" transform="translate(927 430)" fill="#fff"/>\n          </g>\n        </svg>\n      </div>\n    `}}class Ll{constructor(e){this.categoryData=e,this.pageAttacher=new Ta,this.pageCreationService=new ml,this.details=document.createElement("details"),this.init()}init(){this.details.className="category",this.details.setAttribute("data-category",this.categoryData.name),this.createCategoryElement()}createCategoryElement(){var e,A;const n=document.createElement("summary");n.innerText=`${this.categoryData.displayName}`;const i=document.createElement("i");i.className="fa fa-angle-right","WebLink"!==this.categoryData.name&&n.appendChild(i);const r=document.createElement("div");r.className="search-container",r.innerHTML='\n            <i class="fas fa-search search-icon"></i>\n            <input type="text" placeholder="Search" class="search-input" />\n        ',this.categoryData.canCreatePage&&setTimeout((()=>{const e=r.querySelector("#add-new-service");e&&e.addEventListener("click",(e=>{e.preventDefault(),globalThis.selectedComponent?(this.categoryData.name,"Service/Product Page"==this.categoryData.name&&t.getInstance()):new a("error",Me.t("messages.error.select_tile"))}))}),0);const o=document.createElement("ul");o.className="category-content",null===(A=null===(e=this.categoryData)||void 0===e?void 0:e.options)||void 0===A||A.forEach((e=>{const t=document.createElement("li");t.innerText=e.PageName,t.setAttribute("data-page-name",e.PageName),t.setAttribute("data-page-id",e.PageId),t.addEventListener("click",(t=>{t.preventDefault(),globalThis.selectedComponent?"DynamicForm"===this.categoryData.name?(new Pl).handleDynamicForms(e):"Modules"==this.categoryData.name?this.pageAttacher.attachToTile(e,e.PageType,this.categoryData.label):this.pageAttacher.attachToTile(e,this.categoryData.name,this.categoryData.label):new a("error",Me.t("messages.error.select_tile"))})),o.appendChild(t)}));const s=document.createElement("li");s.className="no-records-message",s.style.display="none",s.innerText="No records found",o.appendChild(s),this.details.addEventListener("toggle",(e=>{if("WebLink"!==this.categoryData.name){const e=n.querySelector("i");e&&(e.classList.toggle("fa-angle-right"),e.classList.toggle("fa-angle-down"))}else{if(!globalThis.selectedComponent)return void new a("error",Me.t("messages.error.select_tile"));this.pageCreationService.handleWebLinks()}})),"WebLink"===this.categoryData.name?this.details.appendChild(n):(this.details.appendChild(n),this.details.appendChild(r),this.details.appendChild(o)),this.searchItemsEvent(r)}searchItemsEvent(e){const t=e.querySelector("input"),A=this.details.querySelector("ul");t.addEventListener("input",(e=>{const t=A.querySelector(".no-records-message");let n=!1;const i=e.target.value.toLowerCase().trim();Array.from(A.querySelectorAll("li:not(.no-records-message)")).forEach((e=>{var t,A;const r=(null!==(A=null===(t=e.textContent)||void 0===t?void 0:t.toLowerCase())&&void 0!==A?A:"").includes(i);e.style.display=r?"block":"none",r&&(n=!0)})),t&&(t.style.display=n?"none":"block")}))}render(e){e.appendChild(this.details)}}class Sl{constructor(e){this.categoryView=new Ll(e)}render(e){this.categoryView.render(e)}}var Hl=function(e,t,A,n){return new(A||(A=Promise))((function(i,r){function o(e){try{a(n.next(e))}catch(e){r(e)}}function s(e){try{a(n.throw(e))}catch(e){r(e)}}function a(e){var t;e.done?i(e.value):(t=e.value,t instanceof A?t:new A((function(e){e(t)}))).then(o,s)}a((n=n.apply(e,t||[])).next())}))};class Ml{constructor(){this.container=document.createElement("div"),this.toolBoxService=new s,this.appVersion=new h,this.init()}init(){return Hl(this,void 0,void 0,(function*(){this.container.className="tb-dropdown-menu",this.container.id="dropdownMenu",(yield this.getCategoryData()).forEach((e=>{new Sl(e).render(this.container)}))}))}getCategoryData(){return Hl(this,void 0,void 0,(function*(){const e=globalThis.pageData;return[{name:"Page",displayName:Me.t("sidebar.action_list.page"),label:Me.t("sidebar.action_list.page"),options:yield this.getPages(),canCreatePage:!0},!e||"MyCare"!==e.PageType&&"MyService"!==e.PageType&&"MyLiving"!==e.PageType?null:{name:"Content",displayName:Me.t("sidebar.action_list.services"),label:Me.t("sidebar.action_list.services"),options:this.getServices(e),canCreatePage:!0},{name:"DynamicForm",displayName:Me.t("sidebar.action_list.forms"),label:Me.t("sidebar.action_list.forms"),options:this.getDynamicForms(),canCreatePage:!1},{name:"Modules",displayName:Me.t("sidebar.action_list.module"),label:Me.t("sidebar.action_list.module"),options:yield this.getPredefinedPages(),canCreatePage:!1},{name:"WebLink",displayName:Me.t("sidebar.action_list.weblink"),label:Me.t("sidebar.action_list.weblink"),options:[],canCreatePage:!1},{name:"CallToActions",displayName:Me.t("sidebar.action_list.call_to_action"),label:Me.t("sidebar.action_list.call_to_action"),options:[{PageId:"add-email",PageName:Me.t("tile.email"),TileName:"",PageType:"CtaEmail"},{PageId:"add-phone",PageName:Me.t("tile.phone"),TileName:"",PageType:"CtaPhone"},{PageId:"add-web-link",PageName:"Web link",TileName:"",PageType:"CtaWebLink"}],canCreatePage:!1}].filter((e=>null!==e)).sort(((e,t)=>e.label.localeCompare(t.label)))}))}getDynamicForms(){return(this.toolBoxService.forms||[]).map((e=>({PageId:e.FormId,PageName:e.PageName,TileName:e.PageName,PageUrl:e.FormUrl,PageType:"DynamicForm"})))}getServices(e){let t=this.toolBoxService.services||[];return t=t.filter((t=>t.ProductServiceClass.replace(/\s+/g,"")==e.PageType)).map((e=>({PageId:e.ProductServiceId,PageName:e.ProductServiceName,TileName:e.ProductServiceTileName||e.ProductServiceName,TileCategory:e.ProductServiceClass}))),t}getPages(){return Hl(this,void 0,void 0,(function*(){try{return(this.appVersion.getPages()||[]).filter((e=>("Menu"==e.PageType||"Information"==e.PageType)&&"Home"!==e.PageName&&"My Care"!==e.PageName&&"My Living"!==e.PageName&&"My Services"!==e.PageName)).map((e=>({PageId:e.PageId,PageName:_e(e.PageName),TileName:_e(e.PageName),PageType:e.PageType})))}catch(e){throw console.error("Error fetching pages:",e),e}}))}getPredefinedPages(){return Hl(this,void 0,void 0,(function*(){try{return((yield this.appVersion.preDefinedPages())||[]).map((e=>({PageId:e.PageId,PageName:e.PageName,TileName:e.PageName,PageType:e.PageType})))}catch(e){throw console.error("Error fetching pages:",e),e}}))}render(e){e.appendChild(this.container)}}var kl=function(e,t,A,n){return new(A||(A=Promise))((function(i,r){function o(e){try{a(n.next(e))}catch(e){r(e)}}function s(e){try{a(n.throw(e))}catch(e){r(e)}}function a(e){var t;e.done?i(e.value):(t=e.value,t instanceof A?t:new A((function(e){e(t)}))).then(o,s)}a((n=n.apply(e,t||[])).next())}))};class Pl{constructor(){this.toolboxService=new s,this.appVersionManager=new h,this.pageAttacher=new Ta,this.actionList=new Ml,this.pageCreationService=new ml,this.selectedComponent=globalThis.selectedComponent}getMenuCategories(){return kl(this,void 0,void 0,(function*(){const e=yield this.actionList.getCategoryData(),t=(globalThis.pageData,[]);return t.push({id:"list-page",name:"Page",label:Me.t("tile.existing_pages"),expandable:!0,action:()=>this.getSubMenuItems(e,"")}),t.push({id:"cta-list",name:"CallToActions",label:Me.t("tile.call_to_action"),expandable:!0,action:()=>this.getSubMenuItems(e,"CallToActions")}),t.push({id:"list-form",name:"DynamicForm",label:Me.t("tile.forms"),expandable:!0,action:()=>this.getSubMenuItems(e,"Content")}),t.push({id:"list-module",name:"Modules",label:Me.t("tile.modules"),expandable:!0,action:()=>this.getSubMenuItems(e,"Modules")}),[[{id:"add-info-page",label:Me.t("tile.information_page"),name:"",action:()=>kl(this,void 0,void 0,(function*(){this.createNewInfoPage("Untitled")}))}],t]}))}getSubMenuItems(e,t){return kl(this,void 0,void 0,(function*(){const A=e.find((e=>e.name===t));return((null==A?void 0:A.options)||[]).map((e=>({id:e.PageId,label:e.PageName,url:e.PageUrl,action:()=>this.handleSubMenuItemSelection(e,e.PageType)})))}))}createNewPage(e){return kl(this,void 0,void 0,(function*(){const t=yield this.appVersionManager.getActiveVersion(),A=yield this.toolboxService.createMenuPage(t.AppVersionId,e);if(A.error.message)console.error("error",A.error.message);else{const e={PageId:A.MenuPage.PageId,PageName:A.MenuPage.PageName,TileName:A.MenuPage.PageName,PageType:A.MenuPage.PageType};this.pageAttacher.attachToTile(e,"Menu","Menu")}}))}createNewInfoPage(e){return kl(this,void 0,void 0,(function*(){const t=yield this.appVersionManager.getActiveVersion(),A=yield this.toolboxService.createInfoPage(t.AppVersionId,e);if(A.error.message)console.error("error",A.error.message);else{const e={PageId:A.MenuPage.PageId,PageName:A.MenuPage.PageName,TileName:A.MenuPage.PageName,PageType:A.MenuPage.PageType};this.pageAttacher.attachToTile(e,"Information","Information",!0)}}))}handleSubMenuItemSelection(e,t){this.pageAttacher.removeOtherEditors(),"DynamicForm"===t?this.handleDynamicForms(e):"Modules"===t?this.pageAttacher.attachToTile(e,e.PageType,e.PageName):"CtaEmail"===t?this.pageCreationService.handleEmail():"CtaPhone"===t?this.pageCreationService.handlePhone():"CtaWebLink"===t?(console.log("at Actionlistmanager"),this.pageCreationService.handleWebLinks()):this.pageAttacher.attachToTile(e,t,e.PageName)}handleDynamicForms(e){return kl(this,void 0,void 0,(function*(){const t=globalThis.selectedComponent;if(!t)return;const A=t.find(".tile-title")[0];A&&A.components(e.PageName),A.addAttributes({title:e.PageName});const n=t.parent().getId(),i=t.parent().parent().getId(),r=globalThis.activeVersion;let s=null==r?void 0:r.Pages.find((t=>{if("DynamicForm"==t.PageType)return"DynamicForm"==t.PageType&&t.PageLinkStructure.WWPFormId==e.PageId}));if(!s){const t=yield this.appVersionManager.getActiveVersion();s=yield this.toolboxService.createLinkPage(t.AppVersionId,e.PageName,"",e.PageId),s=s.MenuPage}const a=`${o}/utoolboxdynamicform.aspx?WWPFormId=${e.PageId}&WWPDynamicFormMode=DSP&DefaultFormType=&WWPFormType=0`,l=[["Text",e.PageName],["Name",e.PageName],["Action.ObjectType","DynamicForm"],["Action.ObjectId",s.PageId],["Action.ObjectUrl",a],["Action.FormId",e.PageId]];for(const[e,t]of l)(new hl).updateInfoTileAttributes(i,n,e,t);const c=globalThis.tileMapper.getTile(i,n);new xa(null==s?void 0:s.PageId,s).init(c)}))}filterMenuItems(e,t){return e.filter((e=>{var A;return((null===(A=e.textContent)||void 0===A?void 0:A.toLowerCase())||"").includes(t.toLowerCase())}))}}class Nl{constructor(e,t){this.activeSubmenu=null,this.hoverTimeout=null,this.menuContainer=e,this.controller=t}createMenuItem(e,t){const A=document.createElement("li");if(A.classList.add("menu-item"),A.innerHTML=e.label.length>20?e.label.substring(0,20)+"...":e.label,A.setAttribute("data-name",e.name||""),e.expandable){const t=document.createElement("i");t.classList.add("fa","fa-chevron-right","expandable-icon"),A.appendChild(t),A.addEventListener("mouseenter",(t=>{t.stopPropagation(),null!==this.hoverTimeout&&(clearTimeout(this.hoverTimeout),this.hoverTimeout=null),this.menuContainer.querySelectorAll(".menu-item.expandable").forEach((e=>e.classList.remove("expandable"))),A.classList.add("expandable"),setTimeout((()=>{this.showSubMenu(e.name,A)}),50)}))}else A.addEventListener("click",(A=>{A.stopPropagation(),e.action&&(e.action(),t&&t()),this.menuContainer.remove()})),A.addEventListener("mouseenter",(e=>{if(e.stopPropagation(),!A.classList.contains("sub-menu-item")){const e=this.menuContainer.querySelectorAll(".expandable"),t=this.menuContainer.querySelectorAll(".sub-menu-container");e.forEach((e=>e.classList.remove("expandable"))),t.forEach((e=>e.remove()))}}));return A.id=e.id,A}showSubMenu(e,t){return A=this,n=void 0,r=function*(){const A=document.querySelector(".frame-list"),n=null==A?void 0:A.getBoundingClientRect();let i;const r=this.menuContainer.querySelector(".sub-menu-container");r?(i=r,i.innerHTML=""):(i=document.createElement("div"),i.classList.add("sub-menu-container"),this.activeSubmenu=i);const o=t.getBoundingClientRect(),s=this.menuContainer.getBoundingClientRect(),a=o.top-s.top;i.style.top=`${a}px`,n&&o.right+180>n.right?i.style.left="-178px":i.style.left="100%";const l=document.createElement("div");l.classList.add("sub-menu-header");const c=document.createElement("div");c.className="search-container",c.innerHTML='\n      <i class="fas fa-search search-icon"></i>\n      <input type="text" placeholder="Search" class="search-input" />\n    ',l.appendChild(c),"CallToActions"!==e&&i.appendChild(l);const d=document.createElement("ul");d.classList.add("menu-list");const u=yield this.controller.actionList.getCategoryData(),h=yield this.controller.getSubMenuItems(u,e);if(h.sort(((e,t)=>e.label.localeCompare(t.label))),h.length>10?(d.style.maxHeight="400px",d.style.overflowY="auto"):(d.style.maxHeight="unset",d.style.overflowY="unset"),h&&h.length>0)h.forEach(((t,A)=>{const n=this.createMenuItem(t);"CallToActions"!==e&&0===A&&n.classList.add("first-menu-item"),n.classList.add("sub-menu-item"),d.appendChild(n)}));else{const t=document.createElement("li");t.classList.add("menu-item","no-items"),t.innerHTML=`No ${e.toLowerCase()} available`,t.style.pointerEvents="none",t.style.cursor="default",d.appendChild(t)}i.appendChild(d),i.addEventListener("mouseenter",(()=>{null!==this.hoverTimeout&&(clearTimeout(this.hoverTimeout),this.hoverTimeout=null)})),i.addEventListener("click",(e=>{const t=e.target;t.classList.contains("menu-item")||t.closest(".menu-item:not(.no-items)")||e.stopPropagation()})),this.menuContainer.appendChild(i);const p=c.querySelector(".search-input");null==p||p.addEventListener("input",(t=>{const A=t.target.value,n=Array.from(d.querySelectorAll(".menu-item:not(.no-items)")),i=d.querySelector(".no-items");i&&i.remove();const r=this.controller.filterMenuItems(n,A);if(n.forEach((e=>{e.style.display="flex"})),""!==A.trim()&&(n.forEach((e=>{e.style.display=r.includes(e)?"flex":"none"})),0===r.length)){const t=document.createElement("li");t.classList.add("menu-item","no-items"),t.innerHTML=`No ${e.toLowerCase()} available`,t.style.pointerEvents="none",t.style.cursor="default",d.appendChild(t)}})),null==p||p.addEventListener("click",(e=>{e.stopPropagation()})),null==p||p.addEventListener("focus",(e=>{e.stopPropagation()}))},new((i=void 0)||(i=Promise))((function(e,t){function o(e){try{a(r.next(e))}catch(e){t(e)}}function s(e){try{a(r.throw(e))}catch(e){t(e)}}function a(t){var A;t.done?e(t.value):(A=t.value,A instanceof i?A:new i((function(e){e(A)}))).then(o,s)}a((r=r.apply(A,n||[])).next())}));var A,n,i,r}}class Dl{constructor(e,t){this.controller=new Pl,this.templateContainer=e,this.parentContainer=t,this.menuContainer=document.createElement("div"),this.menuList=document.createElement("ul"),this.menuItemManager=new Nl(this.menuContainer,this.controller),this.init()}init(){return e=this,t=void 0,n=function*(){this.menuContainer.classList.add("menu-container"),this.menuList.innerHTML="";const e=yield this.controller.getMenuCategories();null==e||e.forEach((e=>{const t=document.createElement("div");t.classList.add("menu-category"),e.forEach((e=>{const A=this.menuItemManager.createMenuItem(e,(()=>{this.menuContainer.remove()}));t.appendChild(A)})),this.menuContainer.appendChild(t)}))},new((A=void 0)||(A=Promise))((function(i,r){function o(e){try{a(n.next(e))}catch(e){r(e)}}function s(e){try{a(n.throw(e))}catch(e){r(e)}}function a(e){var t;e.done?i(e.value):(t=e.value,t instanceof A?t:new A((function(e){e(t)}))).then(o,s)}a((n=n.apply(e,t||[])).next())}));var e,t,A,n}render(e,t){if(!e){const t=this.templateContainer.querySelector(".tile-open-menu");if(!t)return;e=t.getBoundingClientRect()}this.displayMenu(e,t)}displayMenu(e,t){const A=this.parentContainer.getBoundingClientRect();if(!t)return;this.menuContainer.style.position="absolute",this.menuContainer.style.left="-9999px",this.menuContainer.style.top="-9999px",this.menuContainer.style.opacity="0",this.menuContainer.style.visibility="visible",this.parentContainer.appendChild(this.menuContainer),this.menuContainer.offsetHeight;const n=this.menuContainer.getBoundingClientRect(),i=t.left-A.left+e.left,r=t.top-A.top+e.top,o=(e.width,e.height,A.width),s=A.height;this.menuContainer.style.left="",this.menuContainer.style.top="",this.menuContainer.style.right="",this.menuContainer.style.bottom="";const a=r,l=n.height>0?n.height:200;if(a>=l+10?this.menuContainer.style.top=r-l-0+"px":(this.menuContainer.style.top="10px",l>s-20&&(this.menuContainer.style.maxHeight=s-20+"px",this.menuContainer.style.overflowY="auto")),i+n.width<=o-10)this.menuContainer.style.left=`${i+16}px`;else{const e=o-n.width-10;this.menuContainer.style.left=`${Math.max(10,e+16)}px`}this.menuContainer.style.visibility="visible",this.menuContainer.style.opacity="1"}}var Ol=function(e,t,A,n){return new(A||(A=Promise))((function(i,r){function o(e){try{a(n.next(e))}catch(e){r(e)}}function s(e){try{a(n.throw(e))}catch(e){r(e)}}function a(e){var t;e.done?i(e.value):(t=e.value,t instanceof A?t:new A((function(e){e(t)}))).then(o,s)}a((n=n.apply(e,t||[])).next())}))};class _l{constructor(e,t,A){this.templateContainer=e,this.parentContainer=t,this.menuContainer=document.createElement("div"),this.controller=new hl,this.menuList=document.createElement("ul"),this.submenuContainer=document.createElement("div"),this.infoSectionUi=new Vs,this.sectionId=A,this.init()}init(){return Ol(this,void 0,void 0,(function*(){this.menuContainer.classList.add("menu-container"),this.menuContainer.classList.add("info-section-popup"),this.menuList.innerHTML="";const e=[{name:"Cta",label:Me.t("sidebar.action_list.call_to_action"),expandable:!0},{name:"Tile",label:"Tile",handler:e=>this.addTile(e)},{name:"Image",label:"Image",handler:e=>this.addImage(e)},{name:"Description",label:"Description",handler:e=>this.addDescription(e)}];e.sort(((e,t)=>e.label.localeCompare(t.label))),null==e||e.forEach((e=>{const t=document.createElement("div");t.classList.add("menu-category");const A=this.controller.createMenuItem(e,(()=>{this.menuContainer.remove()}));if(t.appendChild(A),null==e?void 0:e.expandable){const e=document.createElement("span");e.classList.add("fa","fa-chevron-right"),e.style.fontSize="10px",e.style.color="#6c757d",A.appendChild(e),A.addEventListener("mouseenter",(()=>Ol(this,void 0,void 0,(function*(){const e=document.querySelector(".info-section-popup .menu-list");e&&e.remove(),A.classList.add("expandable"),this.submenuContainer.innerHTML="",this.submenuContainer.className="menu-list",this.submenuContainer.style.position="absolute",this.submenuContainer.style.left="100%",this.submenuContainer.style.top=`${A.offsetTop+10}px`,this.submenuContainer.style.backgroundColor="white",this.submenuContainer.style.boxShadow="0 2px 6px rgba(0, 0, 0, 0.2)",this.submenuContainer.style.borderRadius="9px",this.submenuContainer.style.width="100px",this.submenuContainer.style.minHeight="fit-content",this.submenuContainer.style.zIndex="1001",(yield this.getSubMenuItems({},"Cta")).forEach((e=>{const t=document.createElement("div");t.classList.add("menu-item","sub-menu-item"),t.textContent=e.label,t.addEventListener("click",(t=>{t.stopPropagation(),e.action(),this.menuContainer.remove()})),this.submenuContainer.appendChild(t)})),this.menuContainer.appendChild(this.submenuContainer)}))))}else A.addEventListener("click",(()=>{e.handler&&e.handler(this.sectionId),this.menuContainer.remove()})),A.addEventListener("mouseenter",(()=>{this.submenuContainer.remove(),this.menuContainer.querySelectorAll(".expandable").forEach((e=>{e.classList.remove("expandable")}))}));this.menuContainer.appendChild(t)}))}))}render(e,t){if(!e){const t=this.templateContainer.querySelector(".tb-add-new-info-section, .add-new-info-section");if(!t)return;e=t.getBoundingClientRect()}this.displayMenu(e,t)}addTile(e){const t=this.infoSectionUi.infoTileUi();this.controller.addTile(t,e)}addImage(e){this.infoSectionUi.openImageUpload(e)}addDescription(e){this.controller.openContentEditModal(e)}displayMenu(e,t){const A=this.parentContainer.getBoundingClientRect();if(!t)return;this.menuContainer.style.position="absolute",this.menuContainer.style.left="-9999px",this.menuContainer.style.top="-9999px",this.menuContainer.style.opacity="0",this.menuContainer.style.visibility="visible",this.parentContainer.appendChild(this.menuContainer),this.menuContainer.offsetHeight;const n=this.menuContainer.getBoundingClientRect(),i=(t.width,t.top-A.top+e.top-15),r=(e.width,i+e.height),o=(A.width,A.height);this.menuContainer.style.left="",this.menuContainer.style.top="",this.menuContainer.style.right="",this.menuContainer.style.bottom="",this.menuContainer.style.width="120px";const s=o-r,a=i,l=n.height>0?n.height:200;s>=l+10?this.menuContainer.style.top=`${r+20}px`:a>=l+10?this.menuContainer.style.top=i-l-0+"px":(this.menuContainer.style.top="10px",l>o-20&&(this.menuContainer.style.maxHeight=o-20+"px",this.menuContainer.style.overflowY="auto")),this.menuContainer.style.left=`calc(50% - ${this.menuContainer.clientWidth/2}px)`,this.menuContainer.style.visibility="visible",this.menuContainer.style.opacity="1"}getSubMenuItems(e,t){return Ol(this,void 0,void 0,(function*(){return[{id:"add-address",label:"Address",type:"Map",name:"",handler:e=>e.handleWebLinks()},{id:"add-email",label:"Email",type:"Email",name:"",handler:e=>e.handleEmail()},{id:"add-form",label:"Form",type:"Form",name:"",handler:e=>e.handleForm()},{id:"add-phone",label:"Phone",type:"Phone",name:"",handler:e=>e.handlePhone()},{id:"add-web-link",label:"Web link",type:"WebLink",name:"",handler:e=>e.handleWebLinks()}].map((e=>({id:e.id,name:e.name,label:e.label,type:e.type,action:()=>{const t=new ml(!0,e.type,this.sectionId);e.handler(t)}})))}))}}class Vl{constructor(e,t,A,n,i){this.isMenuOpen=!1,this.handleComponentAdd=e=>{var t;const A=e.parent();A&&(null===(t=A.getEl())||void 0===t?void 0:t.classList.contains("container-row"))&&3===A.components().filter((e=>"tile-wrapper"===e.get("type"))).length&&console.log("more than 3")},this.editor=e,this.pageId=t,this.frameId=A,this.pageData=n,this.appVersionManager=i,this.tilePropsSection=document.getElementById("menu-page-section"),this.ctaPropsSection=document.getElementById("content-page-section")}handleTileManager(e){this.tileManager=new Tl(e,this.editor,this.pageId,this.frameId,this.pageData)}initContentDataUi(e,t){new Ul(e,this.editor,t)}clearAllMenuContainers(e=!1){var t,A;document.querySelectorAll(".menu-container").forEach((t=>{e&&!t.classList.contains("info-section-popup")||t.remove()}));const n=null===(A=null===(t=this.editor)||void 0===t?void 0:t.getWrapper())||void 0===A?void 0:A.find(".info-section-spacing-container");null==n||n.forEach((e=>{e.getEl().style.removeProperty("height");const t=e.getEl().querySelector('[data-name="Ellipse 6"]'),A=e.getEl().querySelector(".add-new-info-section");A&&A.style.removeProperty("opacity"),t&&t.setAttribute("fill","#fdfdfd");const n=e.getEl().querySelector("path");n&&n.setAttribute("fill","#5068a8")}))}openMenu(e){const t=e.target;if(t.closest(".tile-open-menu")){e.stopPropagation();const A=t.closest(".tile-open-menu"),n=A.closest(".template-wrapper");this.clearAllMenuContainers();const i=document.getElementById(`${this.frameId}-frame`),r=null==i?void 0:i.querySelector("iframe"),o=null==r?void 0:r.getBoundingClientRect(),s=new Dl(n,i),a=A.getBoundingClientRect();s.render(a,o)}}handleInfoSectionHover(e){const t=e.target;if(this.isMenuOpen)return void(this.isMenuOpen=!1);const A=t.closest(".add-new-info-section svg");if(A){let e=A;const t=(()=>{for(;e;){if(e.classList.contains("info-section-spacing-container"))return e;e=e.parentElement}return null})();if(!t)return void console.warn("No parent info-section-spacing-container found.");const n=this.getNextInfoSectionId(t);n?console.log("Found next sectionId:",n):console.warn("No matching info section found below.");const i=document.getElementById(`${this.frameId}-frame`),r=null==i?void 0:i.querySelector("iframe"),o=null==r?void 0:r.getBoundingClientRect(),s=new _l(t,i,n),a=A.getBoundingClientRect();s.render(a,o),this.isMenuOpen=!0;const l=A.closest(".info-section-spacing-container");if(l){l.style.height="3.2rem";const e=l.querySelector(".add-new-info-section");e&&(e.style.opacity="1");const t=A.querySelector('[data-name="Ellipse 6"]');t&&t.setAttribute("fill","#5068a8");const n=A.querySelector("path");n&&n.setAttribute("fill","#fff")}globalThis.pageData=this.pageData,this.activateEditor(this.frameId)}}getNextInfoSectionId(e){var t,A;if(!e.classList.contains("info-section-spacing-container"))return"";let n=e.nextElementSibling;for(;n;){if(n instanceof HTMLElement&&(null===(t=n.dataset.gjsType)||void 0===t?void 0:t.startsWith("info"))&&(null===(A=n.dataset.gjsType)||void 0===A?void 0:A.endsWith("section")))return n.id||"";n=n.nextElementSibling}return""}handleDragEnd(e,t,A){var n,i,r,o,s,a;this.activateEditor(this.frameId);let l=A.getEl(),c=!1;const d=null===(n=this.editor)||void 0===n?void 0:n.getWrapper().find(".container-column-info")[0];if(d){const t=null!==(o=null===(r=null===(i=e.target)||void 0===i?void 0:i.getId)||void 0===r?void 0:r.call(i))&&void 0!==o?o:e.getId(),A=d.components().models.findIndex((e=>e.getId()===t)),n=(new Ba).getHTML(),l=null===(s=this.editor)||void 0===s?void 0:s.addComponents(n);d.append(l,{at:A});const c=null===(a=this.editor)||void 0===a?void 0:a.addComponents(n);d.append(c,{at:A+2});const u=new hl;u.removeConsecutivePlusButtons(),u.markFirstAndLastPlusButtons("first"),u.markFirstAndLastPlusButtons("last")}if(l&&"info-tiles-section"===l.getAttribute("data-gjs-type")){const e=l.closest(".container-column-info");e&&(c=!0,l=e)}if(l&&l.classList.contains("container-column-info")){const t=Array.from(l.children).filter((e=>!e.classList.contains("info-section-spacing-container"))),A=c?e.parent.getEl():e.target.getEl(),n=t.findIndex((e=>e===A));new ul(this.pageId).moveContentRow(A.getAttribute("id"),n)}(new hl).removeConsecutivePlusButtons()}onTileUpdate(e){var t;e&&(null===(t=e.getEl())||void 0===t?void 0:t.classList.contains("container-row"))&&(this.editor.off("component:add",this.handleComponentAdd),this.editor.on("component:add",this.handleComponentAdd))}frameEventListener(){document.querySelectorAll(".mobile-frame").forEach((e=>{e.id.includes(this.frameId)&&(e.addEventListener("click",(e=>{globalThis.currentPageId=this.pageId,globalThis.pageData=this.pageData,globalThis.frameId=this.frameId,this.activateEditor(this.frameId),this.clearAllMenuContainers()})),e.addEventListener("input",(e=>{globalThis.currentPageId=this.pageId,globalThis.pageData=this.pageData,globalThis.frameId=this.frameId,this.activateEditor(this.frameId)})))})),document.addEventListener("click",(e=>{this.clearAllMenuContainers()}))}setPageFocus(e,t,A,n){document.querySelectorAll(".mobile-frame").forEach((i=>{i.id.includes(t)&&(globalThis.activeEditor=e,globalThis.currentPageId=A,globalThis.pageData=n,globalThis.frameId=t,this.activateEditor(t),this.clearAllMenuContainers())}))}activateEditor(e){var t;const A=document.getElementById(`${e}-frame`);if(!A)return;globalThis.pageId=A.dataset.pageid;const n=A.dataset.pageid,i=null===(t=this.appVersionManager.getPages())||void 0===t?void 0:t.find((e=>e.PageId==n));this.pageData=i,document.querySelectorAll(".mobile-frame").forEach((t=>{const A=window.app.editors;Object.entries(A).filter((([t])=>t!==e)).forEach((([e,t])=>{t.select(null)})),t.classList.remove("active-editor"),t.id.includes(e)&&(t.classList.add("active-editor"),this.activateMiniatureFrame(t.id))})),this.showPageInfo(),globalThis.activeEditor=this.editor,globalThis.currentPageId=this.pageId,globalThis.pageData=this.pageData,(new cl).unDoReDo()}showPageInfo(){var e,t;if(globalThis.selectedComponent)return;let A="";const n=document.querySelector("#page-info-section");this.pageData&&("Information"==(null===(e=this.pageData)||void 0===e?void 0:e.PageType)&&(null===(t=this.pageData)||void 0===t?void 0:t.PageInfoStructure.InfoContent)&&this.pageData.PageInfoStructure.InfoContent.forEach((e=>{if("TileRow"==e.InfoType)e.Tiles.forEach((e=>{A+=`<li>${e.Text}</li>`}));else if("Cta"==e.InfoType&&e.CtaAttributes.Action){const t=e.CtaAttributes.Action.ObjectType;["DynamicForm","WebLink"].includes(t)&&(A+=`<li>${e.CtaAttributes.CtaLabel}</li>`)}})),n.innerHTML=`\n      <h5>${A?"Linked Pages":""}</h5>\n      <ul>\n        ${A}\n      </ul>\n    `,document.getElementById("page-info-title").innerHTML=`\n      <h3>${this.pageData.PageName.toUpperCase()}</h3>\n      <hr/>\n    `,n.style.display="block")}hidePageInfo(){document.querySelector("#page-info-section").style.display="none"}activateMiniatureFrame(e){var t,A;const n=document.querySelector(".editor-thumbs-list");n.querySelectorAll(".tb-highlighter").forEach((e=>{e.style.display="none"}));const i=n.querySelector(`div[id="${e}"]`);if(i){const e=null===(A=null===(t=i.parentElement)||void 0===t?void 0:t.parentElement)||void 0===A?void 0:A.querySelector(".tb-highlighter");e&&(e.style.display="block")}}showCtaTools(){this.ctaPropsSection.style.display="block",this.tilePropsSection.style.display="none"}showTileTools(){this.tilePropsSection.style.display="block",this.ctaPropsSection.style.display="none"}toggleSidebar(e=!1){const t=document.getElementById("tools-section");if(e){t.style.display="block";const e=document.getElementById("menu-page-section");document.getElementById("content-page-section"),e&&(e.style.display="block")}else t.style.display="none"}createTileMapper(){return new xl(this.pageId)}createInfoContentMapper(){return new ul(this.pageId)}setTileProperties(){const e=globalThis.selectedComponent,t=e.parent(),A=t.parent(),n=globalThis.tileMapper.getTile(A.getId(),t.getId());e&&n&&(this.tileProperties=new Bl(e,n),this.tileProperties.setTileAttributes())}setInfoTileProperties(){var e;if("Information"!==this.pageData.PageType)return;const t=globalThis.selectedComponent,A=t.parent(),n=A.parent(),i=globalThis.infoContentMapper.getInfoContent(n.getId());if(t&&i){const n=null===(e=null==i?void 0:i.Tiles)||void 0===e?void 0:e.find((e=>e.Id===A.getId()));this.tileProperties=new Bl(t,n),this.tileProperties.setTileAttributes()}}setInfoCtaProperties(){window.app.toolsSection.pagesTabContent.contentSection.renderComponents();const e=globalThis.selectedComponent;if("Information"!==this.pageData.PageType)return;if(!e.is("info-cta-section"))return;this.clearCtaProperties();const t=globalThis.infoContentMapper.getInfoContent(e.getId());if(e&&t){const A=null==t?void 0:t.CtaAttributes;new Ls(e,A).setctaAttributes()}}clearCtaProperties(){const e=globalThis.selectedComponent;if(e&&e.find(".cta-styled-btn")[0])return;const t=null===document||void 0===document?void 0:document.querySelector(".cta-button-layout-container");t&&(t.style.display="flex");const A=document.querySelector("#content-page-section"),n=null==A?void 0:A.querySelectorAll(".color-item > input");null==n||n.forEach((e=>e.checked=!1));const i=null==A?void 0:A.querySelector(".cta-action-input");i&&i.remove()}createChildEditor(){return e=this,t=void 0,n=function*(){var e,t,A,n;const i=globalThis.selectedComponent,r=i.parent(),o=r.parent();let s;if(i.getClasses().includes("template-block"),["img-button-container","plain-button-container","cta-container-child"].some((e=>i.getClasses().includes(e))),"Information"===this.pageData.PageType){const t=globalThis.infoContentMapper.getInfoContent(o.getId());s=null===(e=null==t?void 0:t.Tiles)||void 0===e?void 0:e.find((e=>e.Id===r.getId()))}else s=globalThis.tileMapper.getTile(o.getId(),r.getId());if(this.removeOtherEditors(),null===(t=null==s?void 0:s.Action)||void 0===t?void 0:t.ObjectId){if("Phone"===(null===(A=null==s?void 0:s.Action)||void 0===A?void 0:A.ObjectType)||"Email"===(null===(n=null==s?void 0:s.Action)||void 0===n?void 0:n.ObjectType))return;const e=s.Action.ObjectId,t=JSON.parse(localStorage.getItem(`data-${e}`)||"{}");let i;if(Object.keys(t).length>0)i=t;else{const t=this.appVersionManager.getPages();i=null==t?void 0:t.find((t=>t.PageId===e))}i&&new xa(e,i).init(s)}this.activateNavigators()},new((A=void 0)||(A=Promise))((function(i,r){function o(e){try{a(n.next(e))}catch(e){r(e)}}function s(e){try{a(n.throw(e))}catch(e){r(e)}}function a(e){var t;e.done?i(e.value):(t=e.value,t instanceof A?t:new A((function(e){e(t)}))).then(o,s)}a((n=n.apply(e,t||[])).next())}));var e,t,A,n}removeEditor(){var e,t,A;const n=globalThis.frameId,i=document.querySelector(`#${n}-frame`);i&&(this.removeOtherEditors(),i.remove());const r=document.querySelector(".editor-thumbs-list").querySelector(`div[id="${n}"]`);r&&(null===(A=null===(t=null===(e=r.parentElement)||void 0===e?void 0:e.parentElement)||void 0===t?void 0:t.parentElement)||void 0===A||A.remove())}removeOtherEditors(){document.querySelectorAll(".mobile-frame").forEach((e=>{var t,A,n;if(e.id.includes(globalThis.frameId)){let i=e.nextElementSibling;for(;i;){const e=i;if(i=i.nextElementSibling,e){const i=document.querySelector(".editor-thumbs-list").querySelector(`div[id="${e.id}"]`);i&&(null===(n=null===(A=null===(t=i.parentElement)||void 0===t?void 0:t.parentElement)||void 0===A?void 0:A.parentElement)||void 0===n||n.remove()),e.remove()}}}}))}clearAllEditors(){document.querySelectorAll(".mobile-frame").forEach((e=>{var t,A,n;const i=document.querySelector(".editor-thumbs-list").querySelector(`div[id="${e.id}"]`);i&&(null===(n=null===(A=null===(t=i.parentElement)||void 0===t?void 0:t.parentElement)||void 0===A?void 0:A.parentElement)||void 0===n||n.remove()),e.remove()}))}activateNavigators(){document.querySelector(".page-navigator-left"),document.querySelector(".page-navigator-right");const e=document.getElementById("child-container"),t=(document.getElementById("scroll-left"),document.getElementById("scroll-right"),document.querySelectorAll("#child-container .mobile-frame")),A=document.querySelector(".menu-container"),n=A?A.clientWidth:0,i=(Array.from(t).reduce(((e,t)=>e+t.clientWidth),0),e.clientWidth,window.innerWidth,t.length,"center");e.style.setProperty("justify-content",i);const r=()=>{};return e.addEventListener("scroll",r),{updateButtonVisibility:r,scrollBy:t=>{const A=t+n;e.scrollTo({left:e.scrollLeft+A,behavior:"smooth"})}}}resetTitleFromDOM(){const e=document.querySelector(".app-bar .title"),t=document.getElementById("edit_page_title"),A=document.getElementById("save_page_title"),n=document.querySelector(".app-bar .appbar-title-container");if(!(e&&t&&A&&n))return void console.warn("resetTitleFromDOM: Required elements not found in DOM");if("false"===e.contentEditable)return;e.contentEditable="false",t.style.display="block",A.style.display="none",n.style.removeProperty("border-width"),e.style.whiteSpace="",e.style.overflow="",e.style.textOverflow="";const i=globalThis.deviceWidth,r=i&&i<=300?18:23;e.textContent&&this.pageData.PageName&&(e.title=this.pageData.PageName,e.textContent.length>r?e.textContent=this.pageData.PageName.substring(0,r)+"...":e.textContent=this.pageData.PageName)}}class $l{constructor(e){this.frameId=e}init(){const e=document.getElementById(this.frameId);e&&e.addEventListener("click",(e=>{console.log("frameClickListener",this.frameId)}))}activateEditor(){document.querySelectorAll(".mobile-frame").forEach((e=>{e.classList.remove("active-editor"),e.id.includes(this.frameId)&&e.classList.add("active-editor")}))}}class jl{constructor(e){this.editor=e,this.wrapper=this.editor.getWrapper();const t=this.wrapper.find(".container-column-info");t.length&&(this.container=t[0]),this.map()}map(){this.container}}var Kl=function(e,t,A,n){return new(A||(A=Promise))((function(i,r){function o(e){try{a(n.next(e))}catch(e){r(e)}}function s(e){try{a(n.throw(e))}catch(e){r(e)}}function a(e){var t;e.done?i(e.value):(t=e.value,t instanceof A?t:new A((function(e){e(t)}))).then(o,s)}a((n=n.apply(e,t||[])).next())}))};class Rl{constructor(){this.handleComponentAdd=e=>{var t;const A=e.parent();A&&(null===(t=A.getEl())||void 0===t?void 0:t.classList.contains("container-row"))&&3===A.components().filter((e=>"tile-wrapper"===e.get("type"))).length&&console.log("more than 3")},this.appVersionManager=new h,this.toolboxService=new s,this.initializeResizeState(),this.initializeTileHeights(),this.isNewPage=!1}initializeResizeState(){this.resizeState={isResizing:!1,isDragging:!1,resizingRowHeight:0,resizingRow:null,resizingRowParent:null,resizeYStart:0,initialHeight:80,templateBlock:null,affectedElements:null,originalCursors:null,resizeOverlay:null,infoSectionSpacer:null,frameChildren:[]}}initializeTileHeights(){this.tileHeights={min:80,medium:120,max:160,snapThreshold:10}}init(e,t,A,n,i){this.editor=e,this.pageData=t,this.pageId=t.PageId,this.frameId=A,this.isHome=n,this.isNewPage=i,this.initializeUIManager(),this.setupGlobalReferences(),this.initializeEventListeners()}initializeUIManager(){this.uiManager=new Vl(this.editor,this.pageId,this.frameId,this.pageData,this.appVersionManager)}setupGlobalReferences(){globalThis.uiManager=this.uiManager}initializeEventListeners(){new $l(this.frameId),this.onDragAndDrop(),this.onSelected(),this.onComponentUpdate(),this.onLoad()}onLoad(){this.editor&&this.editor.on("load",(()=>{const e=this.editor.getWrapper();e?(this.setupGlobalWrapper(e,this.editor),this.setupWrapperEventListeners(e),this.initializePostLoadComponents(),this.activateFrameEvents(e)):console.error("Wrapper not found!")}))}setupGlobalWrapper(e,t){globalThis.wrapper=e,globalThis.nextEditor=t}setupWrapperEventListeners(e){const t=e.view.el;t.addEventListener("mousedown",this.handleMouseDown.bind(this)),t.addEventListener("mousemove",this.handleMouseMove.bind(this)),t.addEventListener("mouseup",this.handleMouseUp.bind(this)),t.addEventListener("dblclick",this.handleDoubleClick.bind(this)),t.addEventListener("click",this.handleClick.bind(this)),t.addEventListener("mouseover",this.handleMouseOver.bind(this)),document.addEventListener("mousemove",this.handleDocumentMouseMove.bind(this)),document.addEventListener("mouseup",this.handleDocumentMouseUp.bind(this))}handleMouseDown(e){const t=e.target;t.closest(".tile-resize-button")&&this.startResize(e,t),t.closest(".template-block")&&(this.resizeState.isDragging=!0)}startResize(e,t){this.resizeState.isResizing=!0,this.resizeState.resizingRow=t.closest(".template-wrapper"),this.resizeState.resizingRowParent=t.closest(".container-row"),this.resizeState.resizingRowHeight=this.resizeState.resizingRow.offsetHeight,this.resizeState.resizeYStart=e.clientY,this.resizeState.initialHeight=this.resizeState.resizingRow.offsetHeight,this.setupResizeUI(t)}setupResizeUI(e){const t=e.closest("#frame-container");this.resizeState.frameChildren=Array.from(null==t?void 0:t.querySelectorAll("*")).filter((e=>e!==this.resizeState.resizingRow)),this.resizeState.frameChildren.forEach((e=>{e.style.setProperty("cursor","ns-resize","important")})),this.createResizeOverlay(),this.setupAffectedElements(),this.setupInfoSectionSpacer(e),this.resizeState.templateBlock=e.closest(".template-block")}createResizeOverlay(){this.resizeState.resizeOverlay=document.createElement("div"),Object.assign(this.resizeState.resizeOverlay.style,{position:"fixed",top:"0",left:"0",width:"100%",height:"100%",zIndex:"9999",cursor:"ns-resize",backgroundColor:"transparent",pointerEvents:"auto"}),document.body.appendChild(this.resizeState.resizeOverlay)}setupAffectedElements(){this.resizeState.resizingRow&&(this.resizeState.affectedElements=Array.from(this.resizeState.resizingRow.querySelectorAll("*")),this.resizeState.originalCursors=this.resizeState.affectedElements.map((e=>e.style.cursor)),this.resizeState.affectedElements.forEach((e=>{e.style.setProperty("cursor","ns-resize","important")})))}setupInfoSectionSpacer(e){var t,A;this.resizeState.infoSectionSpacer=null===(A=null===(t=null==e?void 0:e.closest(".container-row"))||void 0===t?void 0:t.nextElementSibling)||void 0===A?void 0:A.closest(".info-section-spacing-container"),this.resizeState.infoSectionSpacer&&(this.resizeState.infoSectionSpacer.style.pointerEvents="none")}handleMouseMove(e){if(this.resizeState.isDragging&&e.target){const t=e.target.closest('[data-gjs-type="info-tiles-section"]');t&&(t.tabIndex=0,t.focus())}}handleMouseUp(e){this.resizeState.isDragging&&(this.resizeState.isDragging=!1)}handleDocumentMouseMove(e){this.resizeState.isResizing&&this.resizeState.resizingRow&&this.performResize(e)}performResize(e){this.resizeState.resizeOverlay&&(e.preventDefault(),e.stopPropagation());const t=e.clientY-this.resizeState.resizeYStart,A=this.calculateNewHeight(t);this.applyResize(A)}calculateNewHeight(e){const t=this.resizeState.initialHeight+e,{min:A,medium:n,max:i,snapThreshold:r}=this.tileHeights;return t<A+r?A:t<n-r?t:t<n+r?n:t<i-r?t:i}applyResize(e){if(!this.resizeState.resizingRow)return;const t=this.editor.getWrapper().find(`#${this.resizeState.resizingRow.id}`);t.length&&t[0].addStyle({height:`${e}px`})}handleDocumentMouseUp(e){this.resizeState.isResizing&&this.resizeState.resizingRow&&this.finishResize()}finishResize(){const e=this.calculateFinalHeight();this.applyFinalResize(e),this.updateInfoTileAttributes(e),this.cleanupResize()}calculateFinalHeight(){if(!this.resizeState.resizingRow)return this.tileHeights.min;const e=this.resizeState.resizingRow.offsetHeight,{min:t,medium:A,max:n}=this.tileHeights;return e<(t+A)/2?t:e<(A+n)/2?A:n}applyFinalResize(e){if(!this.resizeState.resizingRow)return;const t=this.editor.getWrapper().find(`#${this.resizeState.resizingRow.id}`);t.length&&(this.resizeState.resizingRow.style.transition="height 0.05s ease-out",t[0].addStyle({height:`${e}px`}),setTimeout((()=>{this.resizeState.resizingRow&&this.resizeState.resizingRow.style.removeProperty("transition")}),150))}updateInfoTileAttributes(e){var t;const A=new hl,n=null===(t=this.resizeState.resizingRowParent)||void 0===t?void 0:t.id;n&&this.resizeState.resizingRow&&A.updateInfoTileAttributes(n,this.resizeState.resizingRow.id,"Size",e)}cleanupResize(){var e;this.resizeState.isResizing=!1,document.body.style.removeProperty("cursor"),this.resizeState.resizeOverlay&&(document.body.removeChild(this.resizeState.resizeOverlay),this.resizeState.resizeOverlay=null),this.resetAffectedElementCursors(),null===(e=this.resizeState.frameChildren)||void 0===e||e.forEach((e=>{e.style.removeProperty("cursor")})),this.resizeState.infoSectionSpacer&&(this.resizeState.infoSectionSpacer.style.pointerEvents="auto"),this.clearResizeReferences()}resetAffectedElementCursors(){this.resizeState.affectedElements&&this.resizeState.originalCursors&&this.resizeState.affectedElements.forEach(((e,t)=>{this.resizeState.originalCursors&&this.resizeState.originalCursors[t]?e.style.cursor=this.resizeState.originalCursors[t]:e.style.removeProperty("cursor")}))}clearResizeReferences(){this.resizeState.resizingRow=null,this.resizeState.resizingRowParent=null,this.resizeState.affectedElements=null,this.resizeState.originalCursors=null,this.resizeState.resizeOverlay=null,this.resizeState.infoSectionSpacer=null,this.resizeState.templateBlock=null}handleDoubleClick(e){var t;e.preventDefault();const A=globalThis.selectedComponent;if(A)return void this.createImageUploadModal(A);const n=e.target;if("product-service-image"==n.id){const e=null===(t=n.parentElement)||void 0===t?void 0:t.id;if(!e)return;const A=document.createElement("div");return A.classList.add("tb-modal"),A.style.display="flex",new yl("info",e).render(A),void document.body.appendChild(A)}}createImageUploadModal(e){const t=document.createElement("div");t.classList.add("tb-modal"),t.style.display="flex";const A=e.closest('[data-gjs-type="info-tiles-section"]');new yl("tile",null==A?void 0:A.getId()).render(t);const n=this.createUploadInput();document.body.appendChild(t),document.body.appendChild(n)}createUploadInput(){const e=document.createElement("input");return e.type="file",e.multiple=!0,e.accept="image/jpeg, image/jpg, image/png",e.id="fileInput",e.style.display="none",e}handleClick(e){const t=e.target;if(this.shouldIgnoreClick(t))return void e.stopPropagation();const A=this.editor.getSelected();if(A){const e=this.getComponentFromElement(t);if(e&&e.getId()===A.getId())return void this.retriggerSelection(A)}this.processClick(e,t)}getComponentFromElement(e){let t=e;for(;t&&t!==document.body;){const e=t.getAttribute("id");if(e)return this.editor.getWrapper().find(`#${e}`)[0]||null;t=t.parentElement}return null}retriggerSelection(e){this.editor.select(null),setTimeout((()=>{this.editor.select(e)}),0)}shouldIgnoreClick(e){return!!(e.closest(".menu-container")||e.closest(".menu-category")||e.closest(".sub-menu-header"))}processClick(e,t){this.uiManager.activateEditor(this.frameId),this.uiManager.clearAllMenuContainers(),globalThis.eventTarget=t,this.uiManager.handleTileManager(e),this.uiManager.openMenu(e),this.uiManager.initContentDataUi(e,this.pageData),this.uiManager.activateEditor(this.frameId),(new ec).loadPageHistory(this.pageData),this.uiManager.handleInfoSectionHover(e)}handleMouseOver(e){const t=e.target.closest(".info-section-spacing-container");t&&"3.2rem"!==t.style.height&&(this.uiManager.clearAllMenuContainers(!0),this.uiManager.isMenuOpen=!1)}initializePostLoadComponents(){new f(this.frameId,this.pageId,this.editor,this.pageData,this.isHome),this.uiManager.frameEventListener(),this.uiManager.activateNavigators(),(new hl).removeConsecutivePlusButtons(this.editor)}onComponentUpdate(){this.editor.on("component:update",(e=>{window.dispatchEvent(new CustomEvent("pageChanged",{detail:{pageId:this.pageId}}))}))}onDragAndDrop(){let e,t;this.editor.on("component:drag:start",(t=>{e=t.parent})),this.editor.on("component:drag:end",(A=>{this.resizeState.isResizing||(t=A.parent,this.uiManager.handleDragEnd(A,e,t))}))}onSelected(){this.editor.on("component:selected",this.handleComponentSelected.bind(this)),this.editor.on("component:deselected",this.handleComponentDeselected.bind(this))}handleComponentSelected(e){return Kl(this,void 0,void 0,(function*(){switch(this.setupGlobalComponentReferences(e),this.determineComponentType(e)){case"cta":yield this.handleCtaSelection(e);break;case"tile":this.handleTileSelection();break;default:this.handleDefaultSelection()}}))}setupGlobalComponentReferences(e){new jl(this.editor),globalThis.selectedComponent=e,globalThis.tileMapper=this.uiManager.createTileMapper(),globalThis.infoContentMapper=this.uiManager.createInfoContentMapper(),globalThis.frameId=this.frameId,globalThis.activeEditor=this.editor}determineComponentType(e){const t=e.getClasses();return t.includes("template-block")?"tile":["img-button-container","plain-button-container","cta-container-child"].some((e=>t.includes(e)))?"cta":"default"}handleCtaSelection(e){return Kl(this,void 0,void 0,(function*(){this.uiManager.toggleSidebar(!0),this.uiManager.setInfoCtaProperties(),this.uiManager.showCtaTools(),this.uiManager.hidePageInfo();const t=globalThis.tileMapper.getCta(e.getId());t.CtaAction&&(yield this.setupChildEditor(t))}))}setupChildEditor(e){return Kl(this,void 0,void 0,(function*(){const t=globalThis.activeVersion;this.uiManager.removeOtherEditors();const A=this.findChildPage(e,t);A&&(this.uiManager.removeOtherEditors(),new xa(null==A?void 0:A.PageId,A).init(e))}))}findChildPage(e,t){const A="Form"===e.CtaType?"DynamicForm":e.CtaType;return"DynamicForm"===A?null==t?void 0:t.Pages.find((t=>{var n,i;return t.PageType===A&&(null===(n=t.PageLinkStructure)||void 0===n?void 0:n.WWPFormId)===Number(null===(i=e.Action)||void 0===i?void 0:i.ObjectId)})):"WebLink"===A?null==t?void 0:t.Pages.find((t=>{var A;return(null===(A=t.PageLinkStructure)||void 0===A?void 0:A.Url)===e.CtaAction})):null}handleTileSelection(){this.uiManager.toggleSidebar(!0),this.uiManager.setTileProperties(),this.uiManager.setInfoTileProperties(),this.uiManager.showTileTools(),this.uiManager.createChildEditor(),this.uiManager.hidePageInfo()}handleDefaultSelection(){this.uiManager.toggleSidebar(!1),this.uiManager.showPageInfo()}handleComponentDeselected(){globalThis.selectedComponent=null,this.uiManager.toggleSidebar(!1),this.uiManager.showPageInfo()}onTileUpdate(e){var t;e&&(null===(t=e.getEl())||void 0===t?void 0:t.classList.contains("container-row"))&&(this.editor.off("component:add",this.handleComponentAdd),this.editor.on("component:add",this.handleComponentAdd))}setPageFocus(e,t,A,n){this.ensureUIManager(),this.uiManager.setPageFocus(e,t,A,n)}activateNavigators(){this.ensureUIManager(),this.uiManager.activateNavigators()}removeOtherEditors(){this.ensureUIManager(),this.uiManager.removeOtherEditors()}removeEditor(){this.ensureUIManager(),this.uiManager.removeEditor()}clearAllEditors(){this.ensureUIManager(),this.uiManager.clearAllEditors(),this.handleComponentDeselected()}activateEditor(e){this.ensureUIManager(),this.uiManager.activateEditor(e)}activateFrameEvents(e){var t;if(!this.isHome)return;const A=null===(t=null==e?void 0:e.find("#frame-container")[0])||void 0===t?void 0:t.getEl();A&&(A.style.pointerEvents="all")}ensureUIManager(){this.uiManager||(this.uiManager=new Vl(this.editor,this.pageId,this.frameId,this.pageData,this.appVersionManager))}}class ql{constructor(e,t){this.button=null,this.pageData=e,this.toolboxService=new s,this.appVersion=new h,e&&(this.pageData=e,this.button=document.createElement("button"),this.button.innerHTML='\n                <svg fill="#4f6ba5" width="60" height="60" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">\n                    <path d="M19,6 L19,18.5 C19,19.8807119 17.8807119,21 16.5,21 L7.5,21 C6.11928813,21 5,19.8807119 5,18.5 L5,6 L4.5,6 C4.22385763,6 4,5.77614237 4,5.5 C4,5.22385763 4.22385763,5 4.5,5 L9,5 L9,4.5 C9,3.67157288 9.67157288,3 10.5,3 L13.5,3 C14.3284271,3 15,3.67157288 15,4.5 L15,5 L19.5,5 C19.7761424,5 20,5.22385763 20,5.5 C20,5.77614237 19.7761424,6 19.5,6 L19,6 Z M6,6 L6,18.5 C6,19.3284271 6.67157288,20 7.5,20 L16.5,20 C17.3284271,20 18,19.3284271 18,18.5 L18,6 L6,6 Z M14,5 L14,4.5 C14,4.22385763 13.7761424,4 13.5,4 L10.5,4 C10.2238576,4 10,4.22385763 10,4.5 L10,5 L14,5 Z M14,9.5 C14,9.22385763 14.2238576,9 14.5,9 C14.7761424,9 15,9.22385763 15,9.5 L15,16.5 C15,16.7761424 14.7761424,17 14.5,17 C14.2238576,17 14,16.7761424 14,16.5 L14,9.5 Z M9,9.5 C9,9.22385763 9.22385763,9 9.5,9 C9.77614237,9 10,9.22385763 10,9.5 L10,16.5 C10,16.7761424 9.77614237,17 9.5,17 C9.22385763,17 9,16.7761424 9,16.5 L9,9.5 Z"></path>\n                </svg>\n            ',this.button.className="delete-page-icon",this.button.title="Delete Page",this.button.setAttribute("data-id",e.PageId),this.button.addEventListener("click",(e=>this.handleDelete(e))),e.IsPredefined||t.insertBefore(this.button,t.firstChild))}handleDelete(e){e.preventDefault(),e.target.dataset.id;const t=document.createElement("div"),A=document.createElement("div");A.classList.add("popup-body"),A.id="confirmation_modal_message",A.innerText="Are you sure you want to delete this page?";const n=document.createElement("div");n.classList.add("popup-footer");const i=document.createElement("button");i.id="yes_delete",i.classList.add("tb-btn","tb-btn-primary"),i.innerText="Delete";const r=document.createElement("button");r.id="close_popup",r.classList.add("tb-btn","tb-btn-outline"),r.innerText="Cancel",n.appendChild(i),n.appendChild(r),t.appendChild(A),t.appendChild(n);const o=new l({title:"Delete Page",width:"100",body:t});o.open(),r.addEventListener("click",(e=>{o.close()})),i.addEventListener("click",(e=>{this.toolboxService.deletePage(this.appVersion.appVersion.AppVersionId,this.pageData.PageId).then((e=>{e.error.message?new a("error",e.error.message):(o.close(),localStorage.removeItem(`data-${this.pageData.PageId}`),(new h).refreshVersion(),(new Rl).removeEditor())}))}))}}class Gl{constructor(e){this.pageId=e}updateTime(){const e=new Date;let t=e.getHours();const A=t>=12?"PM":"AM";return t%=12,t=t||12,`${t}:${e.getMinutes().toString().padStart(2,"0")} ${A}`}}class Wl{constructor(){this.container=document.createElement("div"),this.init()}init(){this.container.classList.add("header");const e=new Gl("clock"),t=document.createElement("span");t.id="clock",t.textContent=e.updateTime();const A=document.createElement("span");A.classList.add("icons");const n=document.createElement("i");n.classList.add("fas","fa-signal");const i=document.createElement("i");i.classList.add("fas","fa-wifi");const r=document.createElement("i");r.classList.add("fas","fa-battery"),A.appendChild(n),A.appendChild(i),A.appendChild(r),this.container.appendChild(t),this.container.appendChild(A)}render(e){e.appendChild(this.container)}}class Zl{constructor(){this.container=document.createElement("div"),this.editor=new ec,this.init()}init(){this.container.classList.add("home-app-bar");const e=document.createElement("div");e.classList.add("logo-added");const t=document.createElement("img");t.src=this.editor.organisationLogo||"/Resources/ComfortaLogo1.png",t.style.height="35px",e.appendChild(t);const A=document.createElement("div");A.classList.add("profile-section"),A.style.display="flex",A.innerHTML='\n            <svg xmlns="http://www.w3.org/2000/svg" width="16" height="18" viewBox="0 0 19.422 21.363">\n                <path id="Path_1327" data-name="Path 1327" d="M15.711,5a6.8,6.8,0,0,0-3.793,12.442A9.739,9.739,0,0,0,6,26.364H7.942a7.769,7.769,0,1,1,15.537,0h1.942A9.739,9.739,0,0,0,19.5,17.442,6.8,6.8,0,0,0,15.711,5Zm0,1.942A4.855,4.855,0,1,1,10.855,11.8,4.841,4.841,0,0,1,15.711,6.942Z" transform="translate(-6 -5)" fill="#fff"></path>\n            </svg>\n        ',this.container.appendChild(e),this.container.appendChild(A)}render(e){e.appendChild(this.container)}}class zl{constructor(e,t,A=!1){this.pageTitle=null,this.editHeader=null,this.titleDiv=null,this.isInEditMode=!1,this.isTitleSaved=!1,this.frameContainer=null,this.title=t||"Untitled",this.originalTitle=this.title,this.id=e,this.isNewPage=A,this.isTitleSaved=!A&&"Untitled"!==t&&""!==t&&void 0!==t,this.container=document.createElement("div"),this.editor=new ec,this.editorWidth=globalThis.deviceWidth,this.init()}init(){this.container.classList.add("app-bar");const e=document.createElement("div");e.innerHTML='\n        <svg class="content-back-button" xmlns="http://www.w3.org/2000/svg" data-name="Group 14" width="47" height="47" viewBox="0 0 47 47">\n            <g id="Ellipse_6" data-name="Ellipse 6" fill="none" stroke="#262626" stroke-width="1">\n            <circle cx="23.5" cy="23.5" r="23.5" stroke="none"></circle>\n            <circle cx="23.5" cy="23.5" r="23" fill="none"></circle>\n            </g>\n            <path id="Icon_ionic-ios-arrow-round-up" data-name="Icon ionic-ios-arrow-round-up" d="M13.242,7.334a.919.919,0,0,1-1.294.007L7.667,3.073V19.336a.914.914,0,0,1-1.828,0V3.073L1.557,7.348A.925.925,0,0,1,.263,7.341.91.91,0,0,1,.27,6.054L6.106.26h0A1.026,1.026,0,0,1,6.394.07.872.872,0,0,1,6.746,0a.916.916,0,0,1,.64.26l5.836,5.794A.9.9,0,0,1,13.242,7.334Z" transform="translate(13 30.501) rotate(-90)" fill="#262626"></path>\n        </svg>\n        ';const t=e.firstElementChild,A=document.querySelector(".editor-thumbs-list");null==t||t.addEventListener("click",(e=>{var t,n,i,r,o,s;e.preventDefault(),e.stopPropagation();const a=document.querySelector(`#${this.id}-frame`),l=null==a?void 0:a.previousElementSibling;if(l&&(null==l?void 0:l.classList.contains("mobile-frame"))&&(globalThis.pageId=l.dataset.pageid,globalThis.uiManager.activateEditor(l.id.replace("-frame",""))),a){let e=a.nextElementSibling;for(;e;){const r=e;e=e.nextElementSibling;const o=A.querySelector(`div[id="${r.id}"]`);o&&(null===(i=null===(n=null===(t=o.parentElement)||void 0===t?void 0:t.parentElement)||void 0===n?void 0:n.parentElement)||void 0===i||i.remove()),r.remove()}const l=A.querySelector(`div[id="${a.id}"]`);l&&(null===(s=null===(o=null===(r=l.parentElement)||void 0===r?void 0:r.parentElement)||void 0===o?void 0:o.parentElement)||void 0===s||s.remove()),a.remove(),(new Rl).activateNavigators()}}));const n=document.createElement("div");n.classList.add("appbar-title-container"),this.titleDiv=n;const i=document.createElement("h1");i.className="title";const r=this.editorWidth&&this.editorWidth<=300?18:23,o=this.title.length>r?this.title.substring(0,r)+"...":this.title;i.setAttribute("title",this.title||"Untitled"),i.textContent=o||"Untitled",this.pageTitle=i,this.pageTitle.setAttribute("data-placeholder","Enter page title");const s=document.createElement("div");s.classList.add("icon-container");const a=document.createElementNS("http://www.w3.org/2000/svg","svg");a.id="edit_page_title",a.setAttribute("width","14px"),a.setAttribute("height","14px"),a.setAttribute("viewBox","0 0 24 24"),a.setAttribute("fill","none"),a.setAttribute("xmlns","http://www.w3.org/2000/svg"),a.innerHTML='\n            <path fill-rule="evenodd" clip-rule="evenodd" d="M18.4324 4C18.2266 4 18.0227 4.04055 17.8325 4.11933C17.6423 4.19811 17.4695 4.31358 17.3239 4.45914L5.25659 16.5265L4.42524 19.5748L7.47353 18.7434L19.5409 6.67608C19.6864 6.53051 19.8019 6.3577 19.8807 6.16751C19.9595 5.97732 20 5.77348 20 5.56761C20 5.36175 19.9595 5.1579 19.8807 4.96771C19.8019 4.77752 19.6864 4.60471 19.5409 4.45914C19.3953 4.31358 19.2225 4.19811 19.0323 4.11933C18.8421 4.04055 18.6383 4 18.4324 4ZM17.0671 2.27157C17.5 2.09228 17.9639 2 18.4324 2C18.9009 2 19.3648 2.09228 19.7977 2.27157C20.2305 2.45086 20.6238 2.71365 20.9551 3.04493C21.2864 3.37621 21.5492 3.7695 21.7285 4.20235C21.9077 4.63519 22 5.09911 22 5.56761C22 6.03611 21.9077 6.50003 21.7285 6.93288C21.5492 7.36572 21.2864 7.75901 20.9551 8.09029L8.69996 20.3454C8.57691 20.4685 8.42387 20.5573 8.25597 20.6031L3.26314 21.9648C2.91693 22.0592 2.54667 21.9609 2.29292 21.7071C2.03917 21.4534 1.94084 21.0831 2.03526 20.7369L3.39694 15.7441C3.44273 15.5762 3.53154 15.4231 3.6546 15.3001L15.9097 3.04493C16.241 2.71365 16.6343 2.45086 17.0671 2.27157Z" fill="#5068a8"></path>\n        ',this.editHeader=a,s.appendChild(a),a.addEventListener("click",(()=>this.enterEditMode())),i.addEventListener("dblclick",(()=>this.enterEditMode())),i.addEventListener("input",(()=>{if(this.pageTitle){const e=this.pageTitle.textContent||"";this.pageTitle.title=e,this.title=e,this.updatePlaceholderVisibility(),this.updateFrameContainerHoverState(),this.updateAddNewInfoSectionVisibility()}})),i.addEventListener("blur",(()=>{var e,t;if(this.isInEditMode){const A=(null===(t=null===(e=this.pageTitle)||void 0===e?void 0:e.textContent)||void 0===t?void 0:t.trim())||"";""!==A&&"Untitled"!==A?this.saveTitle():this.resetTitle()}})),i.addEventListener("keydown",(e=>{var t,A,n,i;if("Enter"===e.key){e.preventDefault();const i=(null===(A=null===(t=this.pageTitle)||void 0===t?void 0:t.textContent)||void 0===A?void 0:A.trim())||"";""!==i&&"Untitled"!==i?this.saveTitle():this.resetTitle(),null===(n=this.pageTitle)||void 0===n||n.blur()}else"Escape"===e.key&&(e.preventDefault(),this.resetTitle(),null===(i=this.pageTitle)||void 0===i||i.blur())})),document.addEventListener("click",(e=>{var t,A;const n=e.target;if(this.isInEditMode&&this.shouldResetTitle(n)){const e=(null===(A=null===(t=this.pageTitle)||void 0===t?void 0:t.textContent)||void 0===A?void 0:A.trim())||"";""!==e&&"Untitled"!==e?this.saveTitle():this.resetTitle()}})),t&&this.container.appendChild(t),n.appendChild(i),n.appendChild(s),this.container.appendChild(n)}updatePlaceholderVisibility(){var e;if(!this.pageTitle)return;const t=(null===(e=this.pageTitle.textContent)||void 0===e?void 0:e.trim())||"",A=this.pageTitle.getAttribute("data-placeholder")||"";this.isInEditMode&&""===t&&A?this.pageTitle.setAttribute("data-empty","true"):this.pageTitle.removeAttribute("data-empty")}enterEditMode(){if(this.pageTitle){this.isInEditMode=!0,this.originalTitle=this.pageTitle.title,this.pageTitle.contentEditable="true",this.pageTitle.textContent=this.title.toLowerCase()==="Untitled".toLowerCase()||this.isNewPage?"":this.pageTitle.title,this.updatePlaceholderVisibility(),this.pageTitle.focus();const e=document.createRange();e.selectNodeContents(this.pageTitle),e.collapse(!1);const t=window.getSelection();null==t||t.removeAllRanges(),null==t||t.addRange(e),this.pageTitle.style.outline="none",this.pageTitle.style.whiteSpace="nowrap",this.pageTitle.style.overflow="hidden",this.pageTitle.style.textOverflow="clip",this.editHeader&&this.titleDiv&&(this.editHeader.style.display="none",this.titleDiv.style.borderWidth="1px"),this.updateFrameContainerHoverState(),this.updateAddNewInfoSectionVisibility()}}shouldResetTitle(e){var t;return!!this.isInEditMode&&!(e===this.editHeader||e===this.pageTitle||e===this.titleDiv||(null===(t=this.titleDiv)||void 0===t?void 0:t.contains(e))||e.closest&&e.closest(".appbar-title-container"))}saveTitle(){var e;if(!this.pageTitle)return;const t=(null===(e=this.pageTitle.textContent)||void 0===e?void 0:e.trim())||"";t&&"Untitled"!==t&&""!==t&&((new h).updatePageTitle(t),this.title=t,this.originalTitle=this.title,this.isTitleSaved=!0,this.isNewPage=!1,this.resetTitle(!0),this.refreshPage(),this.updateSideBarTitle(this.title),this.updateAddNewInfoSectionVisibility(),this.updateFrameContainerHoverState())}updateSideBarTitle(e){console.log("title",e);const t=document.getElementById("page-info-title");if(t){const A=t.querySelector("h3");A&&(A.textContent=e)}}updateFrameContainerHoverState(){const e=this.captureFrameContainer();e&&(this.frameContainer=e,this.title.toLowerCase()==="Untitled".toLowerCase()||!this.isTitleSaved||this.isInEditMode?(e.style.pointerEvents="none",e.style.opacity="0.5"):(e.style.pointerEvents="auto",e.style.opacity="1"))}updateAddNewInfoSectionVisibility(){const e=this.captureFrameContainer();if(e){const t=e.querySelectorAll(".info-section-spacing-container");if(t.length){const e=!this.isTitleSaved||this.isInEditMode||this.title.toLowerCase()==="Untitled".toLowerCase()||""===this.title.trim();t.forEach((t=>{console.log("shouldDisableButtons",e),t.style.pointerEvents=e?"none":"auto"}))}}}resetTitle(e=!1){if(!this.pageTitle||!this.editHeader||!this.titleDiv)return;this.isInEditMode=!1,this.pageTitle.contentEditable="false",this.editHeader.style.display="block",this.titleDiv.style.removeProperty("border-width"),this.pageTitle.style.whiteSpace="",this.pageTitle.style.overflow="",this.pageTitle.style.textOverflow="",this.updatePlaceholderVisibility(),e||(this.title=this.originalTitle,this.pageTitle.title=this.originalTitle,this.title.toLowerCase()==="Untitled".toLowerCase()&&(this.isTitleSaved=!1,this.pageTitle&&(this.pageTitle.style.outline="#d0030378 dashed 1px")));const t=this.editorWidth&&this.editorWidth<=300?18:23,A=this.title;A.length>t?this.pageTitle.textContent=A.substring(0,t)+"..":this.pageTitle.textContent=A,this.updateFrameContainerHoverState(),this.updateAddNewInfoSectionVisibility()}refreshPage(){const e=this.captureFrameContainer();if(e){const t=e.querySelector(".untitled-page");t&&t.classList.remove("untitled-page")}}captureFrameContainer(){var e;const t=document.querySelector(`#${this.id}-frame`);if(!t)return console.warn("Frame wrapper div not found"),null;const A=t.querySelector("iframe");if(!A)return console.warn("Iframe not found inside wrapper"),null;const n=A.contentDocument||(null===(e=A.contentWindow)||void 0===e?void 0:e.document);if(!n)return console.warn("Unable to access iframe document"),null;const i=n.getElementById("frame-container");return i||console.warn("'frame-container' not found inside iframe"),i}render(e){e.appendChild(this.container),setTimeout((()=>{this.updateAddNewInfoSectionVisibility(),this.updateFrameContainerHoverState(),(this.isNewPage||this.title.toLowerCase()==="Untitled".toLowerCase())&&this.enterEditMode()}),0)}}class Jl{constructor(e,t=!1,A,n,i=!1){this.isNewPage=!1,this.container=document.createElement("div"),this.id=e,this.isHome=t,this.pageName=n,this.pageData=A,this.isNewPage=i,this.init()}init(){this.container.className="mobile-frame",this.container.id=`${this.id}-frame`,this.container.setAttribute("data-pageid",this.pageData.PageId),(new Wl).render(this.container),(this.isHome?new Zl:new zl(this.id,this.pageName,this.isNewPage)).render(this.container);const e=document.createElement("div");e.id=this.id,this.container.appendChild(e),new ql(this.pageData,this.container)}render(e){e.appendChild(this.container)}}class Xl{constructor(e,t){this.editorId=e,this.pageData=t,this.container=document.createElement("div"),this.init()}init(){this.container.style.justifyContent="center",this.container.className="frame-list",this.container.id="child-container",new Jl(`${this.editorId}`,!0,this.pageData).render(this.container)}render(e){e.appendChild(this.container)}}var Yl=function(e,t,A,n){return new(A||(A=Promise))((function(i,r){function o(e){try{a(n.next(e))}catch(e){r(e)}}function s(e){try{a(n.throw(e))}catch(e){r(e)}}function a(e){var t;e.done?i(e.value):(t=e.value,t instanceof A?t:new A((function(e){e(t)}))).then(o,s)}a((n=n.apply(e,t||[])).next())}))};class ec{constructor(){this.editors=[],this.config=t.getInstance(),this.organisationLogo=this.config.organisationLogo,this.appVersion=new h,this.themeManager=new Os,this.toolboxService=new s,this.editorEvents=new Rl,this.jsonToGrapes=new pa(this)}init(e){return Yl(this,void 0,void 0,(function*(){const t=e||(yield this.appVersion.getActiveVersion());globalThis.activeVersion=t,this.homepage=null==t?void 0:t.Pages.find((e=>"Home"===e.PageName)),document.getElementById("main-content").innerHTML="",this.setUpEditorFrame(),this.setUpEditor(),this.editorEvents.activateEditor("gjs-0")}))}setUpEditorFrame(){const e=new Xl("gjs-0",this.homepage),t=document.createElement("div");t.style.justifyContent="center",t.style.display="flex",t.style.flexDirection="row",t.style.alignItems="center",t.style.gap="0.4rem",t.className="editor-thumbs-list",t.id="editor-thumbs-list";const A=document.getElementById("main-content"),n=document.createElement("div");n.className="editor-main-section",n.style.display="flex",n.style.justifyContent="center",n.style.alignItems="center",n.style.flexDirection="column",n.style.width="100%",e.render(n),n.appendChild(t),A.appendChild(n),this.setClientWidth(e.container)}setClientWidth(e){const t=e.querySelector(".mobile-frame");t&&(globalThis.deviceWidth=t.clientWidth,globalThis.deviceHeight=t.clientHeight)}setUpEditor(){return Yl(this,void 0,void 0,(function*(){const e=this.initializeGrapesEditor("gjs-0");window.app.editors["gjs-0"]=e,this.finalizeEditorSetup(e),yield this.loadHomePage(e),this.activateHomeEditor("gjs-0",e);const t=this.themeManager.getThemeById(globalThis.activeVersion.ThemeId);this.themeManager.setTheme(t)}))}loadHomePage(e){return Yl(this,void 0,void 0,(function*(){var t;let A;A="Information"==this.homepage.PageType?new wa(this.homepage):new pa(this.homepage);const n=A.generateHTML();e.setComponents(n),this.editorEvents.init(e,this.homepage,"gjs-0",!0),localStorage.setItem(`data-${null===(t=this.homepage)||void 0===t?void 0:t.PageId}`,JSON.stringify(this.homepage)),(new cl).unDoReDo()}))}initializeGrapesEditor(e){return grapesjs.init({container:`#${e}`,fromElement:!0,height:"100%",width:"auto",canvas:{styles:["/Resources/UCGrapes/public/css/toolbox.css","/DVelop/Bootstrap/Shared/fontawesome_vlatest/css/all.min.css?202521714271081","https://fonts.googleapis.com/css2?family=Inter:opsz@14..32&family=Roboto:ital,wght@0,100..900;1,100..900&display=swap"]},baseCss:" ",dragMode:"normal",panels:{defaults:[]},sidebarManager:!1,storageManager:!1,modal:!1,commands:!1,hoverable:!1,highlightable:!1,selectable:!1,richTextEditor:{}})}finalizeEditorSetup(e){e.getWrapper().set({selectable:!1,droppable:!1,draggable:!1,hoverable:!1});const t=e.Canvas.getElement();t&&t.style.setProperty("height","calc(100% - 110px)","important");const A=e.Canvas.getBody();A&&A.style.setProperty("background-color","#EFEEEC","important")}activateHomeEditor(e,t){document.getElementById(`${e}-frame`).classList.add("active-editor")}loadPageHistory(e){new dl(null==e?void 0:e.PageId).addState(e)}}const tc=class{constructor(){this.config=t.getInstance(),this.toolboxManager=new cl,this.editor=new ec,this.config.isInitialized||console.error("ToolboxApp created before AppConfig was initialized!"),this.initialiseLocalisation(),this.initialise()}initialise(){this.toolboxManager.setUpNavBar(),this.toolboxManager.setUpSideBar(),this.editor.init()}initialiseLocalisation(){"Dutch"==this.config.currentLanguage?Me.locale="nl":Me.locale="en"}};class Ac{constructor(e,A,n,i,r,o,s,a,l,c,d,u){this.editors={},this.currentVersion=a,this.currentThemeId=s,this.suppliers=n,this.forms=r,t.getInstance().init(e,A,n,i,r,o,s,a,l,c,d,u),window.app=this,this.toolboxApp=new tc}static createWithVersion(e,A){const n=t.getInstance();if(!n.themes||!n.services)throw new Error("AppConfig must be initialized before calling createWithVersion.");n.setInitialization(!1);const i=document.getElementById("tb-body");return i&&(i.outerHTML=Ac.getFreshTBBodyHTML()),new Ac(n.UC,n.themes,n.suppliers,n.services,n.forms,n.media,A||n.currentThemeId,e,n.organisationLogo,n.currentLanguage,n.addServiceButtonEvent,n.addTemplatesButtonEvent)}static getFreshTBBodyHTML(){return'\n    <div id="tb-body">\n      <div class="tb-navbar" id="tb-navbar">\n        <div class="navbar-buttons" id="navbar-buttons-left"></div>\n        <div class="navbar-buttons" id="navbar-buttons"></div>\n      </div>\n      <div class="tb-container">\n        <div class="main-content" id="main-content"></div>\n        <div class="sidebar sidebar-right" id="tb-sidebar">\n          <div id="page-info-title"></div>\n          <div id="page-info-section"></div>\n          <div id="tools-section"></div>\n          <div id="mapping-section" style="display: none;">\n            <div class="mapping-header">\n              <h3><span id="sidebar_mapping_title"></span></h3>\n            </div>\n            <div class="sidebar-section">\n              <div id="tree-container" class="tb-list-container"></div>\n            </div>\n          </div>\n        </div>\n        <div class="tb-alerts-container" id="tb-alerts-container"></div>\n      </div>\n    </div>\n  '}}window.App=Ac})()})();